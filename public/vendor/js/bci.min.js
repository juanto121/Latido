/**
 * bci.js v1.6.5
 * https://github.com/pwstegman/bci.js
 *
 * License: MIT
 * Generated 2019-11-09T19:46:57Z
 */

!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).bci=r()}}(function(){var define,module,exports;return function(){return function r(t,e,n){function i(a,u){if(!e[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[a]={exports:{}};t[a][0].call(f.exports,function(r){return i(t[a][1][r]||r)},f,f.exports,r,t,e,n)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}}()({1:[function(r,t,e){"use strict";t.exports.csp=r("./lib/compat/csp.js"),t.exports.f1score=r("./lib/compat/f1score.js"),t.exports.lda=r("./lib/compat/lda.js"),t.exports.signal=r("./lib/compat/signal.js"),t.exports.partition=r("./lib/data/partition.js"),t.exports.round=r("./lib/data/round.js"),t.exports.subscript=r("./lib/data/subscript.js"),t.exports.toFixed=r("./lib/data/toFixed.js"),t.exports.toTable=r("./lib/data/toTable.js"),t.exports.windowApply=r("./lib/data/windowApply.js"),t.exports.averageBandPowers=r("./lib/math/averageBandPowers.js"),t.exports.cspLearn=r("./lib/math/cspLearn.js"),t.exports.cspProject=r("./lib/math/cspProject.js"),t.exports.fastICA=r("./lib/math/fastICA.js"),t.exports.features=r("./lib/math/features.js"),t.exports.generateSignal=r("./lib/math/generateSignal.js"),t.exports.ldaClassify=r("./lib/math/ldaClassify.js"),t.exports.ldaLearn=r("./lib/math/ldaLearn.js"),t.exports.ldaProject=r("./lib/math/ldaProject.js"),t.exports.nextpow2=r("./lib/math/nextpow2.js"),t.exports.psd=r("./lib/math/psd.js"),t.exports.psdBandPower=r("./lib/math/psdBandPower.js"),t.exports.signalBandPower=r("./lib/math/signalBandPower.js"),t.exports.transpose=r("./lib/math/transpose.js"),t.exports.accuracy=r("./lib/metrics/accuracy.js"),t.exports.balancedAccuracy=r("./lib/metrics/balancedAccuracy.js"),t.exports.confusionMatrix=r("./lib/metrics/confusionMatrix.js"),t.exports.f1=r("./lib/metrics/f1.js"),t.exports.mcc=r("./lib/metrics/mcc.js"),t.exports.precision=r("./lib/metrics/precision.js"),t.exports.recall=r("./lib/metrics/recall.js"),t.exports.specificity=r("./lib/metrics/specificity.js"),t.exports.wait=r("./lib/network/wait.js"),e.LDA=e.lda,e.csp=e.signal.CSP},{"./lib/compat/csp.js":2,"./lib/compat/f1score.js":3,"./lib/compat/lda.js":4,"./lib/compat/signal.js":5,"./lib/data/partition.js":6,"./lib/data/round.js":7,"./lib/data/subscript.js":8,"./lib/data/toFixed.js":9,"./lib/data/toTable.js":10,"./lib/data/windowApply.js":11,"./lib/math/averageBandPowers.js":12,"./lib/math/cspLearn.js":13,"./lib/math/cspProject.js":14,"./lib/math/fastICA.js":15,"./lib/math/features.js":16,"./lib/math/generateSignal.js":17,"./lib/math/ldaClassify.js":18,"./lib/math/ldaLearn.js":19,"./lib/math/ldaProject.js":20,"./lib/math/nextpow2.js":21,"./lib/math/psd.js":22,"./lib/math/psdBandPower.js":23,"./lib/math/signalBandPower.js":24,"./lib/math/transpose.js":25,"./lib/metrics/accuracy.js":26,"./lib/metrics/balancedAccuracy.js":27,"./lib/metrics/confusionMatrix.js":28,"./lib/metrics/f1.js":29,"./lib/metrics/mcc.js":30,"./lib/metrics/precision.js":31,"./lib/metrics/recall.js":32,"./lib/metrics/specificity.js":33,"./lib/network/wait.js":34}],2:[function(r,t,e){"use strict";var n=r("pw-csp");t.exports=n},{"pw-csp":234}],3:[function(r,t,e){"use strict";t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");var t=r[0][0]/(r[0][0]+r[1][0]),e=r[0][0]/(r[0][0]+r[0][1]);return 2*e*t/(e+t)}},{}],4:[function(r,t,e){"use strict";var n=r("pw-lda");t.exports=n},{"pw-lda":235}],5:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/type/bignumber")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/trigonometry")),n.import(r("mathjs/lib/function/matrix"));var i=r("fft.js"),o={};var a={delta:[1,3],theta:[4,7],alpha:[8,12],beta:[13,30],gamma:[31,50]};function u(r,t,e){this.size=r,this.length=0,this.callback=e,this.channels=[];for(var n=0;n<t;n++)this.channels.push([])}u.prototype.addData=function(r){for(var t=0;t<r.length;t++)this.channels[t].push(r[t]);this.length+=1,this.length>=this.size&&(this.callback(this.channels),this.clear())},u.prototype.clear=function(){this.length=0;for(var r=0;r<this.channels.length;r++)this.channels[r]=[]},e.EEGWindow=u,e.generate=function(r,t,e,i){for(var o=n.range(0,i,1/e),a=n.zeros(o.size()[0]),u=0;u<r.length;u++)a=n.add(a,n.multiply(r[u],n.sin(n.multiply(2*Math.PI*t[u],o))));return a.toArray()},e.getPSD=function(r,t){if(o.hasOwnProperty(r))var e=o[r];else e=new i(r),o[r]=e;var n=e.createComplexArray();return e.realTransform(n,t),function(r,t){for(var e=[],n=0;n<r;n+=2)e.push(Math.sqrt(t[n]*t[n]+t[n+1]*t[n+1]));return e}(r,n)},e.getBandPower=function(r,t,e,n){("string"==typeof n||n instanceof String)&&(n=a[n]);for(var i=Math.ceil(n[0]/e*r),o=Math.floor(n[1]/e*r),u=0,s=i;s<o+1;s++)u+=t[s];return u/(o-i+1)},e.CSP=r("./csp.js")},{"./csp.js":2,"fft.js":44,"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/function/trigonometry":162,"mathjs/lib/type/bignumber":181,"mathjs/lib/type/matrix":197}],6:[function(r,t,e){"use strict";t.exports=function(r){for(var t=[],e=0,n=0,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach(function(i){n+=i;var o=Math.round(n*r.length);t.push(r.slice(e,o)),e=o}),t}},{}],7:[function(r,t,e){"use strict";t.exports=function(r,t){return function r(e){return e.map(function(e){return"number"==typeof e?parseFloat(e.toFixed(t)):r(e)})}(r)}},{}],8:[function(r,t,e){"use strict";function n(r){return function(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.exports=function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return function r(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];var a=function(r,t){var e,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"python";t=t.split(" ");var o=[];return t.forEach(function(t){t.indexOf(":");var e=t.split(":");e.length>2||""==t?console.error("Invalid subscript string"):(""==e[1]&&(e[1]=r.length),e=e.map(Number),"matlab"!=i&&"mat"!=i||(e[0]>0&&(e[0]-=1),-1==e[1]&&(e[1]=r.length),e[1]<0&&(e[1]+=1)),1==e.length&&e.push(e[0]+1),o.push(r.slice.apply(r,n(e))))}),(e=[]).concat.apply(e,o)}(t,i.shift(),"matlab");if(0!=i.length)for(var u=0;u<a.length;u++)a[u]=r.apply(void 0,[a[u]].concat(i));return a}.apply(void 0,[r].concat(e))}},{}],9:[function(r,t,e){"use strict";t.exports=function(r,t){return function r(e){return e.map(function(e){return"number"==typeof e?e.toFixed(t):r(e)})}(r)}},{}],10:[function(r,t,e){"use strict";var n=r("easy-table");r("./toFixed.js");t.exports=function(r){return n.print(r)}},{"./toFixed.js":9,"easy-table":42}],11:[function(r,t,e){"use strict";t.exports=function(r,t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];-1==n&&(n=e);for(var o=[],a=0;a<r.length;a+=n){var u=r.slice(a,a+e);(i||u.length==e)&&o.push(t(u))}return o}},{}],12:[function(r,t,e){"use strict";var n=r("./transpose.js"),i=r("./signalBandPower.js");t.exports=function(r,t,e){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new Array(e.length),u=0;u<e.length;u++)a[u]=0;for(var s=n(r),c=0;c<s.length;c++)for(var f=0;f<e.length;f++){var l=i(s[c],t,e[f],o);a[f]+=l}for(var m=0;m<e.length;m++)a[m]=a[m]/s.length;return a}},{"./signalBandPower.js":24,"./transpose.js":25}],13:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/matrix"));var i=r("numeric"),o=r("pw-stat");t.exports=function(r,t){var e=o.cov(r),a=o.cov(t);return{V:i.eig(n.multiply(n.inv(n.add(e,a)),e)).E.x}}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/type/matrix":197,numeric:233,"pw-stat":236}],14:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),t.exports=function(r,t,e){var i=n.multiply(t,r.V);e=void 0!==e?e:i[0].length;for(var o=[],a=0;a<i.length;a++){o.push([]);for(var u=0;u<e;u++){if(u%2==0)var s=u/2;else s=i[0].length-(u+1)/2;o[a].push(i[a][s])}}return o}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/type/matrix":197}],15:[function(r,t,e){"use strict";function n(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if(!(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r)))return;var e=[],n=!0,i=!1,o=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);n=!0);}catch(r){i=!0,o=r}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=r("mathjs/core").create();i.import(r("mathjs/lib/type/matrix")),i.import(r("mathjs/lib/type/complex")),i.import(r("mathjs/lib/function/arithmetic")),i.import(r("mathjs/lib/function/matrix")),i.import(r("mathjs/lib/function/statistics")),i.import(r("mathjs/lib/function/probability")),i.import(r("mathjs/lib/function/utils")),i.import(r("mathjs/lib/function/trigonometry"));var o=r("numeric"),a=r("pw-stat");t.exports=function(r,t){var e=Object.assign({maxIterations:1e3,debug:!1,fun:"logcosh"},t),u=e.maxIterations,s=e.debug,c=e.fun,f={logcosh:{g:function(r){return i.tanh(r)},gp:function(r){return i.subtract(1,i.dotPow(i.tanh(r),2))}},exp:{g:function(r){return i.dotMultiply(r,i.exp(i.dotDivide(i.dotPow(r,2),-2)))},gp:function(r){return i.dotMultiply(i.subtract(1,i.dotPow(r,2)),i.exp(i.dotDivide(i.dotPow(r,2),-2)))}}};if(!f.hasOwnProperty(c))throw new Error("Negentropy approximation function must be either 'exp' or 'logcosh'");var l=o.eig(a.cov(i.transpose(r))),m=l.E.x,h=l.lambda.x;h=i.abs(h);for(var p=i.mean(r,1),g=[],y=0;y<r.length;y++){g.push([]);for(var d=0;d<r[y].length;d++)g[y].push(r[y][d]-p[y])}for(var v=i.multiply(i.diag(h.map(function(r){return i.pow(r,-.5)})),i.transpose(m)),x=i.multiply(v,g),b=f[c].g,w=f[c].gp,M=n(i.size(x),2),A=M[0],N=M[1],_=A,E=[],S=0;S<_;S++)E.push(i.random([A]));for(var j=[],B=0;B<_;B++){var T=i.clone(E[B]);s&&console.log((new Date).toLocaleTimeString(),"Computing component",B+1,"/",_);for(var z=!1,C=0;C<u;C++){var O=T,k=E[B],I=i.dot(O,k)/(i.norm(O)*i.norm(k)),P=1-i.abs(I);if(T=k,s&&0==C&&console.log((new Date).toLocaleTimeString(),"On iteration",C+1,"/",u),s&&(C+1)%10==0&&console.log((new Date).toLocaleTimeString(),"On iteration",C+1,"/",u,"with a change of",Math.acos(Math.abs(I)),"rad"),0!=C&&P<5e-11){j.push(C),z=!0,s&&console.log((new Date).toLocaleTimeString(),"Converged on iteration",C);break}E[B]=i.transpose(i.subtract(i.multiply(1/N,x,i.transpose(b(i.multiply(E[B],x)))),i.multiply(1/N,i.sum(w(i.multiply(E[B],x))),i.transpose(E[B]))));for(var F=0;F<B;F++)E[B]=i.subtract(E[B],i.multiply(E[B],i.transpose(E[F]),E[F]));E[B]=i.divide(E[B],i.norm(E[B]))}z||(j.push(u),s&&console.log("Stopped at maxIterations before converged"))}return{source:i.multiply(E,x),weights:E,whitening:v,iterations:j}}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/function/probability":118,"mathjs/lib/function/statistics":131,"mathjs/lib/function/trigonometry":162,"mathjs/lib/function/utils":170,"mathjs/lib/type/complex":184,"mathjs/lib/type/matrix":197,numeric:233,"pw-stat":236}],16:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/matrix")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/statistics"));r("./signalBandPower.js");var i=r("./transpose.js");t.exports.logvar=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t)return n.log(n.var(r));if(-1==["rows","cols","columns"].indexOf(t))throw"Invalid dimension";return"cols"!=t&&"columns"!=t||(r=i(r)),r.map(function(r){return n.log(n.var(r))})},t.exports.variance=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t)return n.log(n.var(r));if(-1==["rows","cols","columns"].indexOf(t))throw"Invalid dimension";return"cols"!=t&&"columns"!=t||(r=i(r)),r.map(function(r){return n.var(r)})},t.exports.rootMeanSquare=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null==t)return n.sqrt(n.mean(n.square(r)));if(-1==["rows","cols","columns"].indexOf(t))throw"Invalid dimension";return"cols"!=t&&"columns"!=t||(r=i(r)),r.map(function(r){return n.sqrt(n.mean(n.square(r)))})}},{"./signalBandPower.js":24,"./transpose.js":25,"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/function/statistics":131,"mathjs/lib/type/matrix":197}],17:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/type/bignumber")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/matrix")),n.import(r("mathjs/lib/function/trigonometry")),t.exports=function(r,t,e,i){for(var o=n.range(0,i,1/e),a=n.zeros(o.size()[0]),u=0;u<r.length;u++)a=n.add(a,n.multiply(r[u],n.sin(n.multiply(2*Math.PI*t[u],o))));return a.toArray()}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/function/trigonometry":162,"mathjs/lib/type/bignumber":181,"mathjs/lib/type/matrix":197}],18:[function(r,t,e){"use strict";var n=r("./ldaProject");t.exports=function(r,t){var e=n(r,t);if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]=e[i]<0?0:1;else e=e<0?0:1;return e}},{"./ldaProject":20}],19:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/matrix"));var i=r("pw-stat");t.exports=function(r,t){var e=n.transpose(i.mean(r)),o=n.transpose(i.mean(t)),a=n.add(i.cov(r),i.cov(t)),u=n.multiply(n.inv(a),n.subtract(o,e));return{theta:u,b:n.multiply(-1,n.transpose(u),n.add(e,o),.5)}}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/type/matrix":197,"pw-stat":236}],20:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),t.exports=function(r,t){return n.add(n.multiply(t,r.theta),r.b)}},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/type/matrix":197}],21:[function(r,t,e){"use strict";t.exports=function(r){return Math.ceil(Math.log2(Math.abs(r)))}},{}],22:[function(r,t,e){"use strict";var n=r("fft.js"),i=r("./nextpow2.js"),o={};function a(r,t){for(var e=[],n=0;n<t-1;n+=2)e.push(Math.sqrt(r[n]*r[n]+r[n+1]*r[n+1]));return e}t.exports=function(r,t){var e,u=Object.assign({fftSize:Math.pow(2,i(r.length)),truncate:!1},t),s=u.fftSize,c=u.truncate;o.hasOwnProperty(s)?e=o[s]:(e=new n(s),o[s]=e),r.length<s&&(r=r.concat(Array(s-r.length).fill(0)));var f=e.createComplexArray();if(e.realTransform(f,r),c)var l=a(f,f.length/2);else l=a(f,f.length);return l}},{"./nextpow2.js":21,"fft.js":44}],23:[function(r,t,e){"use strict";var n=r("./nextpow2.js");t.exports=function(r,t,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===i&&(i=Math.pow(2,n(r.length))),("string"==typeof e||e instanceof String)&&(e={delta:[1,3],theta:[4,7],alpha:[8,12],beta:[13,30],gamma:[31,50]}[e]);for(var o=Math.floor(e[0]/t*i),a=Math.min(Math.ceil(e[1]/t*i),r.length-1),u=0,s=o;s<a+1;s++)u+=r[s];return u/(a-o+1)}},{"./nextpow2.js":21}],24:[function(r,t,e){"use strict";var n=r("./psd.js"),i=r("./psdBandPower.js"),o=r("./nextpow2.js"),a=r("./transpose.js");t.exports=function(r,t,e,u){"number"==typeof u&&(u={fftSize:u});var s=Object.assign({fftSize:Math.pow(2,o(r.length)),averageChannels:!1},u),c=s.fftSize;function f(r,e){var o=n(r,{fftSize:c});return i(o,t,e,c)}s.averageChannels;var l,m="string"==typeof e||!Array.isArray(e[0])&&"string"!=typeof e[0];if(m&&(e=[e]),Array.isArray(r[0])){var h=r[0].length,p=a(r);l=new Array(e.length);for(var g=0;g<e.length;g++){l[g]=new Array(h);for(var y=0;y<h;y++)l[g][y]=f(p[y],e[g])}}else{l=new Array(e.length);for(var d=0;d<e.length;d++)l[d]=f(r,e[d])}return m?l[0]:l}},{"./nextpow2.js":21,"./psd.js":22,"./psdBandPower.js":23,"./transpose.js":25}],25:[function(r,t,e){"use strict";t.exports=function(r){for(var t=r.length,e=r[0].length,n=0;n<t;n++)if(r[n].length!=e)throw new Error("Array dimension error: must be 2d array with equal row lengths");for(var i=new Array(e),o=0;o<e;o++){i[o]=new Array(t);for(var a=0;a<t;a++)i[o][a]=r[a][o]}return i}},{}],26:[function(r,t,e){"use strict";t.exports=function(r){for(var t=0,e=0;e<r.length;e++)t+=r[e][e];for(var n=0,i=0;i<r.length;i++)for(var o=0;o<r.length;o++)n+=r[i][o];return t/n}},{}],27:[function(r,t,e){"use strict";var n=r("./recall.js"),i=r("./specificity.js");t.exports=function(r){return(n(r)+i(r))/2}},{"./recall.js":32,"./specificity.js":33}],28:[function(r,t,e){"use strict";function n(r){return function(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.exports=function(r,t){if(r.length!=t.length)throw new Error("predictedClasses length must equal actualClasses length");for(var e=Math.max.apply(Math,n(r.concat(t))),i=Array(e+1).fill().map(function(){return Array(e+1).fill(0)}),o=0;o<r.length;o++){var a=r[o];i[t[o]][a]++}return i}},{}],29:[function(r,t,e){"use strict";var n=r("./precision.js"),i=r("./recall.js");t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");var t=n(r),e=i(r);return 2*t*e/(t+e)}},{"./precision.js":31,"./recall.js":32}],30:[function(r,t,e){"use strict";t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");var t=r[0][0],e=r[0][1],n=r[1][0],i=r[1][1];return(i*t-e*n)/Math.sqrt((i+e)*(i+n)*(t+e)*(t+n))}},{}],31:[function(r,t,e){"use strict";t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");return r[1][1]/(r[1][1]+r[0][1])}},{}],32:[function(r,t,e){"use strict";t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");return r[1][1]/(r[1][1]+r[1][0])}},{}],33:[function(r,t,e){"use strict";t.exports=function(r){if(2!=r.length||2!=r[0].length||2!=r[1].length)throw new Error("Confusion matrix must be of size 2x2");return r[0][0]/(r[0][0]+r[0][1])}},{}],34:[function(r,t,e){"use strict";t.exports=function(r){return new Promise(function(t){return setTimeout(t,r)})}},{}],35:[function(r,t,e){"use strict";t.exports=function(){var r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");return new RegExp(r,"g")}},{}],36:[function(r,t,e){"use strict";e.byteLength=function(r){var t=c(r),e=t[0],n=t[1];return 3*(e+n)/4-n},e.toByteArray=function(r){var t,e,n=c(r),a=n[0],u=n[1],s=new o(function(r,t,e){return 3*(t+e)/4-e}(0,a,u)),f=0,l=u>0?a-4:a;for(e=0;e<l;e+=4)t=i[r.charCodeAt(e)]<<18|i[r.charCodeAt(e+1)]<<12|i[r.charCodeAt(e+2)]<<6|i[r.charCodeAt(e+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;2===u&&(t=i[r.charCodeAt(e)]<<2|i[r.charCodeAt(e+1)]>>4,s[f++]=255&t);1===u&&(t=i[r.charCodeAt(e)]<<10|i[r.charCodeAt(e+1)]<<4|i[r.charCodeAt(e+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t);return s},e.fromByteArray=function(r){for(var t,e=r.length,i=e%3,o=[],a=0,u=e-i;a<u;a+=16383)o.push(f(r,a,a+16383>u?u:a+16383));1===i?(t=r[e-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(r[e-2]<<8)+r[e-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],i[a.charCodeAt(u)]=u;function c(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");return-1===e&&(e=t),[e,e===t?0:4-e%4]}function f(r,t,e){for(var i,o,a=[],u=t;u<e;u+=3)i=(r[u]<<16&16711680)+(r[u+1]<<8&65280)+(255&r[u+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],37:[function(r,t,e){(function(t){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("base64-js"),o=r("ieee754"),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=t,e.SlowBuffer=function(r){+r!=r&&(r=0);return t.alloc(+r)},e.INSPECT_MAX_BYTES=50;var u=2147483647;function s(r){if(r>u)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,t.prototype),e}function t(r,t,e){if("number"==typeof r){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(r)}return c(r,t,e)}function c(r,e,i){if("string"==typeof r)return function(r,e){"string"==typeof e&&""!==e||(e="utf8");if(!t.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(r,e),i=s(n),o=i.write(r,e);o!==n&&(i=i.slice(0,o));return i}(r,e);if(ArrayBuffer.isView(r))return m(r);if(null==r)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+n(r));if(D(r,ArrayBuffer)||r&&D(r.buffer,ArrayBuffer))return function(r,e,n){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var i;i=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);return Object.setPrototypeOf(i,t.prototype),i}(r,e,i);if("number"==typeof r)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=r.valueOf&&r.valueOf();if(null!=o&&o!==r)return t.from(o,e,i);var a=function(r){if(t.isBuffer(r)){var e=0|h(r.length),n=s(e);return 0===n.length?n:(r.copy(n,0,0,e),n)}if(void 0!==r.length)return"number"!=typeof r.length||R(r.length)?s(0):m(r);if("Buffer"===r.type&&Array.isArray(r.data))return m(r.data)}(r);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof r[Symbol.toPrimitive])return t.from(r[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+n(r))}function f(r){if("number"!=typeof r)throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function l(r){return f(r),s(r<0?0:0|h(r))}function m(r){for(var t=r.length<0?0:0|h(r.length),e=s(t),n=0;n<t;n+=1)e[n]=255&r[n];return e}function h(r){if(r>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|r}function p(r,e){if(t.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||D(r,ArrayBuffer))return r.byteLength;if("string"!=typeof r)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+n(r));var i=r.length,o=arguments.length>2&&!0===arguments[2];if(!o&&0===i)return 0;for(var a=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return F(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(r).length;default:if(a)return o?-1:F(r).length;e=(""+e).toLowerCase(),a=!0}}function g(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function y(r,e,n,i,o){if(0===r.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),R(n=+n)&&(n=o?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(o)return-1;n=r.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=t.from(e,i)),t.isBuffer(e))return 0===e.length?-1:d(r,e,n,i,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,e,n):Uint8Array.prototype.lastIndexOf.call(r,e,n):d(r,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function d(r,t,e,n,i){var o,a=1,u=r.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(r.length<2||t.length<2)return-1;a=2,u/=2,s/=2,e/=2}function c(r,t){return 1===a?r[t]:r.readUInt16BE(t*a)}if(i){var f=-1;for(o=e;o<u;o++)if(c(r,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(e+s>u&&(e=u-s),o=e;o>=0;o--){for(var l=!0,m=0;m<s;m++)if(c(r,o+m)!==c(t,m)){l=!1;break}if(l)return o}return-1}function v(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(t.substr(2*a,2),16);if(R(u))return a;r[e+a]=u}return a}function x(r,t,e,n){return U(F(t,r.length-e),r,e,n)}function b(r,t,e,n){return U(function(r){for(var t=[],e=0;e<r.length;++e)t.push(255&r.charCodeAt(e));return t}(t),r,e,n)}function w(r,t,e,n){return b(r,t,e,n)}function M(r,t,e,n){return U(q(t),r,e,n)}function A(r,t,e,n){return U(function(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}(t,r.length-e),r,e,n)}function N(r,t,e){return 0===t&&e===r.length?i.fromByteArray(r):i.fromByteArray(r.slice(t,e))}function _(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o,a,u,s,c=r[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=e)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=r[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=r[i+1],a=r[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=r[i+1],a=r[i+2],u=r[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(r){var t=r.length;if(t<=E)return String.fromCharCode.apply(String,r);var e="",n=0;for(;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=E));return e}(n)}e.kMaxLength=u,t.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),42===r.foo()}catch(r){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(r,t,e){return c(r,t,e)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(r,t,e){return function(r,t,e){return f(r),r<=0?s(r):void 0!==t?"string"==typeof e?s(r).fill(t,e):s(r).fill(t):s(r)}(r,t,e)},t.allocUnsafe=function(r){return l(r)},t.allocUnsafeSlow=function(r){return l(r)},t.isBuffer=function(r){return null!=r&&!0===r._isBuffer&&r!==t.prototype},t.compare=function(r,e){if(D(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),D(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var n=r.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(r[o]!==e[o]){n=r[o],i=e[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return t.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;++n)e+=r[n].length;var i=t.allocUnsafe(e),o=0;for(n=0;n<r.length;++n){var a=r[n];if(D(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=p,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)g(this,t,t+1);return this},t.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},t.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},t.prototype.toString=function(){var r=this.length;return 0===r?"":0===arguments.length?_(this,0,r):function(r,t,e){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return B(this,t,e);case"utf8":case"utf-8":return _(this,t,e);case"ascii":return S(this,t,e);case"latin1":case"binary":return j(this,t,e);case"base64":return N(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===t.compare(this,r)},t.prototype.inspect=function(){var r="",t=e.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},a&&(t.prototype[a]=t.prototype.inspect),t.prototype.compare=function(r,e,i,o,a){if(D(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+n(r));if(void 0===e&&(e=0),void 0===i&&(i=r?r.length:0),void 0===o&&(o=0),void 0===a&&(a=this.length),e<0||i>r.length||o<0||a>this.length)throw new RangeError("out of range index");if(o>=a&&e>=i)return 0;if(o>=a)return-1;if(e>=i)return 1;if(this===r)return 0;for(var u=(a>>>=0)-(o>>>=0),s=(i>>>=0)-(e>>>=0),c=Math.min(u,s),f=this.slice(o,a),l=r.slice(e,i),m=0;m<c;++m)if(f[m]!==l[m]){u=f[m],s=l[m];break}return u<s?-1:s<u?1:0},t.prototype.includes=function(r,t,e){return-1!==this.indexOf(r,t,e)},t.prototype.indexOf=function(r,t,e){return y(this,r,t,e,!0)},t.prototype.lastIndexOf=function(r,t,e){return y(this,r,t,e,!1)},t.prototype.write=function(r,t,e,n){if(void 0===t)n="utf8",e=this.length,t=0;else if(void 0===e&&"string"==typeof t)n=t,e=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(e)?(e>>>=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-t;if((void 0===e||e>i)&&(e=i),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,r,t,e);case"utf8":case"utf-8":return x(this,r,t,e);case"ascii":return b(this,r,t,e);case"latin1":case"binary":return w(this,r,t,e);case"base64":return M(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,r,t,e);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function S(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(127&r[i]);return n}function j(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function B(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=L[r[o]];return i}function T(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function z(r,t,e){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function C(r,e,n,i,o,a){if(!t.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(n+i>r.length)throw new RangeError("Index out of range")}function O(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function k(r,t,e,n,i){return t=+t,e>>>=0,i||O(r,0,e,4),o.write(r,t,e,n,23,4),e+4}function I(r,t,e,n,i){return t=+t,e>>>=0,i||O(r,0,e,8),o.write(r,t,e,n,52,8),e+8}t.prototype.slice=function(r,e){var n=this.length;(r=~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<r&&(e=r);var i=this.subarray(r,e);return Object.setPrototypeOf(i,t.prototype),i},t.prototype.readUIntLE=function(r,t,e){r>>>=0,t>>>=0,e||z(r,t,this.length);for(var n=this[r],i=1,o=0;++o<t&&(i*=256);)n+=this[r+o]*i;return n},t.prototype.readUIntBE=function(r,t,e){r>>>=0,t>>>=0,e||z(r,t,this.length);for(var n=this[r+--t],i=1;t>0&&(i*=256);)n+=this[r+--t]*i;return n},t.prototype.readUInt8=function(r,t){return r>>>=0,t||z(r,1,this.length),this[r]},t.prototype.readUInt16LE=function(r,t){return r>>>=0,t||z(r,2,this.length),this[r]|this[r+1]<<8},t.prototype.readUInt16BE=function(r,t){return r>>>=0,t||z(r,2,this.length),this[r]<<8|this[r+1]},t.prototype.readUInt32LE=function(r,t){return r>>>=0,t||z(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},t.prototype.readUInt32BE=function(r,t){return r>>>=0,t||z(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},t.prototype.readIntLE=function(r,t,e){r>>>=0,t>>>=0,e||z(r,t,this.length);for(var n=this[r],i=1,o=0;++o<t&&(i*=256);)n+=this[r+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(r,t,e){r>>>=0,t>>>=0,e||z(r,t,this.length);for(var n=t,i=1,o=this[r+--n];n>0&&(i*=256);)o+=this[r+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(r,t){return r>>>=0,t||z(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},t.prototype.readInt16LE=function(r,t){r>>>=0,t||z(r,2,this.length);var e=this[r]|this[r+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(r,t){r>>>=0,t||z(r,2,this.length);var e=this[r+1]|this[r]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(r,t){return r>>>=0,t||z(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},t.prototype.readInt32BE=function(r,t){return r>>>=0,t||z(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},t.prototype.readFloatLE=function(r,t){return r>>>=0,t||z(r,4,this.length),o.read(this,r,!0,23,4)},t.prototype.readFloatBE=function(r,t){return r>>>=0,t||z(r,4,this.length),o.read(this,r,!1,23,4)},t.prototype.readDoubleLE=function(r,t){return r>>>=0,t||z(r,8,this.length),o.read(this,r,!0,52,8)},t.prototype.readDoubleBE=function(r,t){return r>>>=0,t||z(r,8,this.length),o.read(this,r,!1,52,8)},t.prototype.writeUIntLE=function(r,t,e,n){(r=+r,t>>>=0,e>>>=0,n)||C(this,r,t,e,Math.pow(2,8*e)-1,0);var i=1,o=0;for(this[t]=255&r;++o<e&&(i*=256);)this[t+o]=r/i&255;return t+e},t.prototype.writeUIntBE=function(r,t,e,n){(r=+r,t>>>=0,e>>>=0,n)||C(this,r,t,e,Math.pow(2,8*e)-1,0);var i=e-1,o=1;for(this[t+i]=255&r;--i>=0&&(o*=256);)this[t+i]=r/o&255;return t+e},t.prototype.writeUInt8=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,1,255,0),this[t]=255&r,t+1},t.prototype.writeUInt16LE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,2,65535,0),this[t]=255&r,this[t+1]=r>>>8,t+2},t.prototype.writeUInt16BE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=255&r,t+2},t.prototype.writeUInt32LE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r,t+4},t.prototype.writeUInt32BE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},t.prototype.writeIntLE=function(r,t,e,n){if(r=+r,t>>>=0,!n){var i=Math.pow(2,8*e-1);C(this,r,t,e,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&r;++o<e&&(a*=256);)r<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(r/a>>0)-u&255;return t+e},t.prototype.writeIntBE=function(r,t,e,n){if(r=+r,t>>>=0,!n){var i=Math.pow(2,8*e-1);C(this,r,t,e,i-1,-i)}var o=e-1,a=1,u=0;for(this[t+o]=255&r;--o>=0&&(a*=256);)r<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(r/a>>0)-u&255;return t+e},t.prototype.writeInt8=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=255&r,t+1},t.prototype.writeInt16LE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,2,32767,-32768),this[t]=255&r,this[t+1]=r>>>8,t+2},t.prototype.writeInt16BE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=255&r,t+2},t.prototype.writeInt32LE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,4,2147483647,-2147483648),this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},t.prototype.writeInt32BE=function(r,t,e){return r=+r,t>>>=0,e||C(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},t.prototype.writeFloatLE=function(r,t,e){return k(this,r,t,!0,e)},t.prototype.writeFloatBE=function(r,t,e){return k(this,r,t,!1,e)},t.prototype.writeDoubleLE=function(r,t,e){return I(this,r,t,!0,e)},t.prototype.writeDoubleBE=function(r,t,e){return I(this,r,t,!1,e)},t.prototype.copy=function(r,e,n,i){if(!t.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),i||0===i||(i=this.length),e>=r.length&&(e=r.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-e<i-n&&(i=r.length-e+n);var o=i-n;if(this===r&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,i);else if(this===r&&n<e&&e<i)for(var a=o-1;a>=0;--a)r[a+e]=this[a+n];else Uint8Array.prototype.set.call(r,this.subarray(n,i),e);return o},t.prototype.fill=function(r,e,n,i){if("string"==typeof r){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===r.length){var o=r.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(r=o)}}else"number"==typeof r?r&=255:"boolean"==typeof r&&(r=Number(r));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var a;if(e>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(a=e;a<n;++a)this[a]=r;else{var u=t.isBuffer(r)?r:t.from(r,i),s=u.length;if(0===s)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(a=0;a<n-e;++a)this[a+e]=u[a%s]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function F(r,t){var e;t=t||1/0;for(var n=r.length,i=null,o=[],a=0;a<n;++a){if((e=r.charCodeAt(a))>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function q(r){return i.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function U(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function D(r,t){return r instanceof t||null!=r&&null!=r.constructor&&null!=r.constructor.name&&r.constructor.name===t.name}function R(r){return r!=r}var L=function(){for(var r=new Array(256),t=0;t<16;++t)for(var e=16*t,n=0;n<16;++n)r[e+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return r}()}).call(this,r("buffer").Buffer)},{"base64-js":36,buffer:37,ieee754:45}],38:[function(r,t,e){(function(r){"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var n=function(){function t(n,o,a,u){"object"===e(o)&&(a=o.depth,u=o.prototype,o.filter,o=o.circular);var s=[],c=[],f=void 0!==r;return void 0===o&&(o=!0),void 0===a&&(a=1/0),function n(a,l){if(null===a)return null;if(0==l)return a;var m,h;if("object"!=e(a))return a;if(t.__isArray(a))m=[];else if(t.__isRegExp(a))m=new RegExp(a.source,i(a)),a.lastIndex&&(m.lastIndex=a.lastIndex);else if(t.__isDate(a))m=new Date(a.getTime());else{if(f&&r.isBuffer(a))return m=r.allocUnsafe?r.allocUnsafe(a.length):new r(a.length),a.copy(m),m;void 0===u?(h=Object.getPrototypeOf(a),m=Object.create(h)):(m=Object.create(u),h=u)}if(o){var p=s.indexOf(a);if(-1!=p)return c[p];s.push(a),c.push(m)}for(var g in a){var y;h&&(y=Object.getOwnPropertyDescriptor(h,g)),y&&null==y.set||(m[g]=n(a[g],l-1))}return m}(n,a)}function n(r){return Object.prototype.toString.call(r)}function i(r){var t="";return r.global&&(t+="g"),r.ignoreCase&&(t+="i"),r.multiline&&(t+="m"),t}return t.clonePrototype=function(r){if(null===r)return null;var t=function(){};return t.prototype=r,new t},t.__objToStr=n,t.__isDate=function(r){return"object"===e(r)&&"[object Date]"===n(r)},t.__isArray=function(r){return"object"===e(r)&&"[object Array]"===n(r)},t.__isRegExp=function(r){return"object"===e(r)&&"[object RegExp]"===n(r)},t.__getRegExpFlags=i,t}();"object"===(void 0===t?"undefined":e(t))&&t.exports&&(t.exports=n)}).call(this,r("buffer").Buffer)},{buffer:37}],39:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}!function(r){var i={re:0,im:0},o=function(r){return.5*(Math.exp(r)+Math.exp(-r))},a=function(r){return.5*(Math.exp(r)-Math.exp(-r))},u=function(){throw SyntaxError("Invalid Param")};function s(r,t){var e=Math.abs(r),n=Math.abs(t);return 0===r?Math.log(n):0===t?Math.log(e):e<3e3&&n<3e3?.5*Math.log(r*r+t*t):Math.log(r/Math.cos(Math.atan2(t,r)))}var c=function(r,t){if(null==r)i.re=i.im=0;else if(void 0!==t)i.re=r,i.im=t;else switch(n(r)){case"object":"im"in r&&"re"in r?(i.re=r.re,i.im=r.im):"abs"in r&&"arg"in r?(i.re=r.abs*Math.cos(r.arg),i.im=r.abs*Math.sin(r.arg)):"r"in r&&"phi"in r?(i.re=r.r*Math.cos(r.phi),i.im=r.r*Math.sin(r.phi)):2===r.length?(i.re=r[0],i.im=r[1]):u();break;case"string":i.im=i.re=0;var e=r.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),o=1,a=0;null===e&&u();for(var s=0;s<e.length;s++){var c=e[s];" "===c||"\t"===c||"\n"===c||("+"===c?o++:"-"===c?a++:"i"===c||"I"===c?(o+a===0&&u()," "===e[s+1]||isNaN(e[s+1])?i.im+=parseFloat((a%2?"-":"")+"1"):(i.im+=parseFloat((a%2?"-":"")+e[s+1]),s++),o=a=0):((o+a===0||isNaN(c))&&u(),"i"===e[s+1]||"I"===e[s+1]?(i.im+=parseFloat((a%2?"-":"")+c),s++):i.re+=parseFloat((a%2?"-":"")+c),o=a=0))}o+a>0&&u();break;case"number":i.im=0,i.re=r;break;default:u()}isNaN(i.re)||isNaN(i.im)};function f(r,t){if(!(this instanceof f))return new f(r,t);c(r,t),this.re=i.re,this.im=i.im}f.prototype={re:0,im:0,sign:function(){var r=this.abs();return new f(this.re/r,this.im/r)},add:function(r,t){return c(r,t),new f(this.re+i.re,this.im+i.im)},sub:function(r,t){return c(r,t),new f(this.re-i.re,this.im-i.im)},mul:function(r,t){return c(r,t),0===i.im&&0===this.im?new f(this.re*i.re,0):new f(this.re*i.re-this.im*i.im,this.re*i.im+this.im*i.re)},div:function(r,t){c(r,t),r=this.re,t=this.im;var e,n,o=i.re,a=i.im;return 0===a?0===o?new f(0!==r?r/0:0,0!==t?t/0:0):new f(r/o,t/o):Math.abs(o)<Math.abs(a)?new f((r*(n=o/a)+t)/(e=o*n+a),(t*n-r)/e):new f((r+t*(n=a/o))/(e=a*n+o),(t-r*n)/e)},pow:function(r,t){if(c(r,t),r=this.re,t=this.im,0===r&&0===t)return f.ZERO;if(0===i.im){if(0===t&&r>=0)return new f(Math.pow(r,i.re),0);if(0===r)switch((i.re%4+4)%4){case 0:return new f(Math.pow(t,i.re),0);case 1:return new f(0,Math.pow(t,i.re));case 2:return new f(-Math.pow(t,i.re),0);case 3:return new f(0,-Math.pow(t,i.re))}}var e=Math.atan2(t,r),n=s(r,t);return r=Math.exp(i.re*n-i.im*e),t=i.im*n+i.re*e,new f(r*Math.cos(t),r*Math.sin(t))},sqrt:function(){var r,t,e=this.re,n=this.im,i=this.abs();if(e>=0){if(0===n)return new f(Math.sqrt(e),0);r=.5*Math.sqrt(2*(i+e))}else r=Math.abs(n)/Math.sqrt(2*(i-e));return t=e<=0?.5*Math.sqrt(2*(i-e)):Math.abs(n)/Math.sqrt(2*(i+e)),new f(r,n<0?-t:t)},exp:function(){var r=Math.exp(this.re);return this.im,new f(r*Math.cos(this.im),r*Math.sin(this.im))},log:function(){var r=this.re,t=this.im;return new f(s(r,t),Math.atan2(t,r))},abs:function(){return r=this.re,t=this.im,e=Math.abs(r),n=Math.abs(t),e<3e3&&n<3e3?Math.sqrt(e*e+n*n):(e<n?(e=n,n=r/t):n=t/r,e*Math.sqrt(1+n*n));var r,t,e,n},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var r=this.re,t=this.im;return new f(Math.sin(r)*o(t),Math.cos(r)*a(t))},cos:function(){var r=this.re,t=this.im;return new f(Math.cos(r)*o(t),-Math.sin(r)*a(t))},tan:function(){var r=2*this.re,t=2*this.im,e=Math.cos(r)+o(t);return new f(Math.sin(r)/e,a(t)/e)},cot:function(){var r=2*this.re,t=2*this.im,e=Math.cos(r)-o(t);return new f(-Math.sin(r)/e,a(t)/e)},sec:function(){var r=this.re,t=this.im,e=.5*o(2*t)+.5*Math.cos(2*r);return new f(Math.cos(r)*o(t)/e,Math.sin(r)*a(t)/e)},csc:function(){var r=this.re,t=this.im,e=.5*o(2*t)-.5*Math.cos(2*r);return new f(Math.sin(r)*o(t)/e,-Math.cos(r)*a(t)/e)},asin:function(){var r=this.re,t=this.im,e=new f(t*t-r*r+1,-2*r*t).sqrt(),n=new f(e.re-t,e.im+r).log();return new f(n.im,-n.re)},acos:function(){var r=this.re,t=this.im,e=new f(t*t-r*r+1,-2*r*t).sqrt(),n=new f(e.re-t,e.im+r).log();return new f(Math.PI/2-n.im,n.re)},atan:function(){var r=this.re,t=this.im;if(0===r){if(1===t)return new f(0,1/0);if(-1===t)return new f(0,-1/0)}var e=r*r+(1-t)*(1-t),n=new f((1-t*t-r*r)/e,-2*r/e).log();return new f(-.5*n.im,.5*n.re)},acot:function(){var r=this.re,t=this.im;if(0===t)return new f(Math.atan2(1,r),0);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).atan():new f(0!==r?r/0:0,0!==t?-t/0:0).atan()},asec:function(){var r=this.re,t=this.im;if(0===r&&0===t)return new f(0,1/0);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).acos():new f(0!==r?r/0:0,0!==t?-t/0:0).acos()},acsc:function(){var r=this.re,t=this.im;if(0===r&&0===t)return new f(Math.PI/2,1/0);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).asin():new f(0!==r?r/0:0,0!==t?-t/0:0).asin()},sinh:function(){var r=this.re,t=this.im;return new f(a(r)*Math.cos(t),o(r)*Math.sin(t))},cosh:function(){var r=this.re,t=this.im;return new f(o(r)*Math.cos(t),a(r)*Math.sin(t))},tanh:function(){var r=2*this.re,t=2*this.im,e=o(r)+Math.cos(t);return new f(a(r)/e,Math.sin(t)/e)},coth:function(){var r=2*this.re,t=2*this.im,e=o(r)-Math.cos(t);return new f(a(r)/e,-Math.sin(t)/e)},csch:function(){var r=this.re,t=this.im,e=Math.cos(2*t)-o(2*r);return new f(-2*a(r)*Math.cos(t)/e,2*o(r)*Math.sin(t)/e)},sech:function(){var r=this.re,t=this.im,e=Math.cos(2*t)+o(2*r);return new f(2*o(r)*Math.cos(t)/e,-2*a(r)*Math.sin(t)/e)},asinh:function(){var r=this.im;this.im=-this.re,this.re=r;var t=this.asin();return this.re=-this.im,this.im=r,r=t.re,t.re=-t.im,t.im=r,t},acosh:function(){var r,t=this.acos();return t.im<=0?(r=t.re,t.re=-t.im,t.im=r):(r=t.im,t.im=-t.re,t.re=r),t},atanh:function(){var r=this.re,t=this.im,e=r>1&&0===t,n=1-r,i=1+r,o=n*n+t*t,a=0!==o?new f((i*n-t*t)/o,(t*n+i*t)/o):new f(-1!==r?r/0:0,0!==t?t/0:0),u=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,u)/2,e&&(a.im=-a.im),a},acoth:function(){var r=this.re,t=this.im;if(0===r&&0===t)return new f(0,Math.PI/2);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).atanh():new f(0!==r?r/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var r=this.re,t=this.im;if(0===t)return new f(0!==r?Math.log(r+Math.sqrt(r*r+1)):1/0,0);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).asinh():new f(0!==r?r/0:0,0!==t?-t/0:0).asinh()},asech:function(){var r=this.re,t=this.im;if(0===r&&0===t)return new f(1/0,0);var e=r*r+t*t;return 0!==e?new f(r/e,-t/e).acosh():new f(0!==r?r/0:0,0!==t?-t/0:0).acosh()},inverse:function(){var r=this.re,t=this.im,e=r*r+t*t;return new f(0!==r?r/e:0,0!==t?-t/e:0)},conjugate:function(){return new f(this.re,-this.im)},neg:function(){return new f(-this.re,-this.im)},ceil:function(r){return r=Math.pow(10,r||0),new f(Math.ceil(this.re*r)/r,Math.ceil(this.im*r)/r)},floor:function(r){return r=Math.pow(10,r||0),new f(Math.floor(this.re*r)/r,Math.floor(this.im*r)/r)},round:function(r){return r=Math.pow(10,r||0),new f(Math.round(this.re*r)/r,Math.round(this.im*r)/r)},equals:function(r,t){return c(r,t),Math.abs(i.re-this.re)<=f.EPSILON&&Math.abs(i.im-this.im)<=f.EPSILON},clone:function(){return new f(this.re,this.im)},toString:function(){var r=this.re,t=this.im,e="";return isNaN(r)||isNaN(t)?"NaN":(0!==r&&(e+=r),0!==t&&(0!==r?e+=t<0?" - ":" + ":t<0&&(e+="-"),1!==(t=Math.abs(t))&&(e+=t),e+="i"),e||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(r){function t(){return r.apply(this,arguments)}return t.toString=function(){return r.toString()},t}(function(){return isNaN(this.re)||isNaN(this.im)}),isFinite:function(r){function t(){return r.apply(this,arguments)}return t.toString=function(){return r.toString()},t}(function(){return isFinite(this.re)&&isFinite(this.im)})},f.ZERO=new f(0,0),f.ONE=new f(1,0),f.I=new f(0,1),f.PI=new f(Math.PI,0),f.E=new f(Math.E,0),f.EPSILON=1e-16,"function"==typeof define&&define.amd?define([],function(){return f}):"object"===(void 0===e?"undefined":n(e))?t.exports=f:(void 0).Complex=f}()},{}],40:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}!function(r){var e,i,o,a,u=9e15,s=1e9,c="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",m={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},h=!0,p="[DecimalError] ",g=p+"Invalid argument: ",y=p+"Precision limit exceeded",d=p+"crypto unavailable",v=Math.floor,x=Math.pow,b=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,M=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,A=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,N=1e7,_=7,E=f.length-1,S=l.length-1,j={name:"[object Decimal]"};function B(r){var t,e,n,i=r.length-1,o="",a=r[0];if(i>0){for(o+=a,t=1;t<i;t++)n=r[t]+"",(e=_-n.length)&&(o+=D(e)),o+=n;a=r[t],(e=_-(n=a+"").length)&&(o+=D(e))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function T(r,t,e){if(r!==~~r||r<t||r>e)throw Error(g+r)}function z(r,t,e,n){var i,o,a,u;for(o=r[0];o>=10;o/=10)--t;return--t<0?(t+=_,i=0):(i=Math.ceil((t+1)/_),t%=_),o=x(10,_-t),u=r[i]%o|0,null==n?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),a=e<4&&99999==u||e>3&&49999==u||5e4==u||0==u):a=(e<4&&u+1==o||e>3&&u+1==o/2)&&(r[i+1]/o/100|0)==x(10,t-2)-1||(u==o/2||0==u)&&0==(r[i+1]/o/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),a=(n||e<4)&&9999==u||!n&&e>3&&4999==u):a=((n||e<4)&&u+1==o||!n&&e>3&&u+1==o/2)&&(r[i+1]/o/1e3|0)==x(10,t-3)-1,a}function C(r,t,e){for(var n,i,o=[0],a=0,u=r.length;a<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=c.indexOf(r.charAt(a++)),n=0;n<o.length;n++)o[n]>e-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/e|0,o[n]%=e)}return o.reverse()}j.absoluteValue=j.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),k(r)},j.ceil=function(){return k(new this.constructor(this),this.e+1,2)},j.comparedTo=j.cmp=function(r){var t,e,n,i,o=this,a=o.d,u=(r=new o.constructor(r)).d,s=o.s,c=r.s;if(!a||!u)return s&&c?s!==c?s:a===u?0:!a^s<0?1:-1:NaN;if(!a[0]||!u[0])return a[0]?s:u[0]?-c:0;if(s!==c)return s;if(o.e!==r.e)return o.e>r.e^s<0?1:-1;for(t=0,e=(n=a.length)<(i=u.length)?n:i;t<e;++t)if(a[t]!==u[t])return a[t]>u[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},j.cosine=j.cos=function(){var r,t,e=this,n=e.constructor;return e.d?e.d[0]?(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+_,n.rounding=1,e=function(r,t){var e,n,i=t.d.length;i<32?(e=Math.ceil(i/3),n=Math.pow(4,-e).toString()):(e=16,n="2.3283064365386962890625e-10");r.precision+=e,t=J(r,1,t.times(n),new r(1));for(var o=e;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return r.precision-=e,t}(n,G(n,e)),n.precision=r,n.rounding=t,k(2==a||3==a?e.neg():e,r,t,!0)):new n(1):new n(NaN)},j.cubeRoot=j.cbrt=function(){var r,t,e,n,i,o,a,u,s,c,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(h=!1,(o=f.s*Math.pow(f.s*f,1/3))&&Math.abs(o)!=1/0?n=new l(o.toString()):(e=B(f.d),(o=((r=f.e)-e.length+1)%3)&&(e+=1==o||-2==o?"0":"00"),o=Math.pow(e,1/3),r=v((r+1)/3)-(r%3==(r<0?-1:2)),(n=new l(e=o==1/0?"5e"+r:(e=o.toExponential()).slice(0,e.indexOf("e")+1)+r)).s=f.s),a=(r=l.precision)+3;;)if(c=(s=(u=n).times(u).times(u)).plus(f),n=O(c.plus(f).times(u),c.plus(s),a+2,1),B(u.d).slice(0,a)===(e=B(n.d)).slice(0,a)){if("9999"!=(e=e.slice(a-3,a+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(k(n,r+1,1),t=!n.times(n).times(n).eq(f));break}if(!i&&(k(u,r+1,0),u.times(u).times(u).eq(f))){n=u;break}a+=4,i=1}return h=!0,k(n,r,l.rounding,t)},j.decimalPlaces=j.dp=function(){var r,t=this.d,e=NaN;if(t){if(e=((r=t.length-1)-v(this.e/_))*_,r=t[r])for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e},j.dividedBy=j.div=function(r){return O(this,new this.constructor(r))},j.dividedToIntegerBy=j.divToInt=function(r){var t=this.constructor;return k(O(this,new t(r),0,1,1),t.precision,t.rounding)},j.equals=j.eq=function(r){return 0===this.cmp(r)},j.floor=function(){return k(new this.constructor(this),this.e+1,3)},j.greaterThan=j.gt=function(r){return this.cmp(r)>0},j.greaterThanOrEqualTo=j.gte=function(r){var t=this.cmp(r);return 1==t||0===t},j.hyperbolicCosine=j.cosh=function(){var r,t,e,n,i,o=this,a=o.constructor,u=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return u;e=a.precision,n=a.rounding,a.precision=e+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?(r=Math.ceil(i/3),t=Math.pow(4,-r).toString()):(r=16,t="2.3283064365386962890625e-10"),o=J(a,1,o.times(t),new a(1),!0);for(var s,c=r,f=new a(8);c--;)s=o.times(o),o=u.minus(s.times(f.minus(s.times(f))));return k(o,a.precision=e,a.rounding=n,!0)},j.hyperbolicSine=j.sinh=function(){var r,t,e,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,e=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=J(o,2,i,i,!0);else{r=(r=1.4*Math.sqrt(n))>16?16:0|r,i=J(o,2,i=i.times(Math.pow(5,-r)),i,!0);for(var a,u=new o(5),s=new o(16),c=new o(20);r--;)a=i.times(i),i=i.times(u.plus(a.times(s.times(a).plus(c))))}return o.precision=t,o.rounding=e,k(i,t,e,!0)},j.hyperbolicTangent=j.tanh=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+7,n.rounding=1,O(e.sinh(),e.cosh(),n.precision=r,n.rounding=t)):new n(e.s)},j.inverseCosine=j.acos=function(){var r,t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,o=e.rounding;return-1!==n?0===n?t.isNeg()?q(e,i,o):new e(0):new e(NaN):t.isZero()?q(e,i+4,o).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),r=q(e,i+4,o).times(.5),e.precision=i,e.rounding=o,r.minus(t))},j.inverseHyperbolicCosine=j.acosh=function(){var r,t,e=this,n=e.constructor;return e.lte(1)?new n(e.eq(1)?0:NaN):e.isFinite()?(r=n.precision,t=n.rounding,n.precision=r+Math.max(Math.abs(e.e),e.sd())+4,n.rounding=1,h=!1,e=e.times(e).minus(1).sqrt().plus(e),h=!0,n.precision=r,n.rounding=t,e.ln()):new n(e)},j.inverseHyperbolicSine=j.asinh=function(){var r,t,e=this,n=e.constructor;return!e.isFinite()||e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,n.rounding=1,h=!1,e=e.times(e).plus(1).sqrt().plus(e),h=!0,n.precision=r,n.rounding=t,e.ln())},j.inverseHyperbolicTangent=j.atanh=function(){var r,t,e,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=o.precision,t=o.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?k(new o(i),r,t,!0):(o.precision=e=n-i.e,i=O(i.plus(1),new o(1).minus(i),e+r,1),o.precision=r+4,o.rounding=1,i=i.ln(),o.precision=r,o.rounding=t,i.times(.5))):new o(NaN)},j.inverseSine=j.asin=function(){var r,t,e,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),e=o.precision,n=o.rounding,-1!==t?0===t?((r=q(o,e+4,n).times(.5)).s=i.s,r):new o(NaN):(o.precision=e+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=e,o.rounding=n,i.times(2)))},j.inverseTangent=j.atan=function(){var r,t,e,n,i,o,a,u,s,c=this,f=c.constructor,l=f.precision,m=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&l+4<=S)return(a=q(f,l+4,m).times(.25)).s=c.s,a}else{if(!c.s)return new f(NaN);if(l+4<=S)return(a=q(f,l+4,m).times(.5)).s=c.s,a}for(f.precision=u=l+10,f.rounding=1,r=e=Math.min(28,u/_+2|0);r;--r)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(u/_),n=1,s=c.times(c),a=new f(c),i=c;-1!==r;)if(i=i.times(s),o=a.minus(i.div(n+=2)),i=i.times(s),void 0!==(a=o.plus(i.div(n+=2))).d[t])for(r=t;a.d[r]===o.d[r]&&r--;);return e&&(a=a.times(2<<e-1)),h=!0,k(a,f.precision=l,f.rounding=m,!0)},j.isFinite=function(){return!!this.d},j.isInteger=j.isInt=function(){return!!this.d&&v(this.e/_)>this.d.length-2},j.isNaN=function(){return!this.s},j.isNegative=j.isNeg=function(){return this.s<0},j.isPositive=j.isPos=function(){return this.s>0},j.isZero=function(){return!!this.d&&0===this.d[0]},j.lessThan=j.lt=function(r){return this.cmp(r)<0},j.lessThanOrEqualTo=j.lte=function(r){return this.cmp(r)<1},j.logarithm=j.log=function(r){var t,e,n,i,o,a,u,s,c=this.constructor,f=c.precision,l=c.rounding;if(null==r)r=new c(10),t=!0;else{if(e=(r=new c(r)).d,r.s<0||!e||!e[0]||r.eq(1))return new c(NaN);t=r.eq(10)}if(e=this.d,this.s<0||!e||!e[0]||this.eq(1))return new c(e&&!e[0]?-1/0:1!=this.s?NaN:e?0:1/0);if(t)if(e.length>1)o=!0;else{for(i=e[0];i%10==0;)i/=10;o=1!==i}if(h=!1,a=Z(this,u=f+5),n=t?F(c,u+10):Z(r,u),z((s=O(a,n,u,1)).d,i=f,l))do{if(a=Z(this,u+=10),n=t?F(c,u+10):Z(r,u),s=O(a,n,u,1),!o){+B(s.d).slice(i+1,i+15)+1==1e14&&(s=k(s,f+1,0));break}}while(z(s.d,i+=10,l));return h=!0,k(s,f,l)},j.minus=j.sub=function(r){var t,e,n,i,o,a,u,s,c,f,l,m,p=this,g=p.constructor;if(r=new g(r),!p.d||!r.d)return p.s&&r.s?p.d?r.s=-r.s:r=new g(r.d||p.s!==r.s?p:NaN):r=new g(NaN),r;if(p.s!=r.s)return r.s=-r.s,p.plus(r);if(c=p.d,m=r.d,u=g.precision,s=g.rounding,!c[0]||!m[0]){if(m[0])r.s=-r.s;else{if(!c[0])return new g(3===s?-0:0);r=new g(p)}return h?k(r,u,s):r}if(e=v(r.e/_),f=v(p.e/_),c=c.slice(),o=f-e){for((l=o<0)?(t=c,o=-o,a=m.length):(t=m,e=f,a=c.length),o>(n=Math.max(Math.ceil(u/_),a)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((l=(n=c.length)<(a=m.length))&&(a=n),n=0;n<a;n++)if(c[n]!=m[n]){l=c[n]<m[n];break}o=0}for(l&&(t=c,c=m,m=t,r.s=-r.s),a=c.length,n=m.length-a;n>0;--n)c[a++]=0;for(n=m.length;n>o;){if(c[--n]<m[n]){for(i=n;i&&0===c[--i];)c[i]=N-1;--c[i],c[n]+=N}c[n]-=m[n]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(r.d=c,r.e=P(c,e),h?k(r,u,s):r):new g(3===s?-0:0)},j.modulo=j.mod=function(r){var t,e=this,n=e.constructor;return r=new n(r),!e.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||e.d&&!e.d[0]?k(new n(e),n.precision,n.rounding):(h=!1,9==n.modulo?(t=O(e,r.abs(),0,3,1)).s*=r.s:t=O(e,r,0,n.modulo,1),t=t.times(r),h=!0,e.minus(t))},j.naturalExponential=j.exp=function(){return V(this)},j.naturalLogarithm=j.ln=function(){return Z(this)},j.negated=j.neg=function(){var r=new this.constructor(this);return r.s=-r.s,k(r)},j.plus=j.add=function(r){var t,e,n,i,o,a,u,s,c,f,l=this,m=l.constructor;if(r=new m(r),!l.d||!r.d)return l.s&&r.s?l.d||(r=new m(r.d||l.s===r.s?l:NaN)):r=new m(NaN),r;if(l.s!=r.s)return r.s=-r.s,l.minus(r);if(c=l.d,f=r.d,u=m.precision,s=m.rounding,!c[0]||!f[0])return f[0]||(r=new m(l)),h?k(r,u,s):r;if(o=v(l.e/_),n=v(r.e/_),c=c.slice(),i=o-n){for(i<0?(e=c,i=-i,a=f.length):(e=f,n=o,a=c.length),i>(a=(o=Math.ceil(u/_))>a?o+1:a+1)&&(i=a,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for((a=c.length)-(i=f.length)<0&&(i=a,e=f,f=c,c=e),t=0;i;)t=(c[--i]=c[i]+f[i]+t)/N|0,c[i]%=N;for(t&&(c.unshift(t),++n),a=c.length;0==c[--a];)c.pop();return r.d=c,r.e=P(c,n),h?k(r,u,s):r},j.precision=j.sd=function(r){var t,e=this;if(void 0!==r&&r!==!!r&&1!==r&&0!==r)throw Error(g+r);return e.d?(t=U(e.d),r&&e.e+1>t&&(t=e.e+1)):t=NaN,t},j.round=function(){var r=this,t=r.constructor;return k(new t(r),r.e+1,t.rounding)},j.sine=j.sin=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+Math.max(e.e,e.sd())+_,n.rounding=1,e=function(r,t){var e,n=t.d.length;if(n<3)return J(r,2,t,t);e=(e=1.4*Math.sqrt(n))>16?16:0|e,t=t.times(Math.pow(5,-e)),t=J(r,2,t,t);for(var i,o=new r(5),a=new r(16),u=new r(20);e--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(u))));return t}(n,G(n,e)),n.precision=r,n.rounding=t,k(a>2?e.neg():e,r,t,!0)):new n(NaN)},j.squareRoot=j.sqrt=function(){var r,t,e,n,i,o,a=this,u=a.d,s=a.e,c=a.s,f=a.constructor;if(1!==c||!u||!u[0])return new f(!c||c<0&&(!u||u[0])?NaN:u?a:1/0);for(h=!1,0==(c=Math.sqrt(+a))||c==1/0?(((t=B(u)).length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=v((s+1)/2)-(s<0||s%2),n=new f(t=c==1/0?"1e"+s:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new f(c.toString()),e=(s=f.precision)+3;;)if(n=(o=n).plus(O(a,o,e+2,1)).times(.5),B(o.d).slice(0,e)===(t=B(n.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(k(n,s+1,1),r=!n.times(n).eq(a));break}if(!i&&(k(o,s+1,0),o.times(o).eq(a))){n=o;break}e+=4,i=1}return h=!0,k(n,s,f.rounding,r)},j.tangent=j.tan=function(){var r,t,e=this,n=e.constructor;return e.isFinite()?e.isZero()?new n(e):(r=n.precision,t=n.rounding,n.precision=r+10,n.rounding=1,(e=e.sin()).s=1,e=O(e,new n(1).minus(e.times(e)).sqrt(),r+10,0),n.precision=r,n.rounding=t,k(2==a||4==a?e.neg():e,r,t,!0)):new n(NaN)},j.times=j.mul=function(r){var t,e,n,i,o,a,u,s,c,f=this,l=f.constructor,m=f.d,p=(r=new l(r)).d;if(r.s*=f.s,!(m&&m[0]&&p&&p[0]))return new l(!r.s||m&&!m[0]&&!p||p&&!p[0]&&!m?NaN:m&&p?0*r.s:r.s/0);for(e=v(f.e/_)+v(r.e/_),(s=m.length)<(c=p.length)&&(o=m,m=p,p=o,a=s,s=c,c=a),o=[],n=a=s+c;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=s+n;i>n;)u=o[i]+p[n]*m[i-n-1]+t,o[i--]=u%N|0,t=u/N|0;o[i]=(o[i]+t)%N|0}for(;!o[--a];)o.pop();return t?++e:o.shift(),r.d=o,r.e=P(o,e),h?k(r,l.precision,l.rounding):r},j.toBinary=function(r,t){return W(this,2,r,t)},j.toDecimalPlaces=j.toDP=function(r,t){var e=this,n=e.constructor;return e=new n(e),void 0===r?e:(T(r,0,s),void 0===t?t=n.rounding:T(t,0,8),k(e,r+e.e+1,t))},j.toExponential=function(r,t){var e,n=this,i=n.constructor;return void 0===r?e=I(n,!0):(T(r,0,s),void 0===t?t=i.rounding:T(t,0,8),e=I(n=k(new i(n),r+1,t),!0,r+1)),n.isNeg()&&!n.isZero()?"-"+e:e},j.toFixed=function(r,t){var e,n,i=this,o=i.constructor;return void 0===r?e=I(i):(T(r,0,s),void 0===t?t=o.rounding:T(t,0,8),e=I(n=k(new o(i),r+i.e+1,t),!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e},j.toFraction=function(r){var t,e,n,i,o,a,u,s,c,f,l,m,p=this,y=p.d,d=p.constructor;if(!y)return new d(p);if(c=e=new d(1),n=s=new d(0),a=(o=(t=new d(n)).e=U(y)-p.e-1)%_,t.d[0]=x(10,a<0?_+a:a),null==r)r=o>0?t:c;else{if(!(u=new d(r)).isInt()||u.lt(c))throw Error(g+u);r=u.gt(t)?o>0?t:c:u}for(h=!1,u=new d(B(y)),f=d.precision,d.precision=o=y.length*_*2;l=O(u,t,0,1,1),1!=(i=e.plus(l.times(n))).cmp(r);)e=n,n=i,i=c,c=s.plus(l.times(i)),s=i,i=t,t=u.minus(l.times(i)),u=i;return i=O(r.minus(e),n,0,1,1),s=s.plus(i.times(c)),e=e.plus(i.times(n)),s.s=c.s=p.s,m=O(c,n,o,1).minus(p).abs().cmp(O(s,e,o,1).minus(p).abs())<1?[c,n]:[s,e],d.precision=f,h=!0,m},j.toHexadecimal=j.toHex=function(r,t){return W(this,16,r,t)},j.toNearest=function(r,t){var e=this,n=e.constructor;if(e=new n(e),null==r){if(!e.d)return e;r=new n(1),t=n.rounding}else{if(r=new n(r),void 0!==t&&T(t,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(h=!1,t<4&&(t=[4,5,7,8][t]),e=O(e,r,0,t,1).times(r),h=!0,k(e)):(r.s=e.s,e=r),e},j.toNumber=function(){return+this},j.toOctal=function(r,t){return W(this,8,r,t)},j.toPower=j.pow=function(r){var t,e,n,i,o,a,u=this,s=u.constructor,c=+(r=new s(r));if(!(u.d&&r.d&&u.d[0]&&r.d[0]))return new s(x(+u,c));if((u=new s(u)).eq(1))return u;if(n=s.precision,o=s.rounding,r.eq(1))return k(u,n,o);if((t=v(r.e/_))>=r.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return i=R(s,u,e,n),r.s<0?new s(1).div(i):k(i,n,o);if((a=u.s)<0){if(t<r.d.length-1)return new s(NaN);if(0==(1&r.d[t])&&(a=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=a,u}return(t=0!=(e=x(+u,c))&&isFinite(e)?new s(e+"").e:v(c*(Math.log("0."+B(u.d))/Math.LN10+u.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?a/0:0):(h=!1,s.rounding=u.s=1,e=Math.min(12,(t+"").length),(i=V(r.times(Z(u,n+e)),n)).d&&z((i=k(i,n+5,1)).d,n,o)&&(t=n+10,+B((i=k(V(r.times(Z(u,t+e)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=k(i,n+1,0))),i.s=a,h=!0,s.rounding=o,k(i,n,o))},j.toPrecision=function(r,t){var e,n=this,i=n.constructor;return void 0===r?e=I(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(T(r,1,s),void 0===t?t=i.rounding:T(t,0,8),e=I(n=k(new i(n),r,t),r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+e:e},j.toSignificantDigits=j.toSD=function(r,t){var e=this.constructor;return void 0===r?(r=e.precision,t=e.rounding):(T(r,1,s),void 0===t?t=e.rounding:T(t,0,8)),k(new e(this),r,t)},j.toString=function(){var r=this,t=r.constructor,e=I(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e},j.truncated=j.trunc=function(){return k(new this.constructor(this),this.e+1,1)},j.valueOf=j.toJSON=function(){var r=this,t=r.constructor,e=I(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+e:e};var O=function(){function r(r,t,e){var n,i=0,o=r.length;for(r=r.slice();o--;)n=r[o]*t+i,r[o]=n%e|0,i=n/e|0;return i&&r.unshift(i),r}function t(r,t,e,n){var i,o;if(e!=n)o=e>n?1:-1;else for(i=o=0;i<e;i++)if(r[i]!=t[i]){o=r[i]>t[i]?1:-1;break}return o}function e(r,t,e,n){for(var i=0;e--;)r[e]-=i,i=r[e]<t[e]?1:0,r[e]=i*n+r[e]-t[e];for(;!r[0]&&r.length>1;)r.shift()}return function(n,o,a,u,s,c){var f,l,m,h,p,g,y,d,x,b,w,M,A,E,S,j,B,T,z,C,O=n.constructor,I=n.s==o.s?1:-1,P=n.d,F=o.d;if(!(P&&P[0]&&F&&F[0]))return new O(n.s&&o.s&&(P?!F||P[0]!=F[0]:F)?P&&0==P[0]||!F?0*I:I/0:NaN);for(c?(p=1,l=n.e-o.e):(c=N,p=_,l=v(n.e/p)-v(o.e/p)),z=F.length,B=P.length,b=(x=new O(I)).d=[],m=0;F[m]==(P[m]||0);m++);if(F[m]>(P[m]||0)&&l--,null==a?(E=a=O.precision,u=O.rounding):E=s?a+(n.e-o.e)+1:a,E<0)b.push(1),g=!0;else{if(E=E/p+2|0,m=0,1==z){for(h=0,F=F[0],E++;(m<B||h)&&E--;m++)S=h*c+(P[m]||0),b[m]=S/F|0,h=S%F|0;g=h||m<B}else{for((h=c/(F[0]+1)|0)>1&&(F=r(F,h,c),P=r(P,h,c),z=F.length,B=P.length),j=z,M=(w=P.slice(0,z)).length;M<z;)w[M++]=0;(C=F.slice()).unshift(0),T=F[0],F[1]>=c/2&&++T;do{h=0,(f=t(F,w,z,M))<0?(A=w[0],z!=M&&(A=A*c+(w[1]||0)),(h=A/T|0)>1?(h>=c&&(h=c-1),1==(f=t(y=r(F,h,c),w,d=y.length,M=w.length))&&(h--,e(y,z<d?C:F,d,c))):(0==h&&(f=h=1),y=F.slice()),(d=y.length)<M&&y.unshift(0),e(w,y,M,c),-1==f&&(f=t(F,w,z,M=w.length))<1&&(h++,e(w,z<M?C:F,M,c)),M=w.length):0===f&&(h++,w=[0]),b[m++]=h,f&&w[0]?w[M++]=P[j]||0:(w=[P[j]],M=1)}while((j++<B||void 0!==w[0])&&E--);g=void 0!==w[0]}b[0]||b.shift()}if(1==p)x.e=l,i=g;else{for(m=1,h=b[0];h>=10;h/=10)m++;x.e=m+l*p-1,k(x,s?a+x.e+1:a,u,g)}return x}}();function k(r,t,e,n){var i,o,a,u,s,c,f,l,m,p=r.constructor;r:if(null!=t){if(!(l=r.d))return r;for(i=1,u=l[0];u>=10;u/=10)i++;if((o=t-i)<0)o+=_,a=t,s=(f=l[m=0])/x(10,i-a-1)%10|0;else if((m=Math.ceil((o+1)/_))>=(u=l.length)){if(!n)break r;for(;u++<=m;)l.push(0);f=s=0,i=1,a=(o%=_)-_+1}else{for(f=u=l[m],i=1;u>=10;u/=10)i++;s=(a=(o%=_)-_+i)<0?0:f/x(10,i-a-1)%10|0}if(n=n||t<0||void 0!==l[m+1]||(a<0?f:f%x(10,i-a-1)),c=e<4?(s||n)&&(0==e||e==(r.s<0?3:2)):s>5||5==s&&(4==e||n||6==e&&(o>0?a>0?f/x(10,i-a):0:l[m-1])%10&1||e==(r.s<0?8:7)),t<1||!l[0])return l.length=0,c?(t-=r.e+1,l[0]=x(10,(_-t%_)%_),r.e=-t||0):l[0]=r.e=0,r;if(0==o?(l.length=m,u=1,m--):(l.length=m+1,u=x(10,_-o),l[m]=a>0?(f/x(10,i-a)%x(10,a)|0)*u:0),c)for(;;){if(0==m){for(o=1,a=l[0];a>=10;a/=10)o++;for(a=l[0]+=u,u=1;a>=10;a/=10)u++;o!=u&&(r.e++,l[0]==N&&(l[0]=1));break}if(l[m]+=u,l[m]!=N)break;l[m--]=0,u=1}for(o=l.length;0===l[--o];)l.pop()}return h&&(r.e>p.maxE?(r.d=null,r.e=NaN):r.e<p.minE&&(r.e=0,r.d=[0])),r}function I(r,t,e){if(!r.isFinite())return X(r);var n,i=r.e,o=B(r.d),a=o.length;return t?(e&&(n=e-a)>0?o=o.charAt(0)+"."+o.slice(1)+D(n):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(r.e<0?"e":"e+")+r.e):i<0?(o="0."+D(-i-1)+o,e&&(n=e-a)>0&&(o+=D(n))):i>=a?(o+=D(i+1-a),e&&(n=e-i-1)>0&&(o=o+"."+D(n))):((n=i+1)<a&&(o=o.slice(0,n)+"."+o.slice(n)),e&&(n=e-a)>0&&(i+1===a&&(o+="."),o+=D(n))),o}function P(r,t){var e=r[0];for(t*=_;e>=10;e/=10)t++;return t}function F(r,t,e){if(t>E)throw h=!0,e&&(r.precision=e),Error(y);return k(new r(f),t,1,!0)}function q(r,t,e){if(t>S)throw Error(y);return k(new r(l),t,e,!0)}function U(r){var t=r.length-1,e=t*_+1;if(t=r[t]){for(;t%10==0;t/=10)e--;for(t=r[0];t>=10;t/=10)e++}return e}function D(r){for(var t="";r--;)t+="0";return t}function R(r,t,e,n){var i,o=new r(1),a=Math.ceil(n/_+4);for(h=!1;;){if(e%2&&Q((o=o.times(t)).d,a)&&(i=!0),0===(e=v(e/2))){e=o.d.length-1,i&&0===o.d[e]&&++o.d[e];break}Q((t=t.times(t)).d,a)}return h=!0,o}function L(r){return 1&r.d[r.d.length-1]}function $(r,t,e){for(var n,i=new r(t[0]),o=0;++o<t.length;){if(!(n=new r(t[o])).s){i=n;break}i[e](n)&&(i=n)}return i}function V(r,t){var e,n,i,o,a,u,s,c=0,f=0,l=0,m=r.constructor,p=m.rounding,g=m.precision;if(!r.d||!r.d[0]||r.e>17)return new m(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(null==t?(h=!1,s=g):s=t,u=new m(.03125);r.e>-2;)r=r.times(u),l+=5;for(s+=n=Math.log(x(2,l))/Math.LN10*2+5|0,e=o=a=new m(1),m.precision=s;;){if(o=k(o.times(r),s,1),e=e.times(++f),B((u=a.plus(O(o,e,s,1))).d).slice(0,s)===B(a.d).slice(0,s)){for(i=l;i--;)a=k(a.times(a),s,1);if(null!=t)return m.precision=g,a;if(!(c<3&&z(a.d,s-n,p,c)))return k(a,m.precision=g,p,h=!0);m.precision=s+=10,e=o=u=new m(1),f=0,c++}a=u}}function Z(r,t){var e,n,i,o,a,u,s,c,f,l,m,p=1,g=r,y=g.d,d=g.constructor,v=d.rounding,x=d.precision;if(g.s<0||!y||!y[0]||!g.e&&1==y[0]&&1==y.length)return new d(y&&!y[0]?-1/0:1!=g.s?NaN:y?0:g);if(null==t?(h=!1,f=x):f=t,d.precision=f+=10,n=(e=B(y)).charAt(0),!(Math.abs(o=g.e)<15e14))return c=F(d,f+2,x).times(o+""),g=Z(new d(n+"."+e.slice(1)),f-10).plus(c),d.precision=x,null==t?k(g,x,v,h=!0):g;for(;n<7&&1!=n||1==n&&e.charAt(1)>3;)n=(e=B((g=g.times(r)).d)).charAt(0),p++;for(o=g.e,n>1?(g=new d("0."+e),o++):g=new d(n+"."+e.slice(1)),l=g,s=a=g=O(g.minus(1),g.plus(1),f,1),m=k(g.times(g),f,1),i=3;;){if(a=k(a.times(m),f,1),B((c=s.plus(O(a,new d(i),f,1))).d).slice(0,f)===B(s.d).slice(0,f)){if(s=s.times(2),0!==o&&(s=s.plus(F(d,f+2,x).times(o+""))),s=O(s,new d(p),f,1),null!=t)return d.precision=x,s;if(!z(s.d,f-10,v,u))return k(s,d.precision=x,v,h=!0);d.precision=f+=10,c=a=g=O(l.minus(1),l.plus(1),f,1),m=k(g.times(g),f,1),i=u=1}s=c,i+=2}}function X(r){return String(r.s*r.s/0)}function H(r,t){var e,n,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(e<0&&(e=n),e+=+t.slice(n+1),t=t.substring(0,n)):e<0&&(e=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,r.e=e=e-n-1,r.d=[],n=(e+1)%_,e<0&&(n+=_),n<i){for(n&&r.d.push(+t.slice(0,n)),i-=_;n<i;)r.d.push(+t.slice(n,n+=_));t=t.slice(n),n=_-t.length}else n-=i;for(;n--;)t+="0";r.d.push(+t),h&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function Y(r,t){var n,i,o,a,u,s,c,f,l;if("Infinity"===t||"NaN"===t)return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(w.test(t))n=16,t=t.toLowerCase();else if(b.test(t))n=2;else{if(!M.test(t))throw Error(g+t);n=8}for((a=t.search(/p/i))>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),u=(a=t.indexOf("."))>=0,i=r.constructor,u&&(a=(s=(t=t.replace(".","")).length)-a,o=R(i,new i(n),a,2*a)),a=l=(f=C(t,n,N)).length-1;0===f[a];--a)f.pop();return a<0?new i(0*r.s):(r.e=P(f,l),r.d=f,h=!1,u&&(r=O(r,o,4*s)),c&&(r=r.times(Math.abs(c)<54?Math.pow(2,c):e.pow(2,c))),h=!0,r)}function J(r,t,e,n,i){var o,a,u,s,c=r.precision,f=Math.ceil(c/_);for(h=!1,s=e.times(e),u=new r(n);;){if(a=O(u.times(s),new r(t++*t++),c,1),u=i?n.plus(a):n.minus(a),n=O(a.times(s),new r(t++*t++),c,1),void 0!==(a=u.plus(n)).d[f]){for(o=f;a.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=n,n=a,a=o,0}return h=!0,a.d.length=f+1,a}function G(r,t){var e,n=t.s<0,i=q(r,r.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return a=n?4:1,t;if((e=t.divToInt(i)).isZero())a=n?3:2;else{if((t=t.minus(e.times(i))).lte(o))return a=L(e)?n?2:3:n?4:1,t;a=L(e)?n?1:4:n?3:2}return t.minus(i).abs()}function W(r,t,e,n){var o,a,u,f,l,m,h,p,g,y=r.constructor,d=void 0!==e;if(d?(T(e,1,s),void 0===n?n=y.rounding:T(n,0,8)):(e=y.precision,n=y.rounding),r.isFinite()){for(d?(o=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):o=t,(u=(h=I(r)).indexOf("."))>=0&&(h=h.replace(".",""),(g=new y(1)).e=h.length-u,g.d=C(I(g),10,o),g.e=g.d.length),a=l=(p=C(h,10,o)).length;0==p[--l];)p.pop();if(p[0]){if(u<0?a--:((r=new y(r)).d=p,r.e=a,p=(r=O(r,g,e,n,0,o)).d,a=r.e,m=i),u=p[e],f=o/2,m=m||void 0!==p[e+1],m=n<4?(void 0!==u||m)&&(0===n||n===(r.s<0?3:2)):u>f||u===f&&(4===n||m||6===n&&1&p[e-1]||n===(r.s<0?8:7)),p.length=e,m)for(;++p[--e]>o-1;)p[e]=0,e||(++a,p.unshift(1));for(l=p.length;!p[l-1];--l);for(u=0,h="";u<l;u++)h+=c.charAt(p[u]);if(d){if(l>1)if(16==t||8==t){for(u=16==t?4:3,--l;l%u;l++)h+="0";for(l=(p=C(h,o,t)).length;!p[l-1];--l);for(u=1,h="1.";u<l;u++)h+=c.charAt(p[u])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>l)for(a-=l;a--;)h+="0";else a<l&&(h=h.slice(0,a)+"."+h.slice(a))}else h=d?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=X(r);return r.s<0?"-"+h:h}function Q(r,t){if(r.length>t)return r.length=t,!0}function K(r){return new this(r).abs()}function rr(r){return new this(r).acos()}function tr(r){return new this(r).acosh()}function er(r,t){return new this(r).plus(t)}function nr(r){return new this(r).asin()}function ir(r){return new this(r).asinh()}function or(r){return new this(r).atan()}function ar(r){return new this(r).atanh()}function ur(r,t){r=new this(r),t=new this(t);var e,n=this.precision,i=this.rounding,o=n+4;return r.s&&t.s?r.d||t.d?!t.d||r.isZero()?(e=t.s<0?q(this,n,i):new this(0)).s=r.s:!r.d||t.isZero()?(e=q(this,o,1).times(.5)).s=r.s:t.s<0?(this.precision=o,this.rounding=1,e=this.atan(O(r,t,o,1)),t=q(this,o,1),this.precision=n,this.rounding=i,e=r.s<0?e.minus(t):e.plus(t)):e=this.atan(O(r,t,o,1)):(e=q(this,o,1).times(t.s>0?.25:.75)).s=r.s:e=new this(NaN),e}function sr(r){return new this(r).cbrt()}function cr(r){return k(r=new this(r),r.e+1,2)}function fr(r){if(!r||"object"!==n(r))throw Error(p+"Object expected");var t,e,i,o=!0===r.defaults,a=["precision",1,s,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(e=a[t],o&&(this[e]=m[e]),void 0!==(i=r[e])){if(!(v(i)===i&&i>=a[t+1]&&i<=a[t+2]))throw Error(g+e+": "+i);this[e]=i}if(e="crypto",o&&(this[e]=m[e]),void 0!==(i=r[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(g+e+": "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(d);this[e]=!0}else this[e]=!1}return this}function lr(r){return new this(r).cos()}function mr(r){return new this(r).cosh()}function hr(r,t){return new this(r).div(t)}function pr(r){return new this(r).exp()}function gr(r){return k(r=new this(r),r.e+1,3)}function yr(){var r,t,e=new this(0);for(h=!1,r=0;r<arguments.length;)if((t=new this(arguments[r++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);e=t}return h=!0,e.sqrt()}function dr(r){return r instanceof e||r&&"[object Decimal]"===r.name||!1}function vr(r){return new this(r).ln()}function xr(r,t){return new this(r).log(t)}function br(r){return new this(r).log(2)}function wr(r){return new this(r).log(10)}function Mr(){return $(this,arguments,"lt")}function Ar(){return $(this,arguments,"gt")}function Nr(r,t){return new this(r).mod(t)}function _r(r,t){return new this(r).mul(t)}function Er(r,t){return new this(r).pow(t)}function Sr(r){var t,e,n,i,o=0,a=new this(1),u=[];if(void 0===r?r=this.precision:T(r,1,s),n=Math.ceil(r/_),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(d);for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(u.push(i%1e7),o+=4);o=n/4}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],r%=_,n&&r&&(i=x(10,_-r),u[o]=(n/i|0)*i);0===u[o];o--)u.pop();if(o<0)e=0,u=[0];else{for(e=-1;0===u[0];e-=_)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<_&&(e-=_-n)}return a.e=e,a.d=u,a}function jr(r){return k(r=new this(r),r.e+1,this.rounding)}function Br(r){return(r=new this(r)).d?r.d[0]?r.s:0*r.s:r.s||NaN}function Tr(r){return new this(r).sin()}function zr(r){return new this(r).sinh()}function Cr(r){return new this(r).sqrt()}function Or(r,t){return new this(r).sub(t)}function kr(r){return new this(r).tan()}function Ir(r){return new this(r).tanh()}function Pr(r){return k(r=new this(r),r.e+1,1)}(e=function r(t){var e,i,o;function a(r){var t,e,i,o=this;if(!(o instanceof a))return new a(r);if(o.constructor=a,r instanceof a)return o.s=r.s,o.e=r.e,void(o.d=(r=r.d)?r.slice():r);if("number"===(i=n(r))){if(0===r)return o.s=1/r<0?-1:1,o.e=0,void(o.d=[0]);if(r<0?(r=-r,o.s=-1):o.s=1,r===~~r&&r<1e7){for(t=0,e=r;e>=10;e/=10)t++;return o.e=t,void(o.d=[r])}return 0*r!=0?(r||(o.s=NaN),o.e=NaN,void(o.d=null)):H(o,r.toString())}if("string"!==i)throw Error(g+r);return 45===r.charCodeAt(0)?(r=r.slice(1),o.s=-1):o.s=1,A.test(r)?H(o,r):Y(o,r)}if(a.prototype=j,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=fr,a.clone=r,a.isDecimal=dr,a.abs=K,a.acos=rr,a.acosh=tr,a.add=er,a.asin=nr,a.asinh=ir,a.atan=or,a.atanh=ar,a.atan2=ur,a.cbrt=sr,a.ceil=cr,a.cos=lr,a.cosh=mr,a.div=hr,a.exp=pr,a.floor=gr,a.hypot=yr,a.ln=vr,a.log=xr,a.log10=wr,a.log2=br,a.max=Mr,a.min=Ar,a.mod=Nr,a.mul=_r,a.pow=Er,a.random=Sr,a.round=jr,a.sign=Br,a.sin=Tr,a.sinh=zr,a.sqrt=Cr,a.sub=Or,a.tan=kr,a.tanh=Ir,a.trunc=Pr,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<o.length;)t.hasOwnProperty(i=o[e++])||(t[i]=this[i]);return a.config(t),a}(m)).default=e.Decimal=e,f=new e(f),l=new e(l),"function"==typeof define&&define.amd?define(function(){return e}):void 0!==t&&t.exports?t.exports=e:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),o=r.Decimal,e.noConflict=function(){return r.Decimal=o,e},r.Decimal=e)}(void 0)},{}],41:[function(r,t,e){"use strict";var n=r("clone");t.exports=function(r,t){return r=r||{},Object.keys(t).forEach(function(e){void 0===r[e]&&(r[e]=n(t[e]))}),r}},{clone:38}],42:[function(r,t,e){"use strict";var n,i=r("ansi-regex");try{n=r("wcwidth")}catch(r){}function o(){this.rows=[],this.row={__printers:{}}}function a(r){return void 0===r?"":""+r}function u(r){var t=r.replace(i(),"");return null==n?t.length:n(t)}function s(r){return function(t,e){var n=a(t),i=u(n);return(e>i?Array(e-i+1).join(r):"")+n}}t.exports=o,o.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},o.prototype.cell=function(r,t,e){return this.row[r]=t,this.row.__printers[r]=e||a,this},o.prototype.separator="  ",o.string=a,o.leftPadder=s;var c=o.padLeft=s(" ");function f(r){return function(t,e){var n=a(t),i=u(n);return n+(e>i?Array(e-i+1).join(r):"")}}o.rightPadder=f;var l=f(" ");function m(r,t){for(var e in r)"__printers"!=e&&t(e,r[e])}function h(r,t){return r===t?0:void 0===r?1:void 0===t?-1:null===r?1:null===t?-1:r>t?1:r<t?-1:h(String(r),String(t))}o.number=function(r){return function(t,e){if(null==t)return"";if("number"!=typeof t)throw new Error(t+" is not a number");var n=null==r?t+"":t.toFixed(r);return c(n,e)}},o.prototype.columns=function(){for(var r={},t=0;t<2;t++)this.rows.forEach(function(t){var e=0;m(t,function(t){e=Math.max(e,r[t]||0),r[t]=e,e++})});return Object.keys(r).sort(function(t,e){return r[t]-r[e]})},o.prototype.print=function(){var r=this.columns(),t=this.separator,e={},n="";return this.rows.forEach(function(r){m(r,function(t,n){var i=r.__printers[t].call(r,n);e[t]=Math.max(u(i),e[t]||0)})}),this.rows.forEach(function(i){var o="";r.forEach(function(r){var n=e[r],a=i.hasOwnProperty(r)?""+i.__printers[r].call(i,i[r],n):"";o+=l(a,n)+t}),o=o.slice(0,-t.length),n+=o+"\n"}),n},o.prototype.toString=function(){var r=this.columns(),t=new o;return t.separator=this.separator,r.forEach(function(r){t.cell(r,r)}),t.newRow(),t.pushDelimeter(r),t.rows=t.rows.concat(this.rows),this.totals&&this.rows.length&&(t.pushDelimeter(r),this.forEachTotal(t.cell.bind(t)),t.newRow()),t.print()},o.prototype.pushDelimeter=function(r){return(r=r||this.columns()).forEach(function(r){this.cell(r,void 0,s("-"))},this),this.newRow()},o.prototype.forEachTotal=function(r){for(var t in this.totals){var e=this.totals[t],n=e.init,i=this.rows.length;this.rows.forEach(function(r,o){n=e.reduce.call(r,n,r[t],o,i)}),r(t,n,e.printer)}},o.prototype.printTransposed=function(r){r=r||{};var t=new o;return t.separator=r.separator||this.separator,this.columns().forEach(function(e){t.cell(0,e,r.namePrinter),this.rows.forEach(function(r,n){t.cell(n+1,r[e],r.__printers[e])}),t.newRow()},this),t.print()},o.prototype.sort=function(r){if("function"==typeof r)return this.rows.sort(r),this;var t=(Array.isArray(r)?r:this.columns()).map(function(r){var t="asc",e=/(.*)\|\s*(asc|des)\s*$/.exec(r);return e&&(r=e[1],t=e[2]),function(e,n){return"asc"==t?h(e[r],n[r]):h(n[r],e[r])}});return this.sort(function(r,e){for(var n=0;n<t.length;n++){var i=t[n](r,e);if(0!=i)return i}return 0})},o.prototype.total=function(r,t){return t=t||{},this.totals=this.totals||{},this.totals[r]={reduce:t.reduce||o.aggr.sum,printer:t.printer||c,init:null==t.init?0:t.init},this},o.aggr={},o.aggr.printer=function(r,t){return t=t||a,function(e,n){return c(r+t(e),n)}},o.aggr.sum=function(r,t){return r+t},o.aggr.avg=function(r,t,e,n){return r+=t,e+1==n?r/n:r},o.print=function(r,t,e){var n=t||{};t="function"==typeof t?t:function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var i=n[e]||{};t(i.name||e,r[e],i.printer)}};var i=new o,a=i.cell.bind(i);return Array.isArray(r)?(e=e||function(r){return r.toString()},r.forEach(function(r){t(r,a),i.newRow()})):(e=e||function(r){return r.printTransposed({separator:" : "})},t(r,a),i.newRow()),e(i)},o.log=function(r,t,e){console.log(o.print(r,t,e))},o.prototype.log=function(){console.log(this.toString())}},{"ansi-regex":35,wcwidth:241}],43:[function(r,t,e){"use strict";var n=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"–":"\\--","—":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(r,t){return n({},r,t)};t.exports=function(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.preserveFormatting,u=void 0!==e&&e,s=t.escapeMapFn,c=void 0===s?a:s,f=String(r),l="",m=c(n({},i),u?n({},o):{}),h=Object.keys(m),p=function(){var r=!1;h.forEach(function(t,e){r||f.length>=t.length&&f.slice(0,t.length)===t&&(l+=m[h[e]],f=f.slice(t.length,f.length),r=!0)}),r||(l+=f.slice(0,1),f=f.slice(1,f.length))};f;)p();return l}},{}],44:[function(r,t,e){"use strict";function n(r){if(this.size=0|r,this.size<=1||0!=(this.size&this.size-1))throw new Error("FFT size must be a power of two and bigger than 1");this._csize=r<<1;for(var t=new Array(2*this.size),e=0;e<t.length;e+=2){var n=Math.PI*e/this.size;t[e]=Math.cos(n),t[e+1]=-Math.sin(n)}this.table=t;for(var i=0,o=1;this.size>o;o<<=1)i++;this._width=i%2==0?i-1:i,this._bitrev=new Array(1<<this._width);for(var a=0;a<this._bitrev.length;a++){this._bitrev[a]=0;for(var u=0;u<this._width;u+=2){var s=this._width-u-2;this._bitrev[a]|=(a>>>u&3)<<s}}this._out=null,this._data=null,this._inv=0}t.exports=n,n.prototype.fromComplexArray=function(r,t){for(var e=t||new Array(r.length>>>1),n=0;n<r.length;n+=2)e[n>>>1]=r[n];return e},n.prototype.createComplexArray=function(){for(var r=new Array(this._csize),t=0;t<r.length;t++)r[t]=0;return r},n.prototype.toComplexArray=function(r,t){for(var e=t||this.createComplexArray(),n=0;n<e.length;n+=2)e[n]=r[n>>>1],e[n+1]=0;return e},n.prototype.completeSpectrum=function(r){for(var t=this._csize,e=t>>>1,n=2;n<e;n+=2)r[t-n]=r[n],r[t-n+1]=-r[n+1]},n.prototype.transform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=0,this._transform4(),this._out=null,this._data=null},n.prototype.realTransform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=0,this._realTransform4(),this._out=null,this._data=null},n.prototype.inverseTransform=function(r,t){if(r===t)throw new Error("Input and output buffers must be different");this._out=r,this._data=t,this._inv=1,this._transform4();for(var e=0;e<r.length;e++)r[e]/=this.size;this._out=null,this._data=null},n.prototype._transform4=function(){var r,t,e=this._out,n=this._csize,i=1<<this._width,o=n/i<<1,a=this._bitrev;if(4===o)for(r=0,t=0;r<n;r+=o,t++){var u=a[t];this._singleTransform2(r,u,i)}else for(r=0,t=0;r<n;r+=o,t++){var s=a[t];this._singleTransform4(r,s,i)}var c=this._inv?-1:1,f=this.table;for(i>>=2;i>=2;i>>=2){var l=(o=n/i<<1)>>>2;for(r=0;r<n;r+=o)for(var m=r+l,h=r,p=0;h<m;h+=2,p+=i){var g=h,y=g+l,d=y+l,v=d+l,x=e[g],b=e[g+1],w=e[y],M=e[y+1],A=e[d],N=e[d+1],_=e[v],E=e[v+1],S=x,j=b,B=f[p],T=c*f[p+1],z=w*B-M*T,C=w*T+M*B,O=f[2*p],k=c*f[2*p+1],I=A*O-N*k,P=A*k+N*O,F=f[3*p],q=c*f[3*p+1],U=_*F-E*q,D=_*q+E*F,R=S+I,L=j+P,$=S-I,V=j-P,Z=z+U,X=C+D,H=c*(z-U),Y=c*(C-D),J=R+Z,G=L+X,W=R-Z,Q=L-X,K=$+Y,rr=V-H,tr=$-Y,er=V+H;e[g]=J,e[g+1]=G,e[y]=K,e[y+1]=rr,e[d]=W,e[d+1]=Q,e[v]=tr,e[v+1]=er}}},n.prototype._singleTransform2=function(r,t,e){var n=this._out,i=this._data,o=i[t],a=i[t+1],u=i[t+e],s=i[t+e+1],c=o+u,f=a+s,l=o-u,m=a-s;n[r]=c,n[r+1]=f,n[r+2]=l,n[r+3]=m},n.prototype._singleTransform4=function(r,t,e){var n=this._out,i=this._data,o=this._inv?-1:1,a=2*e,u=3*e,s=i[t],c=i[t+1],f=i[t+e],l=i[t+e+1],m=i[t+a],h=i[t+a+1],p=i[t+u],g=i[t+u+1],y=s+m,d=c+h,v=s-m,x=c-h,b=f+p,w=l+g,M=o*(f-p),A=o*(l-g),N=y+b,_=d+w,E=v+A,S=x-M,j=y-b,B=d-w,T=v-A,z=x+M;n[r]=N,n[r+1]=_,n[r+2]=E,n[r+3]=S,n[r+4]=j,n[r+5]=B,n[r+6]=T,n[r+7]=z},n.prototype._realTransform4=function(){var r,t,e=this._out,n=this._csize,i=1<<this._width,o=n/i<<1,a=this._bitrev;if(4===o)for(r=0,t=0;r<n;r+=o,t++){var u=a[t];this._singleRealTransform2(r,u>>>1,i>>>1)}else for(r=0,t=0;r<n;r+=o,t++){var s=a[t];this._singleRealTransform4(r,s>>>1,i>>>1)}var c=this._inv?-1:1,f=this.table;for(i>>=2;i>=2;i>>=2){var l=(o=n/i<<1)>>>1,m=l>>>1,h=m>>>1;for(r=0;r<n;r+=o)for(var p=0,g=0;p<=h;p+=2,g+=i){var y=r+p,d=y+m,v=d+m,x=v+m,b=e[y],w=e[y+1],M=e[d],A=e[d+1],N=e[v],_=e[v+1],E=e[x],S=e[x+1],j=b,B=w,T=f[g],z=c*f[g+1],C=M*T-A*z,O=M*z+A*T,k=f[2*g],I=c*f[2*g+1],P=N*k-_*I,F=N*I+_*k,q=f[3*g],U=c*f[3*g+1],D=E*q-S*U,R=E*U+S*q,L=j+P,$=B+F,V=j-P,Z=B-F,X=C+D,H=O+R,Y=c*(C-D),J=c*(O-R),G=L+X,W=$+H,Q=V+J,K=Z-Y;if(e[y]=G,e[y+1]=W,e[d]=Q,e[d+1]=K,0!==p){if(p!==h){var rr=V+-c*J,tr=-Z+-c*Y,er=L+-c*X,nr=-$- -c*H,ir=r+m-p,or=r+l-p;e[ir]=rr,e[ir+1]=tr,e[or]=er,e[or+1]=nr}}else{var ar=L-X,ur=$-H;e[v]=ar,e[v+1]=ur}}}},n.prototype._singleRealTransform2=function(r,t,e){var n=this._out,i=this._data,o=i[t],a=i[t+e],u=o+a,s=o-a;n[r]=u,n[r+1]=0,n[r+2]=s,n[r+3]=0},n.prototype._singleRealTransform4=function(r,t,e){var n=this._out,i=this._data,o=this._inv?-1:1,a=2*e,u=3*e,s=i[t],c=i[t+e],f=i[t+a],l=i[t+u],m=s+f,h=s-f,p=c+l,g=o*(c-l),y=m+p,d=h,v=-g,x=m-p,b=h,w=g;n[r]=y,n[r+1]=0,n[r+2]=d,n[r+3]=v,n[r+4]=x,n[r+5]=0,n[r+6]=b,n[r+7]=w}},{}],45:[function(r,t,e){"use strict";e.read=function(r,t,e,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=e?i-1:0,m=e?-1:1,h=r[t+l];for(l+=m,o=h&(1<<-f)-1,h>>=-f,f+=u;f>0;o=256*o+r[t+l],l+=m,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+r[t+l],l+=m,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},e.write=function(r,t,e,n,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,m=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?m/s:m*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;r[e+h]=255&u,h+=p,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;r[e+h]=255&a,h+=p,a/=256,c-=8);r[e+h-p]|=128*g}},{}],46:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}t.exports=function r(t,e){var i,o,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,u=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,f=/^0/,l=function(t){return r.insensitive&&(""+t).toLowerCase()||""+t},m=l(t).replace(u,"")||"",h=l(e).replace(u,"")||"",p=m.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=parseInt(m.match(c),16)||1!==p.length&&m.match(s)&&Date.parse(m),d=parseInt(h.match(c),16)||y&&h.match(s)&&Date.parse(h)||null;if(d){if(y<d)return-1;if(y>d)return 1}for(var v=0,x=Math.max(p.length,g.length);v<x;v++){if(i=!(p[v]||"").match(f)&&parseFloat(p[v])||p[v]||0,o=!(g[v]||"").match(f)&&parseFloat(g[v])||g[v]||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if(n(i)!==n(o)&&(i+="",o+=""),i<o)return-1;if(i>o)return 1}return 0}},{}],47:[function(r,t,e){"use strict";t.exports=r("./lib/core/core")},{"./lib/core/core":48}],48:[function(r,t,e){"use strict";var n=r("./../utils/object").isFactory,i=r("./typed"),o=r("./../utils/emitter"),a=r("./function/import"),u=r("./function/config");e.create=function(r){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t=[],e=[],s=o.mixin({});s.type={},s.expression={transform:{},mathWithTransform:{}},s.typed=i.create(s.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function f(r){if(!n(r))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=t.indexOf(r);return-1===o?(i=!0===r.math?r.factory(s.type,c,f,s.typed,s):r.factory(s.type,c,f,s.typed),t.push(r),e.push(i)):i=e[o],i}return s.import=f(a),s.config=f(u),s.expression.mathWithTransform.config=s.config,r&&s.config(r),s}},{"./../utils/emitter":225,"./../utils/object":230,"./function/config":49,"./function/import":50,"./typed":51}],49:[function(r,t,e){"use strict";var n=r("../../utils/object");function i(r,t,e){if(void 0!==r[t]&&(i=e,o=r[t],-1===i.indexOf(o))){var n=function(r,t){return r.map(function(r){return r.toLowerCase()}).indexOf(t.toLowerCase())}(e,r[t]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+e[n]+'" instead of "'+r[t]+'".'),r[t]=e[n]):console.warn('Warning: Unknown value "'+r[t]+'" for configuration option "'+t+'". Available options: '+e.map(JSON.stringify).join(", ")+".")}var i,o}e.name="config",e.math=!0,e.factory=function(r,t,e,o,a){var u=["Matrix","Array"],s=["number","BigNumber","Fraction"];function c(r){if(r){var e=n.map(t,n.clone);i(r,"matrix",u),i(r,"number",s),n.deepExtend(t,r);var o=n.map(t,n.clone),c=n.map(r,n.clone);return a.emit("config",o,e,c),o}return n.map(t,n.clone)}return c.MATRIX=u,c.NUMBER=s,c}},{"../../utils/object":230}],50:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("../../utils/object").lazy,o=r("../../utils/object").isFactory,a=r("../../utils/object").traverse,u=r("../../error/ArgumentsError");e.math=!0,e.name="import",e.factory=function(r,t,e,s,c){function f(r,t,e){if(e.wrap&&"function"==typeof t&&(i=function(){for(var r=[],t=0,e=arguments.length;t<e;t++){var i=arguments[t];r[t]=i&&i.valueOf()}return n.apply(c,r)},(n=t).transform&&(i.transform=n.transform),t=i),p(c[r])&&p(t))return t=e.override?s(r,t.signatures):s(c[r],t),c[r]=t,l(r,t),void c.emit("import",r,function(){return t});var n,i;if(void 0===c[r]||e.override)return c[r]=t,l(r,t),void c.emit("import",r,function(){return t});if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')}function l(r,t){t&&"function"==typeof t.transform?(c.expression.transform[r]=t.transform,g(r)&&(c.expression.mathWithTransform[r]=t.transform)):(delete c.expression.transform[r],g(r)&&(c.expression.mathWithTransform[r]=t))}function m(r,t){if("string"==typeof r.name){var n=r.name,o=n in c.expression.transform,u=r.path?a(c,r.path):c,f=u.hasOwnProperty(n)?u[n]:void 0,l=function(){var i=e(r);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(p(f)&&p(i))return t.override||(i=s(f,i)),i;if(void 0===f||t.override)return i;if(!t.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==r.lazy?(i(u,n,l),o||("expression.transform"===r.path||y(r))&&i(c.expression.mathWithTransform,n,l)):(u[n]=l(),o||("expression.transform"===r.path||y(r))&&(c.expression.mathWithTransform[n]=l())),c.emit("import",n,l,r.path)}else e(r)}function h(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&r.isUnit(t)||t&&r.isComplex(t)||t&&r.isBigNumber(t)||t&&r.isFraction(t)||t&&r.isMatrix(t)||t&&Array.isArray(t)}function p(r){return"function"==typeof r&&"object"===n(r.signatures)}function g(r){return!d.hasOwnProperty(r)}function y(r){return void 0===r.path&&!d.hasOwnProperty(r.name)}var d={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function r(t,e){var i=arguments.length;if(1!==i&&2!==i)throw new u("import",i,1,2);if(e||(e={}),o(t))m(t,e);else if(Array.isArray(t))t.forEach(function(t){r(t,e)});else if("object"===n(t)){for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];h(s)?f(a,s,e):o(t)?m(t,e):r(s,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},{"../../error/ArgumentsError":52,"../../utils/object":230}],51:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("typed-function"),o=r("./../utils/number").digits,a=r("./../utils/bignumber/isBigNumber"),u=r("./../utils/collection/isMatrix"),s=function(){return s=i.create,i};e.create=function(r){r.isNumber=function(r){return"number"==typeof r},r.isComplex=function(t){return r.Complex&&t instanceof r.Complex||!1},r.isBigNumber=a,r.isFraction=function(t){return r.Fraction&&t instanceof r.Fraction||!1},r.isUnit=function(r){return r&&r.constructor.prototype.isUnit||!1},r.isString=function(r){return"string"==typeof r},r.isArray=Array.isArray,r.isMatrix=u,r.isDenseMatrix=function(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix||!1},r.isSparseMatrix=function(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix||!1},r.isRange=function(r){return r&&r.constructor.prototype.isRange||!1},r.isIndex=function(r){return r&&r.constructor.prototype.isIndex||!1},r.isBoolean=function(r){return"boolean"==typeof r},r.isResultSet=function(r){return r&&r.constructor.prototype.isResultSet||!1},r.isHelp=function(r){return r&&r.constructor.prototype.isHelp||!1},r.isFunction=function(r){return"function"==typeof r},r.isDate=function(r){return r instanceof Date},r.isRegExp=function(r){return r instanceof RegExp},r.isObject=function(r){return"object"===n(r)},r.isNull=function(r){return null===r},r.isUndefined=function(r){return void 0===r},r.isAccessorNode=function(r){return r&&r.isAccessorNode&&r.constructor.prototype.isNode||!1},r.isArrayNode=function(r){return r&&r.isArrayNode&&r.constructor.prototype.isNode||!1},r.isAssignmentNode=function(r){return r&&r.isAssignmentNode&&r.constructor.prototype.isNode||!1},r.isBlockNode=function(r){return r&&r.isBlockNode&&r.constructor.prototype.isNode||!1},r.isConditionalNode=function(r){return r&&r.isConditionalNode&&r.constructor.prototype.isNode||!1},r.isConstantNode=function(r){return r&&r.isConstantNode&&r.constructor.prototype.isNode||!1},r.isFunctionAssignmentNode=function(r){return r&&r.isFunctionAssignmentNode&&r.constructor.prototype.isNode||!1},r.isFunctionNode=function(r){return r&&r.isFunctionNode&&r.constructor.prototype.isNode||!1},r.isIndexNode=function(r){return r&&r.isIndexNode&&r.constructor.prototype.isNode||!1},r.isNode=function(r){return r&&r.isNode&&r.constructor.prototype.isNode||!1},r.isObjectNode=function(r){return r&&r.isObjectNode&&r.constructor.prototype.isNode||!1},r.isOperatorNode=function(r){return r&&r.isOperatorNode&&r.constructor.prototype.isNode||!1},r.isParenthesisNode=function(r){return r&&r.isParenthesisNode&&r.constructor.prototype.isNode||!1},r.isRangeNode=function(r){return r&&r.isRangeNode&&r.constructor.prototype.isNode||!1},r.isSymbolNode=function(r){return r&&r.isSymbolNode&&r.constructor.prototype.isNode||!1},r.isChain=function(r){return r&&r.constructor.prototype.isChain||!1};var t=s();return t.types=[{name:"number",test:r.isNumber},{name:"Complex",test:r.isComplex},{name:"BigNumber",test:r.isBigNumber},{name:"Fraction",test:r.isFraction},{name:"Unit",test:r.isUnit},{name:"string",test:r.isString},{name:"Array",test:r.isArray},{name:"Matrix",test:r.isMatrix},{name:"DenseMatrix",test:r.isDenseMatrix},{name:"SparseMatrix",test:r.isSparseMatrix},{name:"Range",test:r.isRange},{name:"Index",test:r.isIndex},{name:"boolean",test:r.isBoolean},{name:"ResultSet",test:r.isResultSet},{name:"Help",test:r.isHelp},{name:"function",test:r.isFunction},{name:"Date",test:r.isDate},{name:"RegExp",test:r.isRegExp},{name:"Object",test:r.isObject},{name:"null",test:r.isNull},{name:"undefined",test:r.isUndefined},{name:"OperatorNode",test:r.isOperatorNode},{name:"ConstantNode",test:r.isConstantNode},{name:"SymbolNode",test:r.isSymbolNode},{name:"ParenthesisNode",test:r.isParenthesisNode},{name:"FunctionNode",test:r.isFunctionNode},{name:"FunctionAssignmentNode",test:r.isFunctionAssignmentNode},{name:"ArrayNode",test:r.isArrayNode},{name:"AssignmentNode",test:r.isAssignmentNode},{name:"BlockNode",test:r.isBlockNode},{name:"ConditionalNode",test:r.isConditionalNode},{name:"IndexNode",test:r.isIndexNode},{name:"RangeNode",test:r.isRangeNode},{name:"Node",test:r.isNode}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(o(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new r.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new r.Complex(t,0)}},{from:"number",to:"string",convert:function(r){return r+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new r.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(r){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new r.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new r.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new r.Fraction(t)}},{from:"string",to:"number",convert:function(r){var t=Number(r);if(isNaN(t))throw new Error('Cannot convert "'+r+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new r.BigNumber(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new r.Fraction(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new r.Complex(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(r){return+r}},{from:"boolean",to:"BigNumber",convert:function(t){return new r.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new r.Fraction(+t)}},{from:"boolean",to:"string",convert:function(r){return+r}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new r.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new r.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(t){return new r.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(r){return r.valueOf()}}],t}},{"./../utils/bignumber/isBigNumber":214,"./../utils/collection/isMatrix":221,"./../utils/number":229,"typed-function":239}],52:[function(r,t,e){"use strict";function n(r,t,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=t,this.min=e,this.max=i,this.message="Wrong number of arguments in function "+r+" ("+t+" provided, "+e+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,t.exports=n},{}],53:[function(r,t,e){"use strict";function n(r,t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,t.exports=n},{}],54:[function(r,t,e){"use strict";function n(r,t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,t.exports=n},{}],55:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="abs",e.factory=function(r,t,e,i){var o=i("abs",{number:Math.abs,Complex:function(r){return r.abs()},BigNumber:function(r){return r.abs()},Fraction:function(r){return r.abs()},"Array | Matrix":function(r){return n(r,o,!0)},Unit:function(r){return r.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}},{"../../utils/collection/deepMap":219}],56:[function(r,t,e){"use strict";var n=r("../../utils/object").extend;e.name="add",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=i(r("./addScalar")),s=r("../../utils/latex.js"),c=i(r("../../type/matrix/utils/algorithm01")),f=i(r("../../type/matrix/utils/algorithm04")),l=i(r("../../type/matrix/utils/algorithm10")),m=i(r("../../type/matrix/utils/algorithm13")),h=i(r("../../type/matrix/utils/algorithm14")),p=o("add",n({"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=f(r,t,u);break;default:e=c(t,r,u,!0)}break;default:switch(t.storage()){case"sparse":e=c(r,t,u,!1);break;default:e=m(r,t,u)}}return e},"Array, Array":function(r,t){return p(a(r),a(t)).valueOf()},"Array, Matrix":function(r,t){return p(a(r),t)},"Matrix, Array":function(r,t){return p(r,a(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=l(r,t,u,!1);break;default:e=h(r,t,u,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=l(t,r,u,!0);break;default:e=h(t,r,u,!0)}return e},"Array, any":function(r,t){return h(a(r),t,u,!1).valueOf()},"any, Array":function(r,t){return h(a(t),r,u,!0).valueOf()},"any, any":u,"Array | Matrix | any, Array | Matrix | any, ...any":function(r,t,e){for(var n=p(r,t),i=0;i<e.length;i++)n=p(n,e[i]);return n}},u.signatures));return p.toTex={2:"\\left(${args[0]}"+s.operators.add+"${args[1]}\\right)"},p}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm01":198,"../../type/matrix/utils/algorithm04":201,"../../type/matrix/utils/algorithm10":206,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex.js":228,"../../utils/object":230,"./addScalar":57}],57:[function(r,t,e){"use strict";e.factory=function(r,t,e,n){var i=n("add",{"number, number":function(r,t){return r+t},"Complex, Complex":function(r,t){return r.add(t)},"BigNumber, BigNumber":function(r,t){return r.plus(t)},"Fraction, Fraction":function(r,t){return r.add(t)},"Unit, Unit":function(r,t){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var e=r.clone();return e.value=i(e.value,t.value),e.fixPrefix=!1,e}});return i}},{}],58:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.cbrt||function(r){if(0===r)return r;var t,e=r<0;return e&&(r=-r),t=isFinite(r)?(r/((t=Math.exp(Math.log(r)/3))*t)+2*t)/3:r,e?-t:t};e.name="cbrt",e.factory=function(t,e,o,a){var u=o(r("./unaryMinus")),s=o(r("../utils/isNegative")),c=o(r("../../type/matrix/function/matrix")),f=a("cbrt",{number:i,Complex:l,"Complex, boolean":l,BigNumber:function(r){return r.cbrt()},Unit:function(r){if(r.value&&t.isComplex(r.value)){var e=r.clone();return e.value=1,(e=e.pow(1/3)).value=l(r.value),e}var n,i=s(r.value);i&&(r.value=u(r.value)),n=t.isBigNumber(r.value)?new t.BigNumber(1).div(3):t.isFraction(r.value)?new t.Fraction(1,3):1/3;var e=r.pow(n);return i&&(e.value=u(e.value)),e},"Array | Matrix":function(r){return n(r,f,!0)}});function l(r,n){var o=r.arg()/3,a=r.abs(),u=new t.Complex(i(a),0).mul(new t.Complex(0,o).exp());if(n){var s=[u,new t.Complex(i(a),0).mul(new t.Complex(0,o+2*Math.PI/3).exp()),new t.Complex(i(a),0).mul(new t.Complex(0,o-2*Math.PI/3).exp())];return"Array"===e.matrix?s:c(s)}return u}return f.toTex={1:"\\sqrt[3]{${args[0]}}"},f}},{"../../type/matrix/function/matrix":195,"../../utils/collection/deepMap":219,"../utils/isNegative":173,"./unaryMinus":86}],59:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="ceil",e.factory=function(r,t,e,i){var o=i("ceil",{number:Math.ceil,Complex:function(r){return r.ceil()},BigNumber:function(r){return r.ceil()},Fraction:function(r){return r.ceil()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}},{"../../utils/collection/deepMap":219}],60:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="cube",e.factory=function(r,t,e,i){var o=i("cube",{number:function(r){return r*r*r},Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},"Array | Matrix":function(r){return n(r,o,!0)},Unit:function(r){return r.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}},{"../../utils/collection/deepMap":219}],61:[function(r,t,e){"use strict";var n=r("../../utils/object").extend;e.name="divide",e.factory=function(t,e,i,o){var a=i(r("./divideScalar")),u=i(r("./multiply")),s=i(r("../matrix/inv")),c=i(r("../../type/matrix/function/matrix")),f=i(r("../../type/matrix/utils/algorithm11")),l=i(r("../../type/matrix/utils/algorithm14")),m=o("divide",n({"Array | Matrix, Array | Matrix":function(r,t){return u(r,s(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,a,!1);break;case"dense":e=l(r,t,a,!1)}return e},"Array, any":function(r,t){return l(c(r),t,a,!1).valueOf()},"any, Array | Matrix":function(r,t){return u(r,s(t))}},a.signatures));return m.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},m}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm14":210,"../../utils/object":230,"../matrix/inv":99,"./divideScalar":62,"./multiply":76}],62:[function(r,t,e){"use strict";e.factory=function(t,e,n,i){var o=n(r("./multiplyScalar")),a=i("divide",{"number, number":function(r,t){return r/t},"Complex, Complex":function(r,t){return r.div(t)},"BigNumber, BigNumber":function(r,t){return r.div(t)},"Fraction, Fraction":function(r,t){return r.div(t)},"Unit, number | Fraction | BigNumber":function(r,t){var e=r.clone();return e.value=a(null===e.value?e._normalize(1):e.value,t),e},"number | Fraction | BigNumber, Unit":function(r,t){var e=t.pow(-1);return e.value=o(null===e.value?e._normalize(1):e.value,r),e},"Unit, Unit":function(r,t){return r.divide(t)}});return a}},{"./multiplyScalar":77}],63:[function(r,t,e){"use strict";e.name="dotDivide",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=n(r("./divideScalar")),u=r("../../utils/latex"),s=n(r("../../type/matrix/utils/algorithm02")),c=n(r("../../type/matrix/utils/algorithm03")),f=n(r("../../type/matrix/utils/algorithm07")),l=n(r("../../type/matrix/utils/algorithm11")),m=n(r("../../type/matrix/utils/algorithm12")),h=n(r("../../type/matrix/utils/algorithm13")),p=n(r("../../type/matrix/utils/algorithm14")),g=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=f(r,t,a,!1);break;default:e=s(t,r,a,!0)}break;default:switch(t.storage()){case"sparse":e=c(r,t,a,!1);break;default:e=h(r,t,a)}}return e},"Array, Array":function(r,t){return g(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return g(o(r),t)},"Matrix, Array":function(r,t){return g(r,o(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=l(r,t,a,!1);break;default:e=p(r,t,a,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=m(t,r,a,!0);break;default:e=p(t,r,a,!0)}return e},"Array, any":function(r,t){return p(o(r),t,a,!1).valueOf()},"any, Array":function(r,t){return p(o(t),r,a,!0).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+u.operators.dotDivide+"${args[1]}\\right)"},g}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm07":204,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex":228,"./divideScalar":62}],64:[function(r,t,e){"use strict";e.name="dotMultiply",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=n(r("./multiplyScalar")),u=r("../../utils/latex"),s=n(r("../../type/matrix/utils/algorithm02")),c=n(r("../../type/matrix/utils/algorithm09")),f=n(r("../../type/matrix/utils/algorithm11")),l=n(r("../../type/matrix/utils/algorithm13")),m=n(r("../../type/matrix/utils/algorithm14")),h=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,a,!1);break;default:e=s(t,r,a,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,a,!1);break;default:e=l(r,t,a)}}return e},"Array, Array":function(r,t){return h(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return h(o(r),t)},"Matrix, Array":function(r,t){return h(r,o(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,a,!1);break;default:e=m(r,t,a,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,a,!0);break;default:e=m(t,r,a,!0)}return e},"Array, any":function(r,t){return m(o(r),t,a,!1).valueOf()},"any, Array":function(r,t){return m(o(t),r,a,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+u.operators.dotMultiply+"${args[1]}\\right)"},h}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm09":205,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex":228,"./multiplyScalar":77}],65:[function(r,t,e){"use strict";e.name="dotPow",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=n(r("./pow")),u=r("../../utils/latex"),s=n(r("../../type/matrix/utils/algorithm03")),c=n(r("../../type/matrix/utils/algorithm07")),f=n(r("../../type/matrix/utils/algorithm11")),l=n(r("../../type/matrix/utils/algorithm12")),m=n(r("../../type/matrix/utils/algorithm13")),h=n(r("../../type/matrix/utils/algorithm14")),p=i("dotPow",{"any, any":a,"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,a,!1);break;default:e=s(t,r,a,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,a,!1);break;default:e=m(r,t,a)}}return e},"Array, Array":function(r,t){return p(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return p(o(r),t)},"Matrix, Array":function(r,t){return p(r,o(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,p,!1);break;default:e=h(r,t,p,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=l(t,r,p,!0);break;default:e=h(t,r,p,!0)}return e},"Array, any":function(r,t){return h(o(r),t,p,!1).valueOf()},"any, Array":function(r,t){return h(o(t),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+u.operators.dotPow+"${args[1]}\\right)"},p}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm07":204,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex":228,"./pow":80}],66:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="exp",e.factory=function(r,t,e,i){var o=i("exp",{number:Math.exp,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],67:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="fix",e.factory=function(r,t,e,i){var o=i("fix",{number:function(r){return r>0?Math.floor(r):Math.ceil(r)},Complex:function(t){return new r.Complex(t.re>0?Math.floor(t.re):Math.ceil(t.re),t.im>0?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(r){return r.isNegative()?r.ceil():r.floor()},Fraction:function(r){return r.s<0?r.ceil():r.floor()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],68:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="floor",e.factory=function(r,t,e,i){var o=i("floor",{number:Math.floor,Complex:function(r){return r.floor()},BigNumber:function(r){return r.floor()},Fraction:function(r){return r.floor()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}},{"../../utils/collection/deepMap":219}],69:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;function i(r,t){if(!n(r)||!n(t))throw new Error("Parameters in function gcd must be integer numbers");for(var e;0!=t;)e=r%t,r=t,t=e;return r<0?-r:r}e.name="gcd",e.factory=function(t,e,n,o){var a=n(r("../../type/matrix/function/matrix")),u=n(r("../../type/matrix/utils/algorithm01")),s=n(r("../../type/matrix/utils/algorithm04")),c=n(r("../../type/matrix/utils/algorithm10")),f=n(r("../../type/matrix/utils/algorithm13")),l=n(r("../../type/matrix/utils/algorithm14")),m=o("gcd",{"number, number":i,"BigNumber, BigNumber":function(r,e){if(!r.isInt()||!e.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new t.BigNumber(0);!e.isZero();){var i=r.mod(e);r=e,e=i}return r.lt(n)?r.neg():r},"Fraction, Fraction":function(r,t){return r.gcd(t)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,m);break;default:e=u(t,r,m,!0)}break;default:switch(t.storage()){case"sparse":e=u(r,t,m,!1);break;default:e=f(r,t,m)}}return e},"Array, Array":function(r,t){return m(a(r),a(t)).valueOf()},"Array, Matrix":function(r,t){return m(a(r),t)},"Matrix, Array":function(r,t){return m(r,a(t))},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=c(r,t,m,!1);break;default:e=l(r,t,m,!1)}return e},"number | BigNumber, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=c(t,r,m,!0);break;default:e=l(t,r,m,!0)}return e},"Array, number | BigNumber":function(r,t){return l(a(r),t,m,!1).valueOf()},"number | BigNumber, Array":function(r,t){return l(a(t),r,m,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(r,t,e){for(var n=m(r,t),i=0;i<e.length;i++)n=m(n,e[i]);return n}});return m.toTex="\\gcd\\left(${args}\\right)",m}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm01":198,"../../type/matrix/utils/algorithm04":201,"../../type/matrix/utils/algorithm10":206,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/number":229}],70:[function(r,t,e){"use strict";var n=r("../../utils/array").flatten;e.name="hypot",e.factory=function(t,e,i,o){var a=i(r("./abs")),u=i(r("./addScalar")),s=i(r("./divideScalar")),c=i(r("./multiplyScalar")),f=i(r("./sqrt")),l=i(r("../relational/smaller")),m=i(r("../utils/isPositive")),h=o("hypot",{"... number | BigNumber":function(r){for(var t=0,e=0,n=0;n<r.length;n++){var i=a(r[n]);l(e,i)?(t=c(t,c(s(e,i),s(e,i))),t=u(t,1),e=i):t=u(t,m(i)?c(s(i,e),s(i,e)):i)}return c(e,f(t))},Array:function(r){return h.apply(h,n(r))},Matrix:function(r){return h.apply(h,n(r.toArray()))}});return h.toTex="\\hypot\\left(${args}\\right)",h}},{"../../utils/array":212,"../relational/smaller":130,"../utils/isPositive":175,"./abs":55,"./addScalar":57,"./divideScalar":62,"./multiplyScalar":77,"./sqrt":83}],71:[function(r,t,e){"use strict";t.exports=[r("./abs"),r("./add"),r("./addScalar"),r("./cbrt"),r("./ceil"),r("./cube"),r("./divide"),r("./dotDivide"),r("./dotMultiply"),r("./dotPow"),r("./exp"),r("./fix"),r("./floor"),r("./gcd"),r("./hypot"),r("./lcm"),r("./log"),r("./log10"),r("./mod"),r("./multiply"),r("./norm"),r("./nthRoot"),r("./pow"),r("./round"),r("./sign"),r("./sqrt"),r("./square"),r("./subtract"),r("./unaryMinus"),r("./unaryPlus"),r("./xgcd")]},{"./abs":55,"./add":56,"./addScalar":57,"./cbrt":58,"./ceil":59,"./cube":60,"./divide":61,"./dotDivide":63,"./dotMultiply":64,"./dotPow":65,"./exp":66,"./fix":67,"./floor":68,"./gcd":69,"./hypot":70,"./lcm":72,"./log":73,"./log10":74,"./mod":75,"./multiply":76,"./norm":78,"./nthRoot":79,"./pow":80,"./round":81,"./sign":82,"./sqrt":83,"./square":84,"./subtract":85,"./unaryMinus":86,"./unaryPlus":87,"./xgcd":88}],72:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;function i(r,t){if(!n(r)||!n(t))throw new Error("Parameters in function lcm must be integer numbers");if(0==r||0==t)return 0;for(var e,i=r*t;0!=t;)t=r%(e=t),r=e;return Math.abs(i/r)}e.name="lcm",e.factory=function(t,e,n,o){var a=n(r("../../type/matrix/function/matrix")),u=n(r("../../type/matrix/utils/algorithm02")),s=n(r("../../type/matrix/utils/algorithm06")),c=n(r("../../type/matrix/utils/algorithm11")),f=n(r("../../type/matrix/utils/algorithm13")),l=n(r("../../type/matrix/utils/algorithm14")),m=o("lcm",{"number, number":i,"BigNumber, BigNumber":function(r,e){if(!r.isInt()||!e.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(r.isZero()||e.isZero())return new t.BigNumber(0);for(var n=r.times(e);!e.isZero();){var i=e;e=r.mod(i),r=i}return n.div(r).abs()},"Fraction, Fraction":function(r,t){return r.lcm(t)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,m);break;default:e=u(t,r,m,!0)}break;default:switch(t.storage()){case"sparse":e=u(r,t,m,!1);break;default:e=f(r,t,m)}}return e},"Array, Array":function(r,t){return m(a(r),a(t)).valueOf()},"Array, Matrix":function(r,t){return m(a(r),t)},"Matrix, Array":function(r,t){return m(r,a(t))},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=c(r,t,m,!1);break;default:e=l(r,t,m,!1)}return e},"number | BigNumber, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=c(t,r,m,!0);break;default:e=l(t,r,m,!0)}return e},"Array, number | BigNumber":function(r,t){return l(a(r),t,m,!1).valueOf()},"number | BigNumber, Array":function(r,t){return l(a(t),r,m,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(r,t,e){for(var n=m(r,t),i=0;i<e.length;i++)n=m(n,e[i]);return n}});return m.toTex=void 0,m}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm06":203,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/number":229}],73:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="log",e.factory=function(t,e,i,o){var a=i(r("./divideScalar")),u=o("log",{number:function(r){return r>=0||e.predictable?Math.log(r):new t.Complex(r,0).log()},Complex:function(r){return r.log()},BigNumber:function(r){return!r.isNegative()||e.predictable?r.ln():new t.Complex(r.toNumber(),0).log()},"Array | Matrix":function(r){return n(r,u)},"any, any":function(r,t){return a(u(r),u(t))}});return u.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},u}},{"../../utils/collection/deepMap":219,"./divideScalar":62}],74:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.log10||function(r){return Math.log(r)/Math.LN10};e.name="log10",e.factory=function(r,t,e,o){var a=o("log10",{number:function(e){return e>=0||t.predictable?i(e):new r.Complex(e,0).log().div(Math.LN10)},Complex:function(t){return new r.Complex(t).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||t.predictable?e.log():new r.Complex(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],75:[function(r,t,e){"use strict";e.name="mod",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=r("../../utils/latex"),u=n(r("../../type/matrix/utils/algorithm02")),s=n(r("../../type/matrix/utils/algorithm03")),c=n(r("../../type/matrix/utils/algorithm05")),f=n(r("../../type/matrix/utils/algorithm11")),l=n(r("../../type/matrix/utils/algorithm12")),m=n(r("../../type/matrix/utils/algorithm13")),h=n(r("../../type/matrix/utils/algorithm14")),p=i("mod",{"number, number":function(r,t){if(t>0)return r-t*Math.floor(r/t);if(0===t)return r;throw new Error("Cannot calculate mod for a negative divisor")},"BigNumber, BigNumber":function(r,t){return t.isZero()?r:r.mod(t)},"Fraction, Fraction":function(r,t){return r.mod(t)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,p,!1);break;default:e=u(t,r,p,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,p,!1);break;default:e=m(r,t,p)}}return e},"Array, Array":function(r,t){return p(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return p(o(r),t)},"Matrix, Array":function(r,t){return p(r,o(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,p,!1);break;default:e=h(r,t,p,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=l(t,r,p,!0);break;default:e=h(t,r,p,!0)}return e},"Array, any":function(r,t){return h(o(r),t,p,!1).valueOf()},"any, Array":function(r,t){return h(o(t),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+a.operators.mod+"${args[1]}\\right)"},p}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm05":202,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex":228}],76:[function(r,t,e){"use strict";var n=r("../../utils/object").extend,i=r("../../utils/array");e.name="multiply",e.factory=function(t,e,o,a){var u=r("../../utils/latex"),s=o(r("../../type/matrix/function/matrix")),c=o(r("./addScalar")),f=o(r("./multiplyScalar")),l=o(r("../relational/equalScalar")),m=o(r("../../type/matrix/utils/algorithm11")),h=o(r("../../type/matrix/utils/algorithm14")),p=t.DenseMatrix,g=t.SparseMatrix,y=a("multiply",n({"Array, Array":function(r,e){d(i.size(r),i.size(e));var n=y(s(r),s(e));return t.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(r,t){var e=r.size(),n=t.size();return d(e,n),1===e.length?1===n.length?v(r,t,e[0]):x(r,t):1===n.length?w(r,t):M(r,t)},"Matrix, Array":function(r,t){return y(r,s(t))},"Array, Matrix":function(r,t){return y(s(r,t.storage()),t)},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=m(r,t,f,!1);break;case"dense":e=h(r,t,f,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=m(t,r,f,!0);break;case"dense":e=h(t,r,f,!0)}return e},"Array, any":function(r,t){return h(s(r),t,f,!1).valueOf()},"any, Array":function(r,t){return h(s(t),r,f,!0).valueOf()},"any, any":f,"Array | Matrix | any, Array | Matrix | any, ...any":function(r,t,e){for(var n=y(r,t),i=0;i<e.length;i++)n=y(n,e[i]);return n}},f.signatures)),d=function(r,t){switch(r.length){case 1:switch(t.length){case 1:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+r[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+r[1]+") must match Vector length ("+t[0]+")");break;case 2:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+r[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+r.length+" dimensions)")}},v=function(r,t,e){if(0===e)throw new Error("Cannot multiply two empty vectors");var n,i=r._data,o=r._datatype,u=t._data,s=t._datatype,l=c,m=f;o&&s&&o===s&&"string"==typeof o&&(n=o,l=a.find(c,[n,n]),m=a.find(f,[n,n]));for(var h=m(i[0],u[0]),p=1;p<e;p++)h=l(h,m(i[p],u[p]));return h},x=function(r,t){switch(t.storage()){case"dense":return b(r,t)}throw new Error("Not implemented")},b=function(r,t){var e,n=r._data,i=r._size,o=r._datatype,u=t._data,s=t._size,l=t._datatype,m=i[0],h=s[1],g=c,y=f;o&&l&&o===l&&"string"==typeof o&&(e=o,g=a.find(c,[e,e]),y=a.find(f,[e,e]));for(var d=[],v=0;v<h;v++){for(var x=y(n[0],u[0][v]),b=1;b<m;b++)x=g(x,y(n[b],u[b][v]));d[v]=x}return new p({data:d,size:[h],datatype:e})},w=function(r,t){switch(r.storage()){case"dense":return A(r,t);case"sparse":return E(r,t)}},M=function(r,t){switch(r.storage()){case"dense":switch(t.storage()){case"dense":return N(r,t);case"sparse":return _(r,t)}break;case"sparse":switch(t.storage()){case"dense":return S(r,t);case"sparse":return j(r,t)}}},A=function(r,t){var e,n=r._data,i=r._size,o=r._datatype,u=t._data,s=t._datatype,l=i[0],m=i[1],h=c,g=f;o&&s&&o===s&&"string"==typeof o&&(e=o,h=a.find(c,[e,e]),g=a.find(f,[e,e]));for(var y=[],d=0;d<l;d++){for(var v=n[d],x=g(v[0],u[0]),b=1;b<m;b++)x=h(x,g(v[b],u[b]));y[d]=x}return new p({data:y,size:[l],datatype:e})},N=function(r,t){var e,n=r._data,i=r._size,o=r._datatype,u=t._data,s=t._size,l=t._datatype,m=i[0],h=i[1],g=s[1],y=c,d=f;o&&l&&o===l&&"string"==typeof o&&(e=o,y=a.find(c,[e,e]),d=a.find(f,[e,e]));for(var v=[],x=0;x<m;x++){var b=n[x];v[x]=[];for(var w=0;w<g;w++){for(var M=d(b[0],u[0][w]),A=1;A<h;A++)M=y(M,d(b[A],u[A][w]));v[x][w]=M}}return new p({data:v,size:[m,g],datatype:e})},_=function(r,t){var e=r._data,n=r._size,i=r._datatype,o=t._values,u=t._index,s=t._ptr,m=t._size,h=t._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,y=n[0],d=m[1],v=c,x=f,b=l,w=0;i&&h&&i===h&&"string"==typeof i&&(p=i,v=a.find(c,[p,p]),x=a.find(f,[p,p]),b=a.find(l,[p,p]),w=a.convert(0,p));for(var M=[],A=[],N=[],_=new g({values:M,index:A,ptr:N,size:[y,d],datatype:p}),E=0;E<d;E++){N[E]=A.length;var S=s[E],j=s[E+1];if(j>S)for(var B=0,T=0;T<y;T++){for(var z,C=T+1,O=S;O<j;O++){var k=u[O];B!==C?(z=x(e[T][k],o[O]),B=C):z=v(z,x(e[T][k],o[O]))}B!==C||b(z,w)||(A.push(T),M.push(z))}}return N[d]=A.length,_},E=function(r,t){var e=r._values,n=r._index,i=r._ptr,o=r._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,s=t._data,m=t._datatype,h=r._size[0],p=t._size[0],y=[],d=[],v=[],x=c,b=f,w=l,M=0;o&&m&&o===m&&"string"==typeof o&&(u=o,x=a.find(c,[u,u]),b=a.find(f,[u,u]),w=a.find(l,[u,u]),M=a.convert(0,u));var A=[],N=[];v[0]=0;for(var _=0;_<p;_++){var E=s[_];if(!w(E,M))for(var S=i[_],j=i[_+1],B=S;B<j;B++){var T=n[B];N[T]?A[T]=x(A[T],b(E,e[B])):(N[T]=!0,d.push(T),A[T]=b(E,e[B]))}}for(var z=d.length,C=0;C<z;C++){var O=d[C];y[C]=A[O]}return v[1]=d.length,new g({values:y,index:d,ptr:v,size:[h,1],datatype:u})},S=function(r,t){var e=r._values,n=r._index,i=r._ptr,o=r._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,s=t._data,m=t._datatype,h=r._size[0],p=t._size[0],y=t._size[1],d=c,v=f,x=l,b=0;o&&m&&o===m&&"string"==typeof o&&(u=o,d=a.find(c,[u,u]),v=a.find(f,[u,u]),x=a.find(l,[u,u]),b=a.convert(0,u));for(var w=[],M=[],A=[],N=new g({values:w,index:M,ptr:A,size:[h,y],datatype:u}),_=[],E=[],S=0;S<y;S++){A[S]=M.length;for(var j=S+1,B=0;B<p;B++){var T=s[B][S];if(!x(T,b))for(var z=i[B],C=i[B+1],O=z;O<C;O++){var k=n[O];E[k]!==j?(E[k]=j,M.push(k),_[k]=v(T,e[O])):_[k]=d(_[k],v(T,e[O]))}}for(var I=A[S],P=M.length,F=I;F<P;F++){var q=M[F];w[F]=_[q]}}return A[y]=M.length,N},j=function(r,t){var e,n=r._values,i=r._index,o=r._ptr,u=r._datatype,s=t._values,l=t._index,m=t._ptr,h=t._datatype,p=r._size[0],y=t._size[1],d=n&&s,v=c,x=f;u&&h&&u===h&&"string"==typeof u&&(e=u,v=a.find(c,[e,e]),x=a.find(f,[e,e]));for(var b,w,M,A,N,_,E,S,j=d?[]:void 0,B=[],T=[],z=new g({values:j,index:B,ptr:T,size:[p,y],datatype:e}),C=d?[]:void 0,O=[],k=0;k<y;k++){T[k]=B.length;var I=k+1;for(N=m[k],_=m[k+1],A=N;A<_;A++)if(S=l[A],d)for(w=o[S],M=o[S+1],b=w;b<M;b++)O[E=i[b]]!==I?(O[E]=I,B.push(E),C[E]=x(s[A],n[b])):C[E]=v(C[E],x(s[A],n[b]));else for(w=o[S],M=o[S+1],b=w;b<M;b++)O[E=i[b]]!==I&&(O[E]=I,B.push(E));if(d)for(var P=T[k],F=B.length,q=P;q<F;q++){var U=B[q];j[q]=C[U]}}return T[y]=B.length,z};return y.toTex={2:"\\left(${args[0]}"+u.operators.multiply+"${args[1]}\\right)"},y}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm14":210,"../../utils/array":212,"../../utils/latex":228,"../../utils/object":230,"../relational/equalScalar":128,"./addScalar":57,"./multiplyScalar":77}],77:[function(r,t,e){"use strict";e.factory=function(r,t,e,n){var i=n("multiplyScalar",{"number, number":function(r,t){return r*t},"Complex, Complex":function(r,t){return r.mul(t)},"BigNumber, BigNumber":function(r,t){return r.times(t)},"Fraction, Fraction":function(r,t){return r.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(r,t){var e=t.clone();return e.value=null===e.value?e._normalize(r):i(e.value,r),e},"Unit, number | Fraction | BigNumber | Complex":function(r,t){var e=r.clone();return e.value=null===e.value?e._normalize(t):i(e.value,t),e},"Unit, Unit":function(r,t){return r.multiply(t)}});return i}},{}],78:[function(r,t,e){"use strict";e.name="norm",e.factory=function(t,e,n,i){var o=n(r("../arithmetic/abs")),a=n(r("../arithmetic/add")),u=n(r("../arithmetic/pow")),s=n(r("../arithmetic/sqrt")),c=n(r("../arithmetic/multiply")),f=n(r("../relational/equalScalar")),l=n(r("../relational/larger")),m=n(r("../relational/smaller")),h=n(r("../../type/matrix/function/matrix")),p=n(r("../matrix/trace")),g=n(r("../matrix/transpose")),y=i("norm",{number:Math.abs,Complex:function(r){return r.abs()},BigNumber:function(r){return r.abs()},"boolean | null":function(r){return Math.abs(r)},Array:function(r){return d(h(r),2)},Matrix:function(r){return d(r,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(r){return y(r)},"Array, number | BigNumber | string":function(r,t){return d(h(r),t)},"Matrix, number | BigNumber | string":function(r,t){return d(r,t)}});function d(r,t){var e=r.size();if(1==e.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var n=0;return r.forEach(function(r){var t=o(r);l(t,n)&&(n=t)},!0),n}var i;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return r.forEach(function(r){var t=o(r);i&&!m(t,i)||(i=t)},!0),i||0;if("fro"===t)return d(r,2);if("number"==typeof t&&!isNaN(t)){if(!f(t,0)){var h=0;return r.forEach(function(r){h=a(u(o(r),t),h)},!0),u(h,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==e.length){if(1===t){var y=[],v=0;return r.forEach(function(r,t){var e=t[1],n=a(y[e]||0,o(r));l(n,v)&&(v=n),y[e]=n},!0),v}if(t===Number.POSITIVE_INFINITY||"inf"===t){var x=[],b=0;return r.forEach(function(r,t){var e=t[0],n=a(x[e]||0,o(r));l(n,b)&&(b=n),x[e]=n},!0),b}if("fro"===t)return s(p(c(g(r),r)));if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return y.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},y}},{"../../type/matrix/function/matrix":195,"../arithmetic/abs":55,"../arithmetic/add":56,"../arithmetic/multiply":76,"../arithmetic/pow":80,"../arithmetic/sqrt":83,"../matrix/trace":111,"../matrix/transpose":112,"../relational/equalScalar":128,"../relational/larger":129,"../relational/smaller":130}],79:[function(r,t,e){"use strict";function n(r,t){var e=t<0;if(e&&(t=-t),0===t)throw new Error("Root must be non-zero");if(r<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==r)return e?1/0:0;if(!isFinite(r))return e?0:r;var n=Math.pow(Math.abs(r),1/t);return n=r<0?-n:n,e?1/n:n}function i(r,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!=0)throw new Error("Root must be an integer");for(var e=r.arg(),n=r.abs(),i=[],o=Math.pow(n,1/t),a=0;a<t;a++)i.push({r:o,phi:(e+2*Math.PI*a)/t});return i}e.name="nthRoot",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=o(r("../../type/matrix/utils/algorithm01")),c=o(r("../../type/matrix/utils/algorithm02")),f=o(r("../../type/matrix/utils/algorithm06")),l=o(r("../../type/matrix/utils/algorithm11")),m=o(r("../../type/matrix/utils/algorithm13")),h=o(r("../../type/matrix/utils/algorithm14")),p=a("nthRoot",{number:function(r){return n(r,2)},"number, number":n,BigNumber:function(r){return g(r,new t.BigNumber(2))},Complex:function(r){return i(r,2)},"Complex, number":i,"BigNumber, BigNumber":g,"Array | Matrix":function(r){return p(r,2)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");e=f(r,t,p);break;default:e=c(t,r,p,!0)}break;default:switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");e=s(r,t,p,!1);break;default:e=m(r,t,p)}}return e},"Array, Array":function(r,t){return p(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return p(u(r),t)},"Matrix, Array":function(r,t){return p(r,u(t))},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=l(r,t,p,!1);break;default:e=h(r,t,p,!1)}return e},"number | BigNumber, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":if(1!==t.density())throw new Error("Root must be non-zero");e=l(t,r,p,!0);break;default:e=h(t,r,p,!0)}return e},"Array, number | BigNumber":function(r,t){return p(u(r),t).valueOf()},"number | BigNumber, Array":function(r,t){return p(r,u(t)).valueOf()}});return p.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},p;function g(r,e){var n=t.BigNumber.precision,i=t.BigNumber.clone({precision:n+2}),o=new t.BigNumber(0),a=new i(1),u=e.isNegative();if(u&&(e=e.neg()),e.isZero())throw new Error("Root must be non-zero");if(r.isNegative()&&!e.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(r.isZero())return u?new i(1/0):0;if(!r.isFinite())return u?o:r;var s=r.abs().pow(a.div(e));return s=r.isNeg()?s.neg():s,new t.BigNumber((u?a.div(s):s).toPrecision(n))}}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm01":198,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm06":203,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210}],80:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger,i=r("../../utils/array").size;e.name="pow",e.factory=function(t,e,o,a){var u=r("../../utils/latex"),s=o(r("../matrix/eye")),c=o(r("./multiply")),f=o(r("../../type/matrix/function/matrix")),l=o(r("../../type/fraction/function/fraction")),m=o(r("../../type/number")),h=a("pow",{"number, number":p,"Complex, Complex":function(r,t){return r.pow(t)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||e.predictable?r.pow(n):new t.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(r,t){if(1!==t.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return p(r.valueOf(),t.valueOf())}return r.pow(t)},"Array, number":g,"Array, BigNumber":function(r,t){return g(r,t.toNumber())},"Matrix, number":y,"Matrix, BigNumber":function(r,t){return y(r,t.toNumber())},"Unit, number":function(r,t){return r.pow(t)}});function p(r,i){if(e.predictable&&!n(i)&&r<0)try{var o=l(i),a=m(o);if((i===a||Math.abs((i-a)/i)<1e-14)&&o.d%2==1)return(o.n%2==0?1:-1)*Math.pow(-r,i)}catch(r){}return r*r<1&&i===1/0||r*r>1&&i===-1/0?0:e.predictable&&(r<-1&&i===1/0||r>-1&&r<0&&i===-1/0)?NaN:n(i)||r>=0||e.predictable?Math.pow(r,i):new t.Complex(r,0).pow(i,0)}function g(r,t){if(!n(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var e=i(r);if(2!=e.length)throw new Error("For A^b, A must be 2 dimensional (A has "+e.length+" dimensions)");if(e[0]!=e[1])throw new Error("For A^b, A must be square (size is "+e[0]+"x"+e[1]+")");for(var o=s(e[0]).valueOf(),a=r;t>=1;)1==(1&t)&&(o=c(a,o)),t>>=1,a=c(a,a);return o}function y(r,t){return f(g(r.valueOf(),t))}return h.toTex={2:"\\left(${args[0]}\\right)"+u.operators.pow+"{${args[1]}}"},h}},{"../../type/fraction/function/fraction":185,"../../type/matrix/function/matrix":195,"../../type/number":211,"../../utils/array":212,"../../utils/latex":228,"../../utils/number":229,"../matrix/eye":94,"./multiply":76}],81:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger,i=r("../../utils/number").toFixed,o=r("../../utils/collection/deepMap"),a="Number of decimals in function round must be an integer";e.name="round",e.factory=function(t,e,u,s){var c=u(r("../../type/matrix/function/matrix")),f=u(r("../relational/equalScalar")),l=u(r("../matrix/zeros")),m=u(r("../../type/matrix/utils/algorithm11")),h=u(r("../../type/matrix/utils/algorithm12")),p=u(r("../../type/matrix/utils/algorithm14")),g=s("round",{number:Math.round,"number, number":function(r,t){if(!n(t))throw new TypeError(a);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return parseFloat(i(r,t))},Complex:function(r){return r.round()},"Complex, number":function(r,t){if(t%1)throw new TypeError(a);return r.round(t)},"Complex, BigNumber":function(r,t){if(!t.isInteger())throw new TypeError(a);var e=t.toNumber();return r.round(e)},"number, BigNumber":function(r,e){if(!e.isInteger())throw new TypeError(a);return new t.BigNumber(r).toDecimalPlaces(e.toNumber())},BigNumber:function(r){return r.toDecimalPlaces(0)},"BigNumber, BigNumber":function(r,t){if(!t.isInteger())throw new TypeError(a);return r.toDecimalPlaces(t.toNumber())},Fraction:function(r){return r.round()},"Fraction, number":function(r,t){if(t%1)throw new TypeError(a);return r.round(t)},"Array | Matrix":function(r){return o(r,g,!0)},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=m(r,t,g,!1);break;default:e=p(r,t,g,!1)}return e},"number | Complex | BigNumber, Matrix":function(r,t){if(!f(r,0)){var e;switch(t.storage()){case"sparse":e=h(t,r,g,!0);break;default:e=p(t,r,g,!0)}return e}return l(t.size(),t.storage())},"Array, number | BigNumber":function(r,t){return p(c(r),t,g,!1).valueOf()},"number | Complex | BigNumber, Array":function(r,t){return p(c(t),r,g,!0).valueOf()}});return g.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},g}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm14":210,"../../utils/collection/deepMap":219,"../../utils/number":229,"../matrix/zeros":113,"../relational/equalScalar":128}],82:[function(r,t,e){"use strict";var n=r("../../utils/number"),i=r("../../utils/collection/deepMap");e.name="sign",e.factory=function(r,t,e,o){var a=o("sign",{number:n.sign,Complex:function(r){return r.sign()},BigNumber:function(t){return new r.BigNumber(t.cmp(0))},Fraction:function(t){return new r.Fraction(t.s,1)},"Array | Matrix":function(r){return i(r,a,!0)},Unit:function(r){return a(r.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],83:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="sqrt",e.factory=function(r,t,e,i){var o=i("sqrt",{number:a,Complex:function(r){return r.sqrt()},BigNumber:function(r){return!r.isNegative()||t.predictable?r.sqrt():a(r.toNumber())},"Array | Matrix":function(r){return n(r,o,!0)},Unit:function(r){return r.pow(.5)}});function a(e){return e>=0||t.predictable?Math.sqrt(e):new r.Complex(e,0).sqrt()}return o.toTex={1:"\\sqrt{${args[0]}}"},o}},{"../../utils/collection/deepMap":219}],84:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="square",e.factory=function(r,t,e,i){var o=i("square",{number:function(r){return r*r},Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},"Array | Matrix":function(r){return n(r,o,!0)},Unit:function(r){return r.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}},{"../../utils/collection/deepMap":219}],85:[function(r,t,e){"use strict";var n=r("../../error/DimensionError");e.name="subtract",e.factory=function(t,e,i,o){var a=r("../../utils/latex"),u=i(r("../../type/matrix/function/matrix")),s=i(r("./addScalar")),c=i(r("./unaryMinus")),f=i(r("../../type/matrix/utils/algorithm01")),l=i(r("../../type/matrix/utils/algorithm03")),m=i(r("../../type/matrix/utils/algorithm05")),h=i(r("../../type/matrix/utils/algorithm10")),p=i(r("../../type/matrix/utils/algorithm13")),g=i(r("../../type/matrix/utils/algorithm14")),y=o("subtract",{"number, number":function(r,t){return r-t},"Complex, Complex":function(r,t){return r.sub(t)},"BigNumber, BigNumber":function(r,t){return r.minus(t)},"Fraction, Fraction":function(r,t){return r.sub(t)},"Unit, Unit":function(r,t){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var e=r.clone();return e.value=y(e.value,t.value),e.fixPrefix=!1,e},"Matrix, Matrix":function(r,t){var e,i=r.size(),o=t.size();if(i.length!==o.length)throw new n(i.length,o.length);switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=m(r,t,y);break;default:e=l(t,r,y,!0)}break;default:switch(t.storage()){case"sparse":e=f(r,t,y,!1);break;default:e=p(r,t,y)}}return e},"Array, Array":function(r,t){return y(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return y(u(r),t)},"Matrix, Array":function(r,t){return y(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=h(r,c(t),s);break;default:e=g(r,t,y)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=h(t,r,y,!0);break;default:e=g(t,r,y,!0)}return e},"Array, any":function(r,t){return g(u(r),t,y,!1).valueOf()},"any, Array":function(r,t){return g(u(t),r,y,!0).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},y}},{"../../error/DimensionError":53,"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm01":198,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm05":202,"../../type/matrix/utils/algorithm10":206,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/latex":228,"./addScalar":57,"./unaryMinus":86}],86:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="unaryMinus",e.factory=function(t,e,i,o){var a=r("../../utils/latex"),u=o("unaryMinus",{number:function(r){return-r},Complex:function(r){return r.neg()},BigNumber:function(r){return r.neg()},Fraction:function(r){return r.neg()},Unit:function(r){var t=r.clone();return t.value=u(r.value),t},"Array | Matrix":function(r){return n(r,u,!0)}});return u.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},u}},{"../../utils/collection/deepMap":219,"../../utils/latex":228}],87:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="unaryPlus",e.factory=function(t,e,i,o){var a=r("../../utils/latex"),u=o("unaryPlus",{number:function(r){return r},Complex:function(r){return r},BigNumber:function(r){return r},Fraction:function(r){return r},Unit:function(r){return r.clone()},"Array | Matrix":function(r){return n(r,u,!0)},"boolean | string | null":function(r){return"BigNumber"==e.number?new t.BigNumber(+r):+r}});return u.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},u}},{"../../utils/collection/deepMap":219,"../../utils/latex":228}],88:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;e.name="xgcd",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=o("xgcd",{"number, number":function(r,t){var i,o,u,s,c=0,f=1,l=1,m=0;if(!n(r)||!n(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)o=Math.floor(r/t),u=r-o*t,i=c,c=f-o*c,f=i,i=l,l=m-o*l,m=i,r=t,t=u;return s=r<0?[-r,-f,-m]:[r,r?f:0,m],"Array"===e.matrix?s:a(s)},"BigNumber, BigNumber":function(r,n){var i,o,u,s,c=new t.BigNumber(0),f=new t.BigNumber(1),l=c,m=f,h=f,p=c;if(!r.isInt()||!n.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!n.isZero();)o=r.div(n).floor(),u=r.mod(n),i=l,l=m.minus(o.times(l)),m=i,i=h,h=p.minus(o.times(h)),p=i,r=n,n=u;return s=r.lt(c)?[r.neg(),m.neg(),p.neg()]:[r,r.isZero()?0:m,p],"Array"===e.matrix?s:a(s)}});return u.toTex=void 0,u}},{"../../type/matrix/function/matrix":195,"../../utils/number":229}],89:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/number").isInteger,o=r("../../utils/array"),a=r("../../error/IndexError"),u=r("../../error/DimensionError");function s(r,t,e,n){if(n<e){if(r.length!=t.length)throw new u(r.length,t.length);for(var i=[],o=0;o<r.length;o++)i[o]=s(r[o],t[o],e,n+1);return i}return r.concat(t)}e.name="concat",e.factory=function(t,e,c,f){var l=c(r("../../type/matrix/function/matrix")),m=f("concat",{"...Array | Matrix | number | BigNumber":function(r){var e,c,f=r.length,m=-1,h=!1,p=[];for(e=0;e<f;e++){var g=r[e];if(t.isMatrix(g)&&(h=!0),t.isNumber(g)||t.isBigNumber(g)){if(e!==f-1)throw new Error("Dimension must be specified as last argument");if(c=m,m=g.valueOf(),!i(m))throw new TypeError("Integer number expected for dimension");if(m<0||e>0&&m>c)throw new a(m,c+1)}else{var y=n(g).valueOf(),d=o.size(y);if(p[e]=y,c=m,m=d.length-1,e>0&&m!=c)throw new u(c+1,m+1)}}if(0==p.length)throw new SyntaxError("At least one matrix expected");for(var v=p.shift();p.length;)v=s(v,p.shift(),m,0);return h?l(v):v},"...string":function(r){return r.join("")}});return m.toTex=void 0,m}},{"../../error/DimensionError":53,"../../error/IndexError":54,"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229,"../../utils/object":230}],90:[function(r,t,e){"use strict";var n=r("../../utils/array");e.name="cross",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=i(r("../arithmetic/subtract")),s=i(r("../arithmetic/multiply")),c=o("cross",{"Matrix, Matrix":function(r,t){return a(f(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return a(f(r.toArray(),t))},"Array, Matrix":function(r,t){return a(f(r,t.toArray()))},"Array, Array":f});return c.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},c;function f(r,t){var e=Math.max(n.size(r).length,n.size(t).length);r=n.squeeze(r),t=n.squeeze(t);var i=n.size(r),o=n.size(t);if(1!=i.length||1!=o.length||3!=i[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");var a=[u(s(r[1],t[2]),s(r[2],t[1])),u(s(r[2],t[0]),s(r[0],t[2])),u(s(r[0],t[1]),s(r[1],t[0]))];return e>1?[a]:a}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../arithmetic/multiply":76,"../arithmetic/subtract":85}],91:[function(r,t,e){"use strict";var n=r("../../utils/index"),i=n.object,o=n.string;e.name="det",e.factory=function(t,e,n,a){var u=n(r("../../type/matrix/function/matrix")),s=n(r("../arithmetic/add")),c=n(r("../arithmetic/subtract")),f=n(r("../arithmetic/multiply")),l=n(r("../arithmetic/unaryMinus")),m=a("det",{any:function(r){return i.clone(r)},"Array | Matrix":function(r){var e;switch((e=t.isMatrix(r)?r.size():Array.isArray(r)?(r=u(r)).size():[]).length){case 0:return i.clone(r);case 1:if(1==e[0])return i.clone(r.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+o.format(e)+")");case 2:var n=e[0],a=e[1];if(n==a)return function(r,t,e){if(1==t)return i.clone(r[0][0]);if(2==t)return c(f(r[0][0],r[1][1]),f(r[1][0],r[0][1]));for(var n=function(r){var t,e,n=new Array(r.length),i=0;for(t=1;t<r.length;t++)i=s(i,r[t][t]);for(t=0;t<r.length;t++){for(n[t]=new Array(r.length),n[t][t]=l(i),e=0;e<t;e++)n[t][e]=0;for(e=t+1;e<r.length;e++)n[t][e]=r[t][e];t+1<r.length&&(i=c(i,r[t+1][t+1]))}return n},o=r,a=0;a<t-1;a++)o=f(n(o),r);return t%2==0?l(o[0][0]):o[0][0]}(r.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+o.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(e)+")")}}});return m.toTex={1:"\\det\\left(${args[0]}\\right)"},m}},{"../../type/matrix/function/matrix":195,"../../utils/index":227,"../arithmetic/add":56,"../arithmetic/multiply":76,"../arithmetic/subtract":85,"../arithmetic/unaryMinus":86}],92:[function(r,t,e){"use strict";var n=r("../../utils/array"),i=(r("../../utils/object").clone,r("../../utils/number").isInteger);e.name="diag",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("diag",{Array:function(r){return c(r,0,n.size(r),null)},"Array, number":function(r,t){return c(r,t,n.size(r),null)},"Array, BigNumber":function(r,t){return c(r,t.toNumber(),n.size(r),null)},"Array, string":function(r,t){return c(r,0,n.size(r),t)},"Array, number, string":function(r,t,e){return c(r,t,n.size(r),e)},"Array, BigNumber, string":function(r,t,e){return c(r,t.toNumber(),n.size(r),e)},Matrix:function(r){return c(r,0,r.size(),r.storage())},"Matrix, number":function(r,t){return c(r,t,r.size(),r.storage())},"Matrix, BigNumber":function(r,t){return c(r,t.toNumber(),r.size(),r.storage())},"Matrix, string":function(r,t){return c(r,0,r.size(),t)},"Matrix, number, string":function(r,t,e){return c(r,t,r.size(),e)},"Matrix, BigNumber, string":function(r,t,e){return c(r,t.toNumber(),r.size(),e)}});return s.toTex=void 0,s;function c(r,e,n,o){if(!i(e))throw new TypeError("Second parameter in function diag must be an integer");var a=e>0?e:0,s=e<0?-e:0;switch(n.length){case 1:return function(r,e,n,i,o,a){var u=[i+o,i+a],s=t.Matrix.storage(n||"dense").diagonal(u,r,e);return null!==n?s:s.valueOf()}(r,e,o,n[0],s,a);case 2:return function(r,e,n,i,o,a){if(t.isMatrix(r)){var s=r.diagonal(e);return null!==n?n!==s.storage()?u(s,n):s:s.valueOf()}for(var c=Math.min(i[0]-o,i[1]-a),f=[],l=0;l<c;l++)f[l]=r[l+o][l+a];return null!==n?u(f):f}(r,e,o,n,s,a)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229,"../../utils/object":230}],93:[function(r,t,e){"use strict";var n=r("../../utils/array").size;e.name="dot",e.factory=function(t,e,i,o){var a=i(r("../arithmetic/add")),u=i(r("../arithmetic/multiply")),s=o("dot",{"Matrix, Matrix":function(r,t){return c(r.toArray(),t.toArray())},"Matrix, Array":function(r,t){return c(r.toArray(),t)},"Array, Matrix":function(r,t){return c(r,t.toArray())},"Array, Array":c});return s.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},s;function c(r,t){var e=n(r),i=n(t),o=e[0];if(1!==e.length||1!==i.length)throw new RangeError("Vector expected");if(e[0]!=i[0])throw new RangeError("Vectors must have equal length ("+e[0]+" != "+i[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,c=0;c<o;c++)s=a(s,u(r[c],t[c]));return s}}},{"../../utils/array":212,"../arithmetic/add":56,"../arithmetic/multiply":76}],94:[function(r,t,e){"use strict";var n=r("../../utils/array"),i=r("../../utils/number").isInteger;e.name="eye",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("eye",{"":function(){return"Matrix"===e.matrix?u([]):[]},string:function(r){return u(r)},"number | BigNumber":function(r){return f(r,r,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(r,t){return f(r,r,t)},"number | BigNumber, number | BigNumber":function(r,t){return f(r,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(r,t,e){return f(r,t,e)},Array:function(r){return c(r)},"Array, string":function(r,t){return c(r,t)},Matrix:function(r){return c(r.valueOf(),r.storage())},"Matrix, string":function(r,t){return c(r.valueOf(),t)}});return s.toTex=void 0,s;function c(r,t){switch(r.length){case 0:return t?u(t):[];case 1:return f(r[0],r[0],t);case 2:return f(r[0],r[1],t);default:throw new Error("Vector containing two values expected")}}function f(r,e,o){var a=t.isBigNumber(r)||t.isBigNumber(e)?t.BigNumber:null;if(t.isBigNumber(r)&&(r=r.toNumber()),t.isBigNumber(e)&&(e=e.toNumber()),!i(r)||r<1)throw new Error("Parameters in function eye must be positive integers");if(!i(e)||e<1)throw new Error("Parameters in function eye must be positive integers");var u=a?new t.BigNumber(1):1,s=a?new a(0):0,c=[r,e];if(o)return t.Matrix.storage(o).diagonal(c,u,0,s);for(var f=n.resize([],c,s),l=r<e?r:e,m=0;m<l;m++)f[m][m]=u;return f}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229}],95:[function(r,t,e){"use strict";var n=r("../../utils/array").filter,i=r("../../utils/array").filterRegExp,o=r("../../utils/function").maxArgumentCount;function a(r,t){var e=o(t);return n(r,function(r,n,i){return 1===e?t(r):2===e?t(r,[n]):t(r,[n],i)})}e.name="filter",e.factory=function(t,e,n,o){var u=n(r("../../type/matrix/function/matrix")),s=o("filter",{"Array, function":a,"Matrix, function":function(r,t){return u(a(r.toArray(),t))},"Array, RegExp":i,"Matrix, RegExp":function(r,t){return u(i(r.toArray(),t))}});return s.toTex=void 0,s}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/function":226}],96:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/array").flatten;e.name="flatten",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("flatten",{Array:function(r){return i(n(r))},Matrix:function(r){var t=i(n(r.toArray()));return u(t)}});return s.toTex=void 0,s}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/object":230}],97:[function(r,t,e){"use strict";var n=r("../../utils/function").maxArgumentCount,i=r("../../utils/array").forEach;function o(r,t){var e=n(t);!function n(o,a){Array.isArray(o)?i(o,function(r,t){n(r,a.concat(t))}):1===e?t(o):2===e?t(o,a):t(o,a,r)}(r,[])}e.name="forEach",e.factory=function(r,t,e,n){var i=n("forEach",{"Array, function":o,"Matrix, function":function(r,t){return r.forEach(t)}});return i.toTex=void 0,i}},{"../../utils/array":212,"../../utils/function":226}],98:[function(r,t,e){"use strict";t.exports=[r("./concat"),r("./cross"),r("./det"),r("./diag"),r("./dot"),r("./eye"),r("./filter"),r("./flatten"),r("./forEach"),r("./inv"),r("./kron"),r("./map"),r("./ones"),r("./partitionSelect"),r("./range"),r("./reshape"),r("./resize"),r("./size"),r("./sort"),r("./squeeze"),r("./subset"),r("./trace"),r("./transpose"),r("./zeros")]},{"./concat":89,"./cross":90,"./det":91,"./diag":92,"./dot":93,"./eye":94,"./filter":95,"./flatten":96,"./forEach":97,"./inv":99,"./kron":100,"./map":101,"./ones":102,"./partitionSelect":103,"./range":104,"./reshape":105,"./resize":106,"./size":107,"./sort":108,"./squeeze":109,"./subset":110,"./trace":111,"./transpose":112,"./zeros":113}],99:[function(r,t,e){"use strict";var n=r("../../utils/index");e.name="inv",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=i(r("../arithmetic/divideScalar")),s=i(r("../arithmetic/addScalar")),c=i(r("../arithmetic/multiply")),f=i(r("../arithmetic/unaryMinus")),l=i(r("../matrix/det")),m=i(r("./eye")),h=o("inv",{"Array | Matrix":function(r){var e=t.isMatrix(r)?r.size():n.array.size(r);switch(e.length){case 1:if(1==e[0])return t.isMatrix(r)?a([u(1,r.valueOf()[0])]):[u(1,r[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");case 2:var i=e[0],o=e[1];if(i==o)return t.isMatrix(r)?a(p(r.valueOf(),i,o),r.storage()):p(r,i,o);throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(e)+")")}},any:function(r){return u(1,r)}});function p(r,t,e){var n,i,o,a,h;if(1==t){if(0==(a=r[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==t){var p=l(r);if(0==p)throw Error("Cannot calculate inverse, determinant is zero");return[[u(r[1][1],p),u(f(r[0][1]),p)],[u(f(r[1][0]),p),u(r[0][0],p)]]}var g=r.concat();for(n=0;n<t;n++)g[n]=g[n].concat();for(var y=m(t).valueOf(),d=0;d<e;d++){for(n=d;n<t&&0==g[n][d];)n++;if(n==t||0==g[n][d])throw Error("Cannot calculate inverse, determinant is zero");n!=d&&(h=g[d],g[d]=g[n],g[n]=h,h=y[d],y[d]=y[n],y[n]=h);var v=g[d],x=y[d];for(n=0;n<t;n++){var b=g[n],w=y[n];if(n!=d){if(0!=b[d]){for(o=u(f(b[d]),v[d]),i=d;i<e;i++)b[i]=s(b[i],c(o,v[i]));for(i=0;i<e;i++)w[i]=s(w[i],c(o,x[i]))}}else{for(o=v[d],i=d;i<e;i++)b[i]=u(b[i],o);for(i=0;i<e;i++)w[i]=u(w[i],o)}}}return y}return h.toTex={1:"\\left(${args[0]}\\right)^{-1}"},h}},{"../../type/matrix/function/matrix":195,"../../utils/index":227,"../arithmetic/addScalar":57,"../arithmetic/divideScalar":62,"../arithmetic/multiply":76,"../arithmetic/unaryMinus":86,"../matrix/det":91,"./eye":94}],100:[function(r,t,e){"use strict";var n=r("../../utils/array").size;e.name="kron",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=i(r("../arithmetic/multiplyScalar"));return o("kron",{"Matrix, Matrix":function(r,t){return a(s(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return a(s(r.toArray(),t))},"Array, Matrix":function(r,t){return a(s(r,t.toArray()))},"Array, Array":s});function s(r,t){if(1===n(r).length&&(r=[r]),1===n(t).length&&(t=[t]),n(r).length>2||n(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(r.length)+", y = "+JSON.stringify(t.length)+")");var e=[],i=[];return r.map(function(r){return t.map(function(t){return r.map(function(r){return t.map(function(t){return i.push(u(r,t))})},e.push(i=[]))})},e=[])&&e}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../arithmetic/multiplyScalar":77}],101:[function(r,t,e){"use strict";var n=r("../../utils/function").maxArgumentCount;function i(r,t){var e=n(t);return function n(i,o){return Array.isArray(i)?i.map(function(r,t){return n(r,o.concat(t))}):1===e?t(i):2===e?t(i,o):t(i,o,r)}(r,[])}e.name="map",e.factory=function(r,t,e,n){var o=n("map",{"Array, function":i,"Matrix, function":function(r,t){return r.map(t)}});return o.toTex=void 0,o}},{"../../utils/function":226}],102:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger,i=r("../../utils/array").resize;e.name="ones",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("ones",{"":function(){return"Array"===e.matrix?c([]):c([],"default")},"...number | BigNumber | string":function(r){if("string"==typeof r[r.length-1]){var t=r.pop();return c(r,t)}return"Array"===e.matrix?c(r):c(r,"default")},Array:c,Matrix:function(r){var t=r.storage();return c(r.valueOf(),t)},"Array | Matrix, string":function(r,t){return c(r.valueOf(),t)}});return s.toTex=void 0,s;function c(r,e){var o=function(r){var e=!1;return r.forEach(function(r,n,i){t.isBigNumber(r)&&(e=!0,i[n]=r.toNumber())}),e}(r)?new t.BigNumber(1):1;if(function(r){r.forEach(function(r){if("number"!=typeof r||!n(r)||r<0)throw new Error("Parameters in function ones must be positive integers")})}(r),e){var a=u(e);return r.length>0?a.resize(r,o):a}var s=[];return r.length>0?i(s,r,o):s}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229}],103:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;e.name="partitionSelect",e.factory=function(t,e,i,o){var a=i(r("../relational/compare"));function u(r,t){return-a(r,t)}return o("partitionSelect",{"Array | Matrix, number":function(r,t){return s(r,t,a)},"Array | Matrix, number, string":function(r,t,e){if("asc"===e)return s(r,t,a);if("desc"===e)return s(r,t,u);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(r,e,i){if(!n(e)||e<0)throw new Error("k must be a non-negative integer");if(t.isMatrix(r)){if(r.size().length>1)throw new Error("Only one dimensional matrices supported");return c(r.valueOf(),e,i)}if(Array.isArray(r))return c(r,e,i)}function c(r,t,e){if(t>=r.length)throw new Error("k out of bounds");for(var n=0,i=r.length-1;n<i;){for(var o=n,a=i,u=r[Math.floor(Math.random()*(i-n+1))+n];o<a;)if(e(r[o],u)>=0){var s=r[a];r[a]=r[o],r[o]=s,--a}else++o;e(r[o],u)>0&&--o,t<=o?i=o:n=o+1}return r[t]}}},{"../../utils/number":229,"../relational/compare":126}],104:[function(r,t,e){"use strict";e.name="range",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=new t.BigNumber(0),u=new t.BigNumber(1),s=i("range",{string:f,"string, boolean":f,"number, number":function(r,t){return c(l(r,t,1))},"number, number, number":function(r,t,e){return c(l(r,t,e))},"number, number, boolean":function(r,t,e){return c(e?m(r,t,1):l(r,t,1))},"number, number, number, boolean":function(r,t,e,n){return c(n?m(r,t,e):l(r,t,e))},"BigNumber, BigNumber":function(r,t){return c(h(r,t,u))},"BigNumber, BigNumber, BigNumber":function(r,t,e){return c(h(r,t,e))},"BigNumber, BigNumber, boolean":function(r,t,e){return c(e?p(r,t,u):h(r,t,u))},"BigNumber, BigNumber, BigNumber, boolean":function(r,t,e,n){return c(n?p(r,t,e):h(r,t,e))}});return s.toTex=void 0,s;function c(r){return"Array"===e.matrix?r:o(r)}function f(r,n){var i=function(r){var t=r.split(":").map(function(r){return Number(r)});if(t.some(function(r){return isNaN(r)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(r);if(!i)throw new SyntaxError('String "'+r+'" is no valid range');return"BigNumber"===e.number?c((n?p:h)(new t.BigNumber(i.start),new t.BigNumber(i.end),new t.BigNumber(i.step))):c((n?m:l)(i.start,i.end,i.step))}function l(r,t,e){var n=[],i=r;if(e>0)for(;i<t;)n.push(i),i+=e;else if(e<0)for(;i>t;)n.push(i),i+=e;return n}function m(r,t,e){var n=[],i=r;if(e>0)for(;i<=t;)n.push(i),i+=e;else if(e<0)for(;i>=t;)n.push(i),i+=e;return n}function h(r,t,e){var n=[],i=r;if(e.gt(a))for(;i.lt(t);)n.push(i),i=i.plus(e);else if(e.lt(a))for(;i.gt(t);)n.push(i),i=i.plus(e);return n}function p(r,t,e){var n=[],i=r;if(e.gt(a))for(;i.lte(t);)n.push(i),i=i.plus(e);else if(e.lt(a))for(;i.gte(t);)n.push(i),i=i.plus(e);return n}}},{"../../type/matrix/function/matrix":195}],105:[function(r,t,e){"use strict";r("../../error/DimensionError");var n=r("../../utils/number").isInteger,i=r("../../utils/array");e.name="reshape",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("reshape",{"Matrix, Array":function(r,t){return r.reshape?r.reshape(t):u(i.reshape(r.valueOf(),t))},"Array, Array":function(r,t){return t.forEach(function(r){if(!n(r))throw new TypeError("Invalid size for dimension: "+r)}),i.reshape(r,t)}});return s.toTex=void 0,s}},{"../../error/DimensionError":53,"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229}],106:[function(r,t,e){"use strict";var n=r("../../error/DimensionError"),i=r("../../error/ArgumentsError"),o=r("../../utils/number").isInteger,a=r("../../utils/string").format,u=r("../../utils/object").clone,s=r("../../utils/array");e.name="resize",e.factory=function(t,e,c,f){var l=c(r("../../type/matrix/function/matrix")),m=function(r,c,f){if(2!=arguments.length&&3!=arguments.length)throw new i("resize",arguments.length,2,3);if(t.isMatrix(c)&&(c=c.valueOf()),t.isBigNumber(c[0])&&(c=c.map(function(r){return t.isBigNumber(r)?r.toNumber():r})),t.isMatrix(r))return r.resize(c,f,!0);if("string"==typeof r)return function(r,t,e){if(void 0!==e){if("string"!=typeof e||1!==e.length)throw new TypeError("Single character expected as defaultValue")}else e=" ";if(1!==t.length)throw new n(t.length,1);var i=t[0];if("number"!=typeof i||!o(i))throw new TypeError("Invalid size, must contain positive integers (size: "+a(t)+")");if(r.length>i)return r.substring(0,i);if(r.length<i){for(var u=r,s=0,c=i-r.length;s<c;s++)u+=e;return u}return r}(r,c,f);var m=!Array.isArray(r)&&"Array"!==e.matrix;if(0==c.length){for(;Array.isArray(r);)r=r[0];return u(r)}Array.isArray(r)||(r=[r]),r=u(r);var h=s.resize(r,c,f);return m?l(h):h};return m.toTex=void 0,m}},{"../../error/ArgumentsError":52,"../../error/DimensionError":53,"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229,"../../utils/object":230,"../../utils/string":231}],107:[function(r,t,e){"use strict";var n=r("../../utils/array");e.name="size",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=o("size",{Matrix:function(r){return a(r.size())},Array:n.size,string:function(r){return"Array"===e.matrix?[r.length]:a([r.length])},"number | Complex | BigNumber | Unit | boolean | null":function(r){return"Array"===e.matrix?[]:a([])}});return u.toTex=void 0,u}},{"../../type/matrix/function/matrix":195,"../../utils/array":212}],108:[function(r,t,e){"use strict";var n=r("../../utils/array").size;e.name="sort",e.factory=function(t,e,i,o){var a=i(r("../../type/matrix/function/matrix")),u=i(r("../relational/compare")),s=function(r,t){return-u(r,t)},c=i(r("../relational/compareNatural")),f=o("sort",{Array:function(r){return m(r),r.sort(u)},Matrix:function(r){return h(r),a(r.toArray().sort(u),r.storage())},"Array, function":function(r,t){return m(r),r.sort(t)},"Matrix, function":function(r,t){return h(r),a(r.toArray().sort(t),r.storage())},"Array, string":function(r,t){return m(r),r.sort(l(t))},"Matrix, string":function(r,t){return h(r),a(r.toArray().sort(l(t)),r.storage())}});function l(r){if("asc"===r)return u;if("desc"===r)return s;if("natural"===r)return c;throw new Error('String "asc", "desc", or "natural" expected')}function m(r){if(1!==n(r).length)throw new Error("One dimensional array expected")}function h(r){if(1!==r.size().length)throw new Error("One dimensional matrix expected")}return f.toTex=void 0,f}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../relational/compare":126,"../relational/compareNatural":127}],109:[function(r,t,e){"use strict";var n=r("../../utils/object"),i=r("../../utils/array");e.name="squeeze",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("squeeze",{Array:function(r){return i.squeeze(n.clone(r))},Matrix:function(r){var t=i.squeeze(r.toArray());return Array.isArray(t)?u(t):t},any:function(r){return n.clone(r)}});return s.toTex=void 0,s}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/object":230}],110:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/array").validateIndex,o=r("../../utils/customs").getSafeProperty,a=r("../../utils/customs").setSafeProperty,u=r("../../error/DimensionError");function s(r,t){if(1!==t.size().length)throw new u(t.size(),1);var e=t.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");return o(r,e)}function c(r,t,e){if(1!==t.size().length)throw new u(t.size(),1);var i=t.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var o=n(r);return a(o,i,e),o}e.name="subset",e.factory=function(t,e,o,a){var f=o(r("../../type/matrix/function/matrix")),l=a("subset",{"Array, Index":function(r,t){var e=f(r).subset(t);return t.isScalar()?e:e.valueOf()},"Matrix, Index":function(r,t){return r.subset(t)},"Object, Index":s,"string, Index":function(r,e){if(!t.isIndex(e))throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);var n=r.length;i(e.min()[0],n),i(e.max()[0],n);var o=e.dimension(0),a="";return o.forEach(function(t){a+=r.charAt(t)}),a},"Array, Index, any":function(r,t,e){return f(n(r)).subset(t,e,void 0).valueOf()},"Array, Index, any, any":function(r,t,e,i){return f(n(r)).subset(t,e,i).valueOf()},"Matrix, Index, any":function(r,t,e){return r.clone().subset(t,e)},"Matrix, Index, any, any":function(r,t,e,n){return r.clone().subset(t,e,n)},"string, Index, string":m,"string, Index, string, string":m,"Object, Index, any":c});return l.toTex=void 0,l;function m(r,t,e,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new u(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var o=t.dimension(0),a=o.size()[0];if(a!=e.length)throw new u(o.size()[0],e.length);var s=r.length;i(t.min()[0]),i(t.max()[0]);for(var c=[],f=0;f<s;f++)c[f]=r.charAt(f);if(o.forEach(function(r,t){c[r]=e.charAt(t[0])}),c.length>s)for(f=s-1,a=c.length;f<a;f++)c[f]||(c[f]=n);return c.join("")}}},{"../../error/DimensionError":53,"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/customs":224,"../../utils/object":230}],111:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/string").format;e.name="trace",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=o(r("../arithmetic/add")),c=a("trace",{Array:function(r){return c(u(r))},Matrix:function(r){var t;switch(r.storage()){case"dense":t=f(r);break;case"sparse":t=l(r)}return t},any:n}),f=function(r){var t=r._size,e=r._data;switch(t.length){case 1:if(1==t[0])return n(e[0]);throw new RangeError("Matrix must be square (size: "+i(t)+")");case 2:var o=t[0];if(o===t[1]){for(var a=0,u=0;u<o;u++)a=s(a,e[u][u]);return a}throw new RangeError("Matrix must be square (size: "+i(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i(t)+")")}},l=function(r){var t=r._values,e=r._index,n=r._ptr,o=r._size,a=o[0],u=o[1];if(a===u){var c=0;if(t.length>0)for(var f=0;f<u;f++)for(var l=n[f],m=n[f+1],h=l;h<m;h++){var p=e[h];if(p===f){c=s(c,t[h]);break}if(p>f)break}return c}throw new RangeError("Matrix must be square (size: "+i(o)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}},{"../../type/matrix/function/matrix":195,"../../utils/object":230,"../../utils/string":231,"../arithmetic/add":56}],112:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/string").format;e.name="transpose",e.factory=function(t,e,o,a){var u=r("../../utils/latex"),s=o(r("../../type/matrix/function/matrix")),c=t.DenseMatrix,f=t.SparseMatrix,l=a("transpose",{Array:function(r){return l(s(r)).valueOf()},Matrix:function(r){var t,e=r.size();switch(e.length){case 1:t=r.clone();break;case 2:var n=e[0],o=e[1];if(0===o)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+i(e)+")");switch(r.storage()){case"dense":t=m(r,n,o);break;case"sparse":t=h(r,n,o)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+i(this._size)+")")}return t},any:function(r){return n(r)}}),m=function(r,t,e){for(var i,o=r._data,a=[],u=0;u<e;u++){i=a[u]=[];for(var s=0;s<t;s++)i[s]=n(o[s][u])}return new c({data:a,size:[e,t],datatype:r._datatype})},h=function(r,t,e){for(var i,o,a,u=r._values,s=r._index,c=r._ptr,l=u?[]:void 0,m=[],h=[],p=[],g=0;g<t;g++)p[g]=0;for(i=0,o=s.length;i<o;i++)p[s[i]]++;for(var y=0,d=0;d<t;d++)h.push(y),y+=p[d],p[d]=h[d];for(h.push(y),a=0;a<e;a++)for(var v=c[a],x=c[a+1],b=v;b<x;b++){var w=p[s[b]]++;m[w]=a,u&&(l[w]=n(u[b]))}return new f({values:l,index:m,ptr:h,size:[e,t],datatype:r._datatype})};return l.toTex={1:"\\left(${args[0]}\\right)"+u.operators.transpose},l}},{"../../type/matrix/function/matrix":195,"../../utils/latex":228,"../../utils/object":230,"../../utils/string":231}],113:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger,i=r("../../utils/array").resize;e.name="zeros",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=a("zeros",{"":function(){return"Array"===e.matrix?c([]):c([],"default")},"...number | BigNumber | string":function(r){if("string"==typeof r[r.length-1]){var t=r.pop();return c(r,t)}return"Array"===e.matrix?c(r):c(r,"default")},Array:c,Matrix:function(r){var t=r.storage();return c(r.valueOf(),t)},"Array | Matrix, string":function(r,t){return c(r.valueOf(),t)}});return s.toTex=void 0,s;function c(r,e){var o=function(r){var e=!1;return r.forEach(function(r,n,i){t.isBigNumber(r)&&(e=!0,i[n]=r.toNumber())}),e}(r)?new t.BigNumber(0):0;if(function(r){r.forEach(function(r){if("number"!=typeof r||!n(r)||r<0)throw new Error("Parameters in function zeros must be positive integers")})}(r),e){var a=u(e);return r.length>0?a.resize(r,o):a}var s=[];return r.length>0?i(s,r,o):s}}},{"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/number":229}],114:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;function i(r){return r.isInteger()&&r.gte(0)}e.name="combinations",e.factory=function(r,t,e,o){var a=o("combinations",{"number, number":function(r,t){var e,i,o;if(!n(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!n(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>r)throw new TypeError("k must be less than or equal to n");for(e=Math.max(t,r-t),i=1,o=1;o<=r-e;o++)i=i*(e+o)/o;return i},"BigNumber, BigNumber":function(t,e){var n,o,a,u,s=new r.BigNumber(1);if(!i(t)||!i(e))throw new TypeError("Positive integer value expected in function combinations");if(e.gt(t))throw new TypeError("k must be less than n in function combinations");for(n=t.minus(e),e.lt(n)&&(n=e),o=s,a=s,u=t.minus(n);a.lte(u);a=a.plus(1))o=o.times(n.plus(a)).dividedBy(a);return o}});return a.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},a}},{"../../utils/number":229}],115:[function(r,t,e){"use strict";var n=r("../../error/ArgumentsError"),i=r("../../utils/collection/isCollection"),o=r("../../utils/number").isNumber;e.name="distribution",e.factory=function(t,e,a,u,s){var c=a(r("../../type/matrix/function/matrix")),f=r("../../utils/array"),l=a(r("./seededRNG"));function m(r){if(!h.hasOwnProperty(r))throw new Error("Unknown distribution "+r);var e=Array.prototype.slice.call(arguments,1);return function(r){var e={random:function(r,e,a){var u,f,l;if(arguments.length>3)throw new n("random",arguments.length,0,3);if(1===arguments.length?i(r)?u=r:l=r:2===arguments.length?i(r)?(u=r,l=e):(f=r,l=e):(u=r,f=e,l=a),void 0!==f&&!o(f)||void 0!==l&&!o(l))throw new TypeError("Invalid argument in function random");if(void 0===l&&(l=1),void 0===f&&(f=0),void 0!==u){var m=h(u.valueOf(),f,l,s);return t.isMatrix(u)?c(m):m}return s(f,l)},randomInt:u({"number | Array":function(r){if(i(r)){var e=r,n=1,o=h(e.valueOf(),0,n,m);return t.isMatrix(e)?c(o):o}return m(0,n=r)},"number | Array, number":function(r,e){if(i(r)){var n=r,o=e,a=0,u=h(n.valueOf(),a,o,m);return t.isMatrix(n)?c(u):u}return m(a=r,o=e)},"Array, number, number":function(r,t,e){var n=h(r.valueOf(),t,e,m);return r&&!0===r.isMatrix?c(n):n}}),pickRandom:u({Array:function(r){return a(r)},"Array, number | Array":function(r,t){var e,n;if(Array.isArray(t))n=t;else{if(!o(t))throw new TypeError("Invalid argument in function pickRandom");e=t}return a(r,e,n)},"Array, number | Array, Array | number":function(r,t,e){var n,i;if(Array.isArray(t)?(i=t,n=e):(i=e,n=t),!Array.isArray(i)||!o(n))throw new TypeError("Invalid argument in function pickRandom");return a(r,n,i)}})},a=function(r,e,n){var i=void 0===e;if(i&&(e=1),t.isMatrix(r))r=r.valueOf();else if(!Array.isArray(r))throw new TypeError("Unsupported type of value in function pickRandom");if(f.size(r).length>1)throw new Error("Only one dimensional vectors supported");if(void 0!==n){if(n.length!=r.length)throw new Error("Weights must have the same length as possibles");for(var a=0,u=0,s=n.length;u<s;u++){if(!o(n[u])||n[u]<0)throw new Error("Weights must be an array of positive numbers");a+=n[u]}}var c=r.length;if(0==c)return[];if(e>=c)return e>1?r:r[0];for(var m,h=[];h.length<e;){if(void 0===n)m=r[Math.floor(l()*c)];else{var p=l()*a;for(u=0,s=r.length;u<s;u++)if((p-=n[u])<0){m=r[u];break}}-1==h.indexOf(m)&&h.push(m)}return i?h[0]:h},s=function(t,e){return t+r()*(e-t)},m=function(t,e){return Math.floor(t+r()*(e-t))},h=function r(t,e,n,i){var o=[];if((t=t.slice(0)).length>1)for(var a=0,u=t.shift();a<u;a++)o.push(r(t,e,n,i));else for(a=0,u=t.shift();a<u;a++)o.push(i(e,n));return o};return e}(h[r].apply(this,e))}var h={uniform:function(){return l},normal:function(){return function(){for(var r,t,e=-1;e<0||e>1;)r=l(),t=l(),e=1/6*Math.pow(-2*Math.log(r),.5)*Math.cos(2*Math.PI*t)+.5;return e}}};return m.toTex=void 0,m}},{"../../error/ArgumentsError":52,"../../type/matrix/function/matrix":195,"../../utils/array":212,"../../utils/collection/isCollection":220,"../../utils/number":229,"./seededRNG":125}],116:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="factorial",e.factory=function(t,e,i,o){var a=i(r("./gamma")),u=r("../../utils/latex"),s=o("factorial",{number:function(r){if(r<0)throw new Error("Value must be non-negative");return a(r+1)},BigNumber:function(r){if(r.isNegative())throw new Error("Value must be non-negative");return a(r.plus(1))},"Array | Matrix":function(r){return n(r,s)}});return s.toTex={1:"\\left(${args[0]}\\right)"+u.operators.factorial},s}},{"../../utils/collection/deepMap":219,"../../utils/latex":228,"./gamma":117}],117:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap"),i=r("../../utils/number").isInteger;var o=4.7421875,a=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=function(t,e,u,s){var c=u(r("../arithmetic/multiply")),f=u(r("../arithmetic/pow")),l=s("gamma",{number:function(r){var t,e;if(i(r)){if(r<=0)return isFinite(r)?1/0:NaN;if(r>171)return 1/0;for(var n=r-2,u=r-1;n>1;)u*=n,n--;return 0==u&&(u=1),u}if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*l(1-r));if(r>=171.35)return 1/0;if(r>85){var s=r*r,c=s*r,f=c*r,m=f*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*s)-139/(51840*c)-571/(2488320*f)+163879/(209018880*m)+5246819/(75246796800*m*r))}--r,e=a[0];for(var h=1;h<a.length;++h)e+=a[h]/(r+h);return t=r+o+.5,Math.sqrt(2*Math.PI)*Math.pow(t,r+.5)*Math.exp(-t)*e},Complex:function(r){var e,n;if(0==r.im)return l(r.re);r=new t.Complex(r.re-1,r.im),n=new t.Complex(a[0],0);for(var i=1;i<a.length;++i){var u=r.re+i,s=u*u+r.im*r.im;0!=s?(n.re+=a[i]*u/s,n.im+=-a[i]*r.im/s):n.re=a[i]<0?-1/0:1/0}e=new t.Complex(r.re+o+.5,r.im);var m=Math.sqrt(2*Math.PI);r.re+=.5;var h=f(e,r);0==h.im?h.re*=m:0==h.re?h.im*=m:(h.re*=m,h.im*=m);var p=Math.exp(-e.re);return e.re=p*Math.cos(-e.im),e.im=p*Math.sin(-e.im),c(c(h,e),n)},BigNumber:function(r){if(r.isInteger())return r.isNegative()||r.isZero()?new t.BigNumber(1/0):function(r){if(r.isZero())return new t.BigNumber(1);for(var n=e.precision+(0|Math.log(r.toNumber())),i=new(t.BigNumber.clone({precision:n}))(r),o=r.toNumber()-1;o>1;)i=i.times(o),o--;return new t.BigNumber(i.toPrecision(t.BigNumber.precision))}(r.minus(1));if(!r.isFinite())return new t.BigNumber(r.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(r){return n(r,l)}});return l.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},l}},{"../../utils/collection/deepMap":219,"../../utils/number":229,"../arithmetic/multiply":76,"../arithmetic/pow":80}],118:[function(r,t,e){"use strict";t.exports=[r("./combinations"),r("./factorial"),r("./gamma"),r("./kldivergence"),r("./multinomial"),r("./permutations"),r("./pickRandom"),r("./random"),r("./randomInt")]},{"./combinations":114,"./factorial":116,"./gamma":117,"./kldivergence":119,"./multinomial":120,"./permutations":121,"./pickRandom":122,"./random":123,"./randomInt":124}],119:[function(r,t,e){"use strict";e.name="kldivergence",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=n(r("../arithmetic/divide")),u=n(r("../statistics/sum")),s=n(r("../arithmetic/multiply")),c=n(r("../arithmetic/dotDivide")),f=n(r("../arithmetic/log")),l=n(r("../utils/isNumeric"));function m(r,t){var e=t.size().length,n=r.size().length;if(e>1)throw new Error("first object must be one dimensional");if(n>1)throw new Error("second object must be one dimensional");if(e!==n)throw new Error("Length of two vectors must be equal");if(0===u(r))throw new Error("Sum of elements in first object must be non zero");if(0===u(t))throw new Error("Sum of elements in second object must be non zero");var i=a(r,u(r)),o=a(t,u(t)),m=u(s(i,f(c(i,o))));return l(m)?m:Number.NaN}return i("kldivergence",{"Array, Array":function(r,t){return m(o(r),o(t))},"Matrix, Array":function(r,t){return m(r,o(t))},"Array, Matrix":function(r,t){return m(o(r),t)},"Matrix, Matrix":function(r,t){return m(r,t)}})}},{"../../type/matrix/function/matrix":195,"../arithmetic/divide":61,"../arithmetic/dotDivide":63,"../arithmetic/log":73,"../arithmetic/multiply":76,"../statistics/sum":141,"../utils/isNumeric":174}],120:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepForEach");e.name="multinomial",e.factory=function(t,e,i,o){var a=i(r("../arithmetic/add")),u=i(r("../arithmetic/multiply")),s=i(r("../arithmetic/divide")),c=i(r("../probability/factorial")),f=i(r("../utils/isInteger")),l=i(r("../utils/isPositive"));return o("multinomial",{"Array | Matrix":function(r){var t=0,e=1;return n(r,function(r){if(!f(r)||!l(r))throw new TypeError("Positive integer value expected in function multinomial");t=a(t,r),e=u(e,c(r))}),s(c(t),e)}})}},{"../../utils/collection/deepForEach":218,"../arithmetic/add":56,"../arithmetic/divide":61,"../arithmetic/multiply":76,"../probability/factorial":116,"../utils/isInteger":171,"../utils/isPositive":175}],121:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger;function i(r){return r.isInteger()&&r.gte(0)}e.name="permutations",e.factory=function(t,e,o,a){var u=a("permutations",{"number | BigNumber":o(r("./factorial")),"number, number":function(r,t){var e,i;if(!n(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(!n(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>r)throw new TypeError("second argument k must be less than or equal to first argument n");for(e=1,i=r-t+1;i<=r;i++)e*=i;return e},"BigNumber, BigNumber":function(r,e){var n,o;if(!i(r)||!i(e))throw new TypeError("Positive integer value expected in function permutations");if(e.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=new t.BigNumber(1),o=r.minus(e).plus(1);o.lte(r);o=o.plus(1))n=n.times(o);return n}});return u.toTex=void 0,u}},{"../../utils/number":229,"./factorial":116}],122:[function(r,t,e){"use strict";e.name="pickRandom",e.factory=function(t,e,n,i){var o=n(r("./distribution"))("uniform").pickRandom;return o.toTex=void 0,o}},{"./distribution":115}],123:[function(r,t,e){"use strict";e.name="random",e.factory=function(t,e,n,i){var o=n(r("./distribution"))("uniform").random;return o.toTex=void 0,o}},{"./distribution":115}],124:[function(r,t,e){"use strict";e.name="randomInt",e.factory=function(t,e,n,i){var o=n(r("./distribution"))("uniform").randomInt;return o.toTex=void 0,o}},{"./distribution":115}],125:[function(r,t,e){"use strict";var n=r("seed-random"),i=n();e.factory=function(r,t,e,o,a){var u;function s(r){u=null===r?i:n(String(r))}return s(t.randomSeed),a.on("config",function(r,t,e){void 0!==e.randomSeed&&s(r.randomSeed)}),function(){return u()}},e.math=!0},{"seed-random":237}],126:[function(r,t,e){"use strict";var n=r("../../utils/number").nearlyEqual,i=r("../../utils/bignumber/nearlyEqual");e.name="compare",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=o(r("../../type/matrix/utils/algorithm03")),c=o(r("../../type/matrix/utils/algorithm05")),f=o(r("../../type/matrix/utils/algorithm12")),l=o(r("../../type/matrix/utils/algorithm13")),m=o(r("../../type/matrix/utils/algorithm14")),h=a("compare",{"boolean, boolean":function(r,t){return r===t?0:r>t?1:-1},"number, number":function(r,t){return r===t||n(r,t,e.epsilon)?0:r>t?1:-1},"BigNumber, BigNumber":function(r,n){return r.eq(n)||i(r,n,e.epsilon)?new t.BigNumber(0):new t.BigNumber(r.cmp(n))},"Fraction, Fraction":function(r,e){return new t.Fraction(r.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return h(r.value,t.value)},"string, string":function(r,t){return r===t?0:r>t?1:-1},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,h);break;default:e=s(t,r,h,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,h,!1);break;default:e=l(r,t,h)}}return e},"Array, Array":function(r,t){return h(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return h(u(r),t)},"Matrix, Array":function(r,t){return h(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,h,!1);break;default:e=m(r,t,h,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,h,!0);break;default:e=m(t,r,h,!0)}return e},"Array, any":function(r,t){return m(u(r),t,h,!1).valueOf()},"any, Array":function(r,t){return m(u(t),r,h,!0).valueOf()}});return h.toTex=void 0,h}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm05":202,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/bignumber/nearlyEqual":215,"../../utils/number":229}],127:[function(r,t,e){"use strict";var n=r("javascript-natural-sort");e.name="compareNatural",e.factory=function(t,e,i,o){var a=i(r("../utils/typeof")),u=(i(r("../../type/matrix/function/matrix")),i(r("./compare"))),s=u.signatures["boolean,boolean"],c=o("compareNatural",{"any, any":function(r,e){var i,o=a(r),l=a(e);if(!("number"!==o&&"BigNumber"!==o&&"Fraction"!==o||"number"!==l&&"BigNumber"!==l&&"Fraction"!==l))return"0"!==(i=u(r,e)).toString()?i>0?1:-1:n(o,l);if("Array"===o||"Matrix"===o||"Array"===l||"Matrix"===l)return 0!==(i=function r(e,n){return t.isSparseMatrix(e)&&t.isSparseMatrix(n)?f(e.toJSON().values,n.toJSON().values):t.isSparseMatrix(e)?r(e.toArray(),n):t.isSparseMatrix(n)?r(e,n.toArray()):t.isDenseMatrix(e)?r(e.toJSON().data,n):t.isDenseMatrix(n)?r(e,n.toJSON().data):Array.isArray(e)?Array.isArray(n)?f(e,n):r(e,[n]):r([e],n)}(r,e))?i:n(o,l);if(o!==l)return n(o,l);if("Complex"===o)return function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0}(r,e);if("Unit"===o)return r.equalBase(e)?c(r.value,e.value):f(r.formatUnits(),e.formatUnits());if("boolean"===o)return s(r,e);if("string"===o)return n(r,e);if("Object"===o)return function(r,t){var e=Object.keys(r),i=Object.keys(t);e.sort(n),i.sort(n);var o=f(e,i);if(0!==o)return o;for(var a=0;a<e.length;a++){var u=c(r[e[a]],t[i[a]]);if(0!==u)return u}return 0}(r,e);if("null"===o)return 0;if("undefined"===o)return 0;throw new TypeError('Unsupported type of value "'+o+'"')}});function f(r,t){for(var e=0,n=Math.min(r.length,t.length);e<n;e++){var i=c(r[e],t[e]);if(0!==i)return i}return r.length>t.length?1:r.length<t.length?-1:0}return c.toTex=void 0,c}},{"../../type/matrix/function/matrix":195,"../utils/typeof":178,"./compare":126,"javascript-natural-sort":46}],128:[function(r,t,e){"use strict";var n=r("../../utils/number").nearlyEqual,i=r("../../utils/bignumber/nearlyEqual");e.factory=function(r,t,e,o){var a=o("equalScalar",{"boolean, boolean":function(r,t){return r===t},"number, number":function(r,e){return r===e||n(r,e,t.epsilon)},"BigNumber, BigNumber":function(r,e){return r.eq(e)||i(r,e,t.epsilon)},"Fraction, Fraction":function(r,t){return r.equals(t)},"Complex, Complex":function(r,t){return r.equals(t)},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return a(r.value,t.value)},"string, string":function(r,t){return r===t}});return a}},{"../../utils/bignumber/nearlyEqual":215,"../../utils/number":229}],129:[function(r,t,e){"use strict";var n=r("../../utils/number").nearlyEqual,i=r("../../utils/bignumber/nearlyEqual");e.name="larger",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=o(r("../../type/matrix/utils/algorithm03")),c=o(r("../../type/matrix/utils/algorithm07")),f=o(r("../../type/matrix/utils/algorithm12")),l=o(r("../../type/matrix/utils/algorithm13")),m=o(r("../../type/matrix/utils/algorithm14")),h=r("../../utils/latex"),p=a("larger",{"boolean, boolean":function(r,t){return r>t},"number, number":function(r,t){return r>t&&!n(r,t,e.epsilon)},"BigNumber, BigNumber":function(r,t){return r.gt(t)&&!i(r,t,e.epsilon)},"Fraction, Fraction":function(r,t){return 1===r.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return p(r.value,t.value)},"string, string":function(r,t){return r>t},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,p);break;default:e=s(t,r,p,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,p,!1);break;default:e=l(r,t,p)}}return e},"Array, Array":function(r,t){return p(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return p(u(r),t)},"Matrix, Array":function(r,t){return p(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,p,!1);break;default:e=m(r,t,p,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,p,!0);break;default:e=m(t,r,p,!0)}return e},"Array, any":function(r,t){return m(u(r),t,p,!1).valueOf()},"any, Array":function(r,t){return m(u(t),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},p}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm07":204,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/bignumber/nearlyEqual":215,"../../utils/latex":228,"../../utils/number":229}],130:[function(r,t,e){"use strict";var n=r("../../utils/number").nearlyEqual,i=r("../../utils/bignumber/nearlyEqual");e.name="smaller",e.factory=function(t,e,o,a){var u=o(r("../../type/matrix/function/matrix")),s=o(r("../../type/matrix/utils/algorithm03")),c=o(r("../../type/matrix/utils/algorithm07")),f=o(r("../../type/matrix/utils/algorithm12")),l=o(r("../../type/matrix/utils/algorithm13")),m=o(r("../../type/matrix/utils/algorithm14")),h=r("../../utils/latex"),p=a("smaller",{"boolean, boolean":function(r,t){return r<t},"number, number":function(r,t){return r<t&&!n(r,t,e.epsilon)},"BigNumber, BigNumber":function(r,t){return r.lt(t)&&!i(r,t,e.epsilon)},"Fraction, Fraction":function(r,t){return-1===r.compare(t)},"Complex, Complex":function(r,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return p(r.value,t.value)},"string, string":function(r,t){return r<t},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=c(r,t,p);break;default:e=s(t,r,p,!0)}break;default:switch(t.storage()){case"sparse":e=s(r,t,p,!1);break;default:e=l(r,t,p)}}return e},"Array, Array":function(r,t){return p(u(r),u(t)).valueOf()},"Array, Matrix":function(r,t){return p(u(r),t)},"Matrix, Array":function(r,t){return p(r,u(t))},"Matrix, any":function(r,t){var e;switch(r.storage()){case"sparse":e=f(r,t,p,!1);break;default:e=m(r,t,p,!1)}return e},"any, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,p,!0);break;default:e=m(t,r,p,!0)}return e},"Array, any":function(r,t){return m(u(r),t,p,!1).valueOf()},"any, Array":function(r,t){return m(u(t),r,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},p}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm07":204,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210,"../../utils/bignumber/nearlyEqual":215,"../../utils/latex":228,"../../utils/number":229}],131:[function(r,t,e){"use strict";t.exports=[r("./mad"),r("./max"),r("./mean"),r("./median"),r("./min"),r("./mode"),r("./prod"),r("./quantileSeq"),r("./std"),r("./sum"),r("./var")]},{"./mad":132,"./max":133,"./mean":134,"./median":135,"./min":136,"./mode":137,"./prod":138,"./quantileSeq":139,"./std":140,"./sum":141,"./var":142}],132:[function(r,t,e){"use strict";var n=r("../../utils/array").flatten;e.name="mad",e.factory=function(t,e,i,o){var a=i(r("../arithmetic/abs")),u=i(r("../matrix/map")),s=i(r("../statistics/median")),c=i(r("../arithmetic/subtract")),f=o("mad",{"Array | Matrix":l,"...":function(r){return l(r)}});return f.toTex=void 0,f;function l(r){if(0===(r=n(r.valueOf())).length)throw new Error("Cannot calculate median absolute deviation of an empty array");var t=s(r);return s(u(r,function(r){return a(c(r,t))}))}}},{"../../utils/array":212,"../arithmetic/abs":55,"../arithmetic/subtract":85,"../matrix/map":101,"../statistics/median":135}],133:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepForEach"),i=r("../../utils/collection/reduce"),o=r("../../utils/collection/containsCollections");e.name="max",e.factory=function(t,e,a,u){var s=a(r("../relational/larger")),c=u("max",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(r,t){return i(r,t.valueOf(),f)},"...":function(r){if(o(r))throw new TypeError("Scalar values expected in function max");return l(r)}});return c.toTex="\\max\\left(${args}\\right)",c;function f(r,t){return s(r,t)?r:t}function l(r){var t=void 0;if(n(r,function(r){(void 0===t||s(r,t))&&(t=r)}),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}},{"../../utils/collection/containsCollections":217,"../../utils/collection/deepForEach":218,"../../utils/collection/reduce":222,"../relational/larger":129}],134:[function(r,t,e){"use strict";var n=r("../../utils/array").size,i=r("../../utils/collection/deepForEach"),o=r("../../utils/collection/reduce"),a=r("../../utils/collection/containsCollections");e.name="mean",e.factory=function(t,e,u,s){var c=u(r("../arithmetic/add")),f=u(r("../arithmetic/divide")),l=s("mean",{"Array | Matrix":m,"Array | Matrix, number | BigNumber":function(r,t){var e=o(r,t,c),i=Array.isArray(r)?n(r):r.size();return f(e,i[t])},"...":function(r){if(a(r))throw new TypeError("Scalar values expected in function mean");return m(r)}});return l.toTex=void 0,l;function m(r){var t=0,e=0;if(i(r,function(r){t=c(t,r),e++}),0===e)throw new Error("Cannot calculate mean of an empty array");return f(t,e)}}},{"../../utils/array":212,"../../utils/collection/containsCollections":217,"../../utils/collection/deepForEach":218,"../../utils/collection/reduce":222,"../arithmetic/add":56,"../arithmetic/divide":61}],135:[function(r,t,e){"use strict";var n=r("../../utils/array").flatten,i=(r("../../utils/collection/reduce"),r("../../utils/collection/containsCollections"));e.name="median",e.factory=function(t,e,o,a){var u=o(r("../arithmetic/addScalar")),s=o(r("../arithmetic/divideScalar")),c=o(r("../relational/compare")),f=o(r("../matrix/partitionSelect")),l=a("median",{"Array | Matrix":m,"Array | Matrix, number | BigNumber":function(r,t){throw new Error("median(A, dim) is not yet supported")},"...":function(r){if(i(r))throw new TypeError("Scalar values expected in function median");return m(r)}});function m(r){var t=(r=n(r.valueOf())).length;if(0==t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var e=t/2-1,i=f(r,e+1),o=r[e],a=0;a<e;++a)c(r[a],o)>0&&(o=r[a]);return p(o,i)}var u=f(r,(t-1)/2);return h(u)}var h=a({"number | BigNumber | Complex | Unit":function(r){return r}}),p=a({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(r,t){return s(u(r,t),2)}});return l.toTex=void 0,l}},{"../../utils/array":212,"../../utils/collection/containsCollections":217,"../../utils/collection/reduce":222,"../arithmetic/addScalar":57,"../arithmetic/divideScalar":62,"../matrix/partitionSelect":103,"../relational/compare":126}],136:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepForEach"),i=r("../../utils/collection/reduce"),o=r("../../utils/collection/containsCollections");e.name="min",e.factory=function(t,e,a,u){var s=a(r("../relational/smaller")),c=u("min",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":function(r,t){return i(r,t.valueOf(),f)},"...":function(r){if(o(r))throw new TypeError("Scalar values expected in function min");return l(r)}});return c.toTex="\\min\\left(${args}\\right)",c;function f(r,t){return s(r,t)?r:t}function l(r){var t=void 0;if(n(r,function(r){(void 0===t||s(r,t))&&(t=r)}),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}}},{"../../utils/collection/containsCollections":217,"../../utils/collection/deepForEach":218,"../../utils/collection/reduce":222,"../relational/smaller":130}],137:[function(r,t,e){"use strict";var n=r("../../utils/array").flatten;e.name="mode",e.factory=function(r,t,e,i){return i("mode",{"Array | Matrix":o,"...":function(r){return o(r)}});function o(r){if(0==(r=n(r.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");var t={},e=[],i=0;for(var o in r)r[o]in t||(t[r[o]]=0),t[r[o]]++,t[r[o]]==i?e.push(r[o]):t[r[o]]>i&&(i=t[r[o]],e=[r[o]]);return e}}},{"../../utils/array":212}],138:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepForEach");e.name="prod",e.factory=function(t,e,i,o){var a=i(r("../arithmetic/multiplyScalar")),u=o("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(r,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(r){return s(r)}});return u.toTex=void 0,u;function s(r){var t=void 0;if(n(r,function(r){t=void 0===t?r:a(t,r)}),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}}},{"../../utils/collection/deepForEach":218,"../arithmetic/multiplyScalar":77}],139:[function(r,t,e){"use strict";var n=r("../../utils/number").isInteger,i=r("../../utils/number").isNumber,o=r("../../utils/array").flatten,a=r("../../utils/collection/isCollection");e.name="quantileSeq",e.factory=function(t,e,u,s){var c=u(r("../arithmetic/add")),f=u(r("../arithmetic/multiply")),l=u(r("../matrix/partitionSelect")),m=u(r("../relational/compare"));function h(r,t,e){var n=o(r),a=n.length;if(0===a)throw new Error("Cannot calculate quantile of an empty sequence");if(i(t)){var u;if(0==(v=(u=t*(a-1))%1)){var s=e?n[u]:l(n,u);return p(s),s}var h=Math.floor(u);if(e)y=n[h],d=n[h+1];else{d=l(n,h+1),y=n[h];for(var g=0;g<h;++g)m(n[g],y)>0&&(y=n[g])}return p(y),p(d),c(f(y,1-v),f(d,v))}if((u=t.times(a-1)).isInteger())return u=u.toNumber(),s=e?n[u]:l(n,u),p(s),s;h=u.floor();var y,d,v=u.minus(h),x=h.toNumber();if(e)y=n[x],d=n[x+1];else for(d=l(n,x+1),y=n[x],g=0;g<x;++g)m(n[g],y)>0&&(y=n[g]);p(y),p(d);var b=new v.constructor(1);return c(f(y,b.minus(v)),f(d,v))}var p=s({"number | BigNumber | Unit":function(r){return r}});return function(r,e,o){var u,s,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(a(r)){if("boolean"==typeof(o=o||!1)){if(s=r.valueOf(),i(e)){if(e<0)throw new Error("N/prob must be non-negative");if(e<=1)return h(s,e,o);if(e>1){if(!n(e))throw new Error("N must be a positive integer");var f=e+1;u=new Array(e);for(var l=0;l<e;)u[l]=h(s,++l/f,o);return u}}if(t.isBigNumber(e)){if(e.isNegative())throw new Error("N/prob must be non-negative");if(c=new e.constructor(1),e.lte(c))return h(s,e,o);if(e.gt(c)){if(!e.isInteger())throw new Error("N must be a positive integer");var m=e.toNumber();if(m>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");for(f=new t.BigNumber(m+1),u=new Array(m),l=0;l<m;)u[l]=h(s,new t.BigNumber(++l).div(f),o);return u}}if(Array.isArray(e)){for(u=new Array(e.length),l=0;l<u.length;++l){var p=e[l];if(i(p)){if(p<0||p>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!t.isBigNumber(p))throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new p.constructor(1),p.isNegative()||p.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}u[l]=h(s,p,o)}return u}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},{"../../utils/array":212,"../../utils/collection/isCollection":220,"../../utils/number":229,"../arithmetic/add":56,"../arithmetic/multiply":76,"../matrix/partitionSelect":103,"../relational/compare":126}],140:[function(r,t,e){"use strict";e.name="std",e.factory=function(t,e,n,i){var o=n(r("../arithmetic/sqrt")),a=n(r("../statistics/var")),u=i("std",{"Array | Matrix":s,"Array | Matrix, string":s,"...":function(r){return s(r)}});return u.toTex=void 0,u;function s(r,t){if(0==r.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return o(a.apply(null,arguments))}}},{"../arithmetic/sqrt":83,"../statistics/var":142}],141:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepForEach");e.name="sum",e.factory=function(t,e,i,o){var a=i(r("../arithmetic/addScalar")),u=o("sum",{"Array | Matrix":function(r){return s(r)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(r){return s(r)}});return u.toTex=void 0,u;function s(r){var i=void 0;if(n(r,function(r){i=void 0===i?r:a(i,r)}),void 0===i)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return i}}},{"../../utils/collection/deepForEach":218,"../arithmetic/addScalar":57}],142:[function(r,t,e){"use strict";var n="unbiased",i=r("../../utils/collection/deepForEach");e.name="var",e.factory=function(t,e,o,a){var u=o(r("../arithmetic/addScalar")),s=o(r("../arithmetic/subtract")),c=o(r("../arithmetic/multiplyScalar")),f=o(r("../arithmetic/divideScalar")),l=a("variance",{"Array | Matrix":function(r){return m(r,n)},"Array | Matrix, string":m,"...":function(r){return m(r,n)}});return l.toTex="\\mathrm{Var}\\left(${args}\\right)",l;function m(r,e){var n=0,o=0;if(0==r.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(i(r,function(r){n=u(n,r),o++}),0===o)throw new Error("Cannot calculate var of an empty array");var a=f(n,o);switch(n=0,i(r,function(r){var t=s(r,a);n=u(n,c(t,t))}),e){case"uncorrected":return f(n,o);case"biased":return f(n,o+1);case"unbiased":var l=t.isBigNumber(n)?new t.BigNumber(0):0;return 1==o?l:f(n,o-1);default:throw new Error('Unknown normalization "'+e+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}},{"../../utils/collection/deepForEach":218,"../arithmetic/addScalar":57,"../arithmetic/divideScalar":62,"../arithmetic/multiplyScalar":77,"../arithmetic/subtract":85}],143:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="acos",e.factory=function(r,t,e,i){var o=i("acos",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.acos(e):new r.Complex(e,0).acos()},Complex:function(r){return r.acos()},BigNumber:function(r){return r.acos()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],144:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)};e.name="acosh",e.factory=function(r,t,e,o){var a=o("acosh",{number:function(e){return e>=1||t.predictable?i(e):e<=-1?new r.Complex(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new r.Complex(e,0).acosh()},Complex:function(r){return r.acosh()},BigNumber:function(r){return r.acosh()},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],145:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="acot",e.factory=function(r,t,e,i){var o=i("acot",{number:function(r){return Math.atan(1/r)},Complex:function(r){return r.acot()},BigNumber:function(t){return new r.BigNumber(1).div(t).atan()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],146:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="acoth",e.factory=function(r,t,e,i){var o=i("acoth",{number:function(e){return e>=1||e<=-1||t.predictable?isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0:new r.Complex(e,0).acoth()},Complex:function(r){return r.acoth()},BigNumber:function(t){return new r.BigNumber(1).div(t).atanh()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],147:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="acsc",e.factory=function(r,t,e,i){var o=i("acsc",{number:function(e){return e<=-1||e>=1||t.predictable?Math.asin(1/e):new r.Complex(e,0).acsc()},Complex:function(r){return r.acsc()},BigNumber:function(t){return new r.BigNumber(1).div(t).asin()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],148:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="acsch",e.factory=function(r,t,e,i){var o=i("acsch",{number:function(r){return r=1/r,Math.log(r+Math.sqrt(r*r+1))},Complex:function(r){return r.acsch()},BigNumber:function(t){return new r.BigNumber(1).div(t).asinh()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],149:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="asec",e.factory=function(r,t,e,i){var o=i("asec",{number:function(e){return e<=-1||e>=1||t.predictable?Math.acos(1/e):new r.Complex(e,0).asec()},Complex:function(r){return r.asec()},BigNumber:function(t){return new r.BigNumber(1).div(t).acos()},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],150:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="asech",e.factory=function(t,e,i,o){o.find(i(r("./acosh")),["Complex"]);var a=o("asech",{number:function(r){if(r<=1&&r>=-1||e.predictable){r=1/r;var n=Math.sqrt(r*r-1);return r>0||e.predictable?Math.log(n+r):new t.Complex(Math.log(n-r),Math.PI)}return new t.Complex(r,0).asech()},Complex:function(r){return r.asech()},BigNumber:function(r){return new t.BigNumber(1).div(r).acosh()},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219,"./acosh":144}],151:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="asin",e.factory=function(r,t,e,i){var o=i("asin",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.asin(e):new r.Complex(e,0).asin()},Complex:function(r){return r.asin()},BigNumber:function(r){return r.asin()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],152:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="asinh",e.factory=function(r,t,e,i){var o=i("asinh",{number:Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],153:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="atan",e.factory=function(r,t,e,i){var o=i("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],154:[function(r,t,e){"use strict";e.name="atan2",e.factory=function(t,e,n,i){var o=n(r("../../type/matrix/function/matrix")),a=n(r("../../type/matrix/utils/algorithm02")),u=n(r("../../type/matrix/utils/algorithm03")),s=n(r("../../type/matrix/utils/algorithm09")),c=n(r("../../type/matrix/utils/algorithm11")),f=n(r("../../type/matrix/utils/algorithm12")),l=n(r("../../type/matrix/utils/algorithm13")),m=n(r("../../type/matrix/utils/algorithm14")),h=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(r,e){return t.BigNumber.atan2(r,e)},"Matrix, Matrix":function(r,t){var e;switch(r.storage()){case"sparse":switch(t.storage()){case"sparse":e=s(r,t,h,!1);break;default:e=a(t,r,h,!0)}break;default:switch(t.storage()){case"sparse":e=u(r,t,h,!1);break;default:e=l(r,t,h)}}return e},"Array, Array":function(r,t){return h(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return h(o(r),t)},"Matrix, Array":function(r,t){return h(r,o(t))},"Matrix, number | BigNumber":function(r,t){var e;switch(r.storage()){case"sparse":e=c(r,t,h,!1);break;default:e=m(r,t,h,!1)}return e},"number | BigNumber, Matrix":function(r,t){var e;switch(t.storage()){case"sparse":e=f(t,r,h,!0);break;default:e=m(t,r,h,!0)}return e},"Array, number | BigNumber":function(r,t){return m(o(r),t,h,!1).valueOf()},"number | BigNumber, Array":function(r,t){return m(o(t),r,h,!0).valueOf()}});return h.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},h}},{"../../type/matrix/function/matrix":195,"../../type/matrix/utils/algorithm02":199,"../../type/matrix/utils/algorithm03":200,"../../type/matrix/utils/algorithm09":205,"../../type/matrix/utils/algorithm11":207,"../../type/matrix/utils/algorithm12":208,"../../type/matrix/utils/algorithm13":209,"../../type/matrix/utils/algorithm14":210}],155:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2};e.name="atanh",e.factory=function(r,t,e,o){var a=o("atanh",{number:function(e){return e<=1&&e>=-1||t.predictable?i(e):new r.Complex(e,0).atanh()},Complex:function(r){return r.atanh()},BigNumber:function(r){return r.atanh()},"Array | Matrix":function(r){return n(r,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],156:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="cos",e.factory=function(r,t,e,i){var o=i("cos",{number:Math.cos,Complex:function(r){return r.cos()},BigNumber:function(r){return r.cos()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],157:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2};e.name="cosh",e.factory=function(r,t,e,o){var a=o("cosh",{number:i,Complex:function(r){return r.cosh()},BigNumber:function(r){return r.cosh()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],158:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="cot",e.factory=function(r,t,e,i){var o=i("cot",{number:function(r){return 1/Math.tan(r)},Complex:function(r){return r.cot()},BigNumber:function(t){return new r.BigNumber(1).div(t.tan())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],159:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");function i(r){var t=Math.exp(2*r);return(t+1)/(t-1)}e.name="coth",e.factory=function(r,t,e,o){var a=o("coth",{number:i,Complex:function(r){return r.coth()},BigNumber:function(t){return new r.BigNumber(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],160:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="csc",e.factory=function(r,t,e,i){var o=i("csc",{number:function(r){return 1/Math.sin(r)},Complex:function(r){return r.csc()},BigNumber:function(t){return new r.BigNumber(1).div(t.sin())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],161:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap"),i=r("../../utils/number").sign;function o(r){return 0==r?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*i(r)}e.name="csch",e.factory=function(r,t,e,i){var a=i("csch",{number:o,Complex:function(r){return r.csch()},BigNumber:function(t){return new r.BigNumber(1).div(t.sinh())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],162:[function(r,t,e){"use strict";t.exports=[r("./acos"),r("./acosh"),r("./acot"),r("./acoth"),r("./acsc"),r("./acsch"),r("./asec"),r("./asech"),r("./asin"),r("./asinh"),r("./atan"),r("./atan2"),r("./atanh"),r("./cos"),r("./cosh"),r("./cot"),r("./coth"),r("./csc"),r("./csch"),r("./sec"),r("./sech"),r("./sin"),r("./sinh"),r("./tan"),r("./tanh")]},{"./acos":143,"./acosh":144,"./acot":145,"./acoth":146,"./acsc":147,"./acsch":148,"./asec":149,"./asech":150,"./asin":151,"./asinh":152,"./atan":153,"./atan2":154,"./atanh":155,"./cos":156,"./cosh":157,"./cot":158,"./coth":159,"./csc":160,"./csch":161,"./sec":163,"./sech":164,"./sin":165,"./sinh":166,"./tan":167,"./tanh":168}],163:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="sec",e.factory=function(r,t,e,i){var o=i("sec",{number:function(r){return 1/Math.cos(r)},Complex:function(r){return r.sec()},BigNumber:function(t){return new r.BigNumber(1).div(t.cos())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],164:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");function i(r){return 2/(Math.exp(r)+Math.exp(-r))}e.name="sech",e.factory=function(r,t,e,o){var a=o("sech",{number:i,Complex:function(r){return r.sech()},BigNumber:function(t){return new r.BigNumber(1).div(t.cosh())},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],165:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="sin",e.factory=function(r,t,e,i){var o=i("sin",{number:Math.sin,Complex:function(r){return r.sin()},BigNumber:function(r){return r.sin()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],166:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2};e.name="sinh",e.factory=function(r,t,e,o){var a=o("sinh",{number:i,Complex:function(r){return r.sinh()},BigNumber:function(r){return r.sinh()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],167:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="tan",e.factory=function(r,t,e,i){var o=i("tan",{number:Math.tan,Complex:function(r){return r.tan()},BigNumber:function(r){return r.tan()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(t.value)},"Array | Matrix":function(r){return n(r,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}},{"../../utils/collection/deepMap":219}],168:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");var i=Math.tanh||function(r){var t=Math.exp(2*r);return(t-1)/(t+1)};e.name="tanh",e.factory=function(r,t,e,o){var a=o("tanh",{number:i,Complex:function(r){return r.tanh()},BigNumber:function(r){return r.tanh()},Unit:function(t){if(!t.hasBase(r.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(t.value)},"Array | Matrix":function(r){return n(r,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}},{"../../utils/collection/deepMap":219}],169:[function(r,t,e){"use strict";var n=r("../../utils/object");e.name="clone",e.factory=function(r,t,e,i){var o=i("clone",{any:n.clone});return o.toTex=void 0,o}},{"../../utils/object":230}],170:[function(r,t,e){"use strict";t.exports=[r("./clone"),r("./isInteger"),r("./isNegative"),r("./isNumeric"),r("./isPositive"),r("./isPrime"),r("./isZero"),r("./isNaN"),r("./typeof")]},{"./clone":169,"./isInteger":171,"./isNaN":172,"./isNegative":173,"./isNumeric":174,"./isPositive":175,"./isPrime":176,"./isZero":177,"./typeof":178}],171:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap"),i=r("../../utils/number");e.name="isInteger",e.factory=function(r,t,e,o){var a=o("isInteger",{number:i.isInteger,BigNumber:function(r){return r.isInt()},Fraction:function(r){return 1===r.d&&isFinite(r.n)},"Array | Matrix":function(r){return n(r,a)}});return a}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],172:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");r("../../utils/number");e.name="isNaN",e.factory=function(r,t,e,i){return i("isNaN",{number:function(r){return Number.isNaN(r)},BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return n(r,Number.isNaN)}})}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],173:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");r("../../utils/number");e.name="isNegative",e.factory=function(r,t,e,i){var o=i("isNegative",{number:function(r){return r<0},BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:function(r){return o(r.value)},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],174:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");r("../../utils/number");e.name="isNumeric",e.factory=function(r,t,e,i){var o=i("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],175:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");r("../../utils/number");e.name="isPositive",e.factory=function(r,t,e,i){var o=i("isPositive",{number:function(r){return r>0},BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:function(r){return o(r.value)},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],176:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");e.name="isPrime",e.factory=function(r,t,e,i){var o=i("isPrime",{number:function(r){if(r<2)return!1;if(2==r)return!0;if(r%2==0)return!1;for(var t=3;t*t<=r;t+=2)if(r%t==0)return!1;return!0},BigNumber:function(t){if(t.lt(2))return!1;if(t.equals(2))return!0;if(t.mod(2).isZero())return!1;for(var e=r.BigNumber(3);e.times(e).lte(t);e=e.plus(1))if(t.mod(e).isZero())return!1;return!0},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../utils/collection/deepMap":219}],177:[function(r,t,e){"use strict";var n=r("../../utils/collection/deepMap");r("../../utils/number");e.name="isZero",e.factory=function(r,t,e,i){var o=i("isZero",{number:function(r){return 0===r},BigNumber:function(r){return r.isZero()},Complex:function(r){return 0===r.re&&0===r.im},Fraction:function(r){return 1===r.d&&0===r.n},Unit:function(r){return o(r.value)},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../utils/collection/deepMap":219,"../../utils/number":229}],178:[function(r,t,e){"use strict";var n=r("../../utils/types");e.name="typeof",e.factory=function(r,t,e,i){var o=i("_typeof",{any:function(t){var e=n.type(t);if("Object"===e){if(r.isBigNumber(t))return"BigNumber";if(r.isComplex(t))return"Complex";if(r.isFraction(t))return"Fraction";if(r.isMatrix(t))return"Matrix";if(r.isUnit(t))return"Unit";if(r.isIndex(t))return"Index";if(r.isRange(t))return"Range";if(r.isChain(t))return"Chain";if(r.isHelp(t))return"Help"}return e}});return o.toTex=void 0,o}},{"../../utils/types":232}],179:[function(r,t,e){"use strict";var n=r("decimal.js/decimal.js");e.name="BigNumber",e.path="type",e.factory=function(r,t,e,i,o){var a=n.clone({precision:t.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(r){return new a(r.value)},o.on("config",function(r,t){r.precision!==t.precision&&a.config({precision:r.precision})}),a},e.math=!0},{"decimal.js/decimal.js":40}],180:[function(r,t,e){"use strict";var n=r("../../../utils/collection/deepMap");e.name="bignumber",e.factory=function(r,t,e,i){var o=i("bignumber",{"":function(){return new r.BigNumber(0)},number:function(t){return new r.BigNumber(t+"")},string:function(t){return new r.BigNumber(t)},BigNumber:function(r){return r},Fraction:function(t){return new r.BigNumber(t.n).div(t.d)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}},{"../../../utils/collection/deepMap":219}],181:[function(r,t,e){"use strict";t.exports=[r("./BigNumber"),r("./function/bignumber")]},{"./BigNumber":179,"./function/bignumber":180}],182:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("complex.js"),o=r("../../utils/number").format,a=r("../../utils/number").isNumber;e.name="Complex",e.path="type",e.factory=function(r,t,e,u,s){return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(r){var t=this.im,e=this.re,n=o(this.re,r),i=o(this.im,r),u=a(r)?r:r?r.precision:null;if(null!==u){var s=Math.pow(10,-u);Math.abs(e/t)<s&&(e=0),Math.abs(t/e)<s&&(t=0)}return 0==t?n:0==e?1==t?"i":-1==t?"-i":i+"i":t<0?-1==t?n+" - i":n+" - "+i.substring(1)+"i":1==t?n+" + i":n+" + "+i+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===n(e))return i(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var o=arguments[0],u=arguments[1];if(a(o)){if(r.isUnit(u)&&u.hasBase("ANGLE")&&(u=u.toNumber("rad")),a(u))return new i({r:o,phi:u});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(r){return new i(r)},i.EPSILON=t.epsilon,s.on("config",function(r,t){r.epsilon!==t.epsilon&&(i.EPSILON=r.epsilon)}),i.compare=function(r,t){return r.re>t.re?1:r.re<t.re?-1:r.im>t.im?1:r.im<t.im?-1:0},i},e.math=!0},{"../../utils/number":229,"complex.js":39}],183:[function(r,t,e){"use strict";var n=r("../../../utils/collection/deepMap");e.name="complex",e.factory=function(t,e,i,o){var a=r("../../../utils/latex"),u=o("complex",{"":function(){return t.Complex.ZERO},number:function(r){return new t.Complex(r,0)},"number, number":function(r,e){return new t.Complex(r,e)},"BigNumber, BigNumber":function(r,e){return new t.Complex(r.toNumber(),e.toNumber())},Complex:function(r){return r.clone()},string:function(r){return t.Complex(r)},Object:function(r){if("re"in r&&"im"in r)return new t.Complex(r.re,r.im);if("r"in r&&"phi"in r)return new t.Complex(r);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(r){return n(r,u)}});return u.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},u}},{"../../../utils/collection/deepMap":219,"../../../utils/latex":228}],184:[function(r,t,e){"use strict";t.exports=[r("./Complex"),r("./function/complex")]},{"./Complex":182,"./function/complex":183}],185:[function(r,t,e){"use strict";var n=r("../../../utils/collection/deepMap");e.name="fraction",e.factory=function(r,t,e,i){var o=i("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new r.Fraction(t)},string:function(t){return new r.Fraction(t)},"number, number":function(t,e){return new r.Fraction(t,e)},BigNumber:function(t){return new r.Fraction(t.toString())},Fraction:function(r){return r},Object:function(t){return new r.Fraction(t)},"Array | Matrix":function(r){return n(r,o)}});return o}},{"../../../utils/collection/deepMap":219}],186:[function(r,t,e){"use strict";var n=r("../../utils/index"),i=r("../../error/DimensionError"),o=(r("../../utils/customs").getSafeProperty,r("../../utils/customs").setSafeProperty,n.string),a=n.array,u=n.object,s=n.number,c=Array.isArray,f=s.isNumber,l=s.isInteger,m=o.isString,h=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(t,e,s,p){var g=s(r("./Matrix"));function y(r,e){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!m(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r))"DenseMatrix"===r.type?(this._data=u.clone(r._data),this._size=u.clone(r._size),this._datatype=e||r._datatype):(this._data=r.toArray(),this._size=r.size(),this._datatype=e||r._datatype);else if(r&&c(r.data)&&c(r.size))this._data=r.data,this._size=r.size,this._datatype=e||r.datatype;else if(c(r))this._data=function r(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];c(i)?t[e]=r(i):i&&!0===i.isMatrix&&(t[e]=r(i.valueOf()))}return t}(r),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=e;else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._data=[],this._size=[0],this._datatype=e}}y.prototype=new g,y.prototype.type="DenseMatrix",y.prototype.isDenseMatrix=!0,y.prototype.storage=function(){return"dense"},y.prototype.datatype=function(){return this._datatype},y.prototype.create=function(r,t){return new y(r,t)},y.prototype.subset=function(r,e,n){switch(arguments.length){case 1:return function(r,e){if(!t.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return r.get(e.min());var n=e.size();if(n.length!=r._size.length)throw new i(n.length,r._size.length);for(var o=e.min(),a=e.max(),u=0,s=r._size.length;u<s;u++)h(o[u],r._size[u]),h(a[u],r._size[u]);return new y(function r(t,e,n,i){var o=i===n-1,a=e.dimension(i);return o?a.map(function(r){return h(r,t.length),t[r]}).valueOf():a.map(function(o){h(o,t.length);var a=t[o];return r(a,e,n,i+1)}).valueOf()}(r._data,e,n.length,0),r._datatype)}(this,r);case 2:case 3:return function(r,e,n,o){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var s,c=e.size(),f=e.isScalar();if(t.isMatrix(n)?(s=n.size(),n=n.valueOf()):s=a.size(n),f){if(0!==s.length)throw new TypeError("Scalar expected");r.set(e.min(),n,o)}else{if(c.length<r._size.length)throw new i(c.length,r._size.length,"<");if(s.length<c.length){for(var l=0,m=0;1===c[l]&&1===s[l];)l++;for(;1===c[l];)m++,l++;n=a.unsqueeze(n,c.length,m,s)}if(!u.deepEqual(c,s))throw new i(c,s,">");var p=e.max().map(function(r){return r+1});v(r,p,o);var g=c.length;!function r(t,e,n,i,o){var a=o===i-1,u=e.dimension(o);a?u.forEach(function(r,e){h(r),t[r]=n[e[0]]}):u.forEach(function(a,u){h(a),r(t[a],e,n[u[0]],i,o+1)})}(r._data,e,n,g,0)}return r}(this,r,e,n);default:throw new SyntaxError("Wrong number of arguments")}},y.prototype.get=function(r){if(!c(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);for(var t=0;t<r.length;t++)h(r[t],this._size[t]);for(var e=this._data,n=0,o=r.length;n<o;n++){var a=r[n];h(a,e.length),e=e[a]}return e},y.prototype.set=function(r,t,e){if(!c(r))throw new TypeError("Array expected");if(r.length<this._size.length)throw new i(r.length,this._size.length,"<");var n,o,a;v(this,r.map(function(r){return r+1}),e);var u=this._data;for(n=0,o=r.length-1;n<o;n++)a=r[n],h(a,u.length),u=u[a];return a=r[r.length-1],h(a,u.length),u[a]=t,this},y.prototype.resize=function(r,t,e){if(!c(r))throw new TypeError("Array expected");var n=e?this.clone():this;return d(n,r,t)};var d=function(r,t,e){if(0===t.length){for(var n=r._data;c(n);)n=n[0];return n}return r._size=t.slice(0),r._data=a.resize(r._data,r._size,e),r};function v(r,t,e){for(var n=r._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,a=t.length;o<a;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&d(r,n,e)}return y.prototype.reshape=function(r,t){var e=t?this.clone():this;return e._data=a.reshape(e._data,r),e._size=r.slice(0),e},y.prototype.clone=function(){return new y({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},y.prototype.size=function(){return this._size.slice(0)},y.prototype.map=function(r){var t=this;return new y({data:function e(n,i){return c(n)?n.map(function(r,t){return e(r,i.concat(t))}):r(n,i,t)}(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},y.prototype.forEach=function(r){var t=this;!function e(n,i){c(n)?n.forEach(function(r,t){e(r,i.concat(t))}):r(n,i,t)}(this._data,[])},y.prototype.toArray=function(){return u.clone(this._data)},y.prototype.valueOf=function(){return this._data},y.prototype.format=function(r){return o.format(this._data,r)},y.prototype.toString=function(){return o.format(this._data)},y.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},y.prototype.diagonal=function(r){if(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!f(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;for(var e=r>0?r:0,n=r<0?-r:0,i=this._size[0],o=this._size[1],a=Math.min(i-n,o-e),u=[],s=0;s<a;s++)u[s]=this._data[s+n][s+e];return new y({data:u,size:[a],datatype:this._datatype})},y.diagonal=function(r,e,n,i,o){if(!c(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!f(r)||!l(r)||r<1)throw new Error("Size values must be positive integers");return r}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!f(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&m(o)&&(i=p.convert(i,o));var u,s=n>0?n:0,h=n<0?-n:0,g=r[0],d=r[1],v=Math.min(g-h,d-s);if(c(e)){if(e.length!==v)throw new Error("Invalid value array length");u=function(r){return e[r]}}else if(t.isMatrix(e)){var x=e.size();if(1!==x.length||x[0]!==v)throw new Error("Invalid matrix length");u=function(r){return e.get([r])}}else u=function(){return e};i||(i=t.isBigNumber(u(0))?new t.BigNumber(0):0);var b=[];if(r.length>0){b=a.resize(b,r,i);for(var w=0;w<v;w++)b[w+h][w+s]=u(w)}return new y({data:b,size:[g,d]})},y.fromJSON=function(r){return new y(r)},y.prototype.swapRows=function(r,t){if(!(f(r)&&l(r)&&f(t)&&l(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(r,this._size[0]),h(t,this._size[0]),y._swapRows(r,t,this._data),this},y._swapRows=function(r,t,e){var n=e[r];e[r]=e[t],e[t]=n},t.Matrix._storage.dense=y,t.Matrix._storage.default=y,y},e.lazy=!1},{"../../error/DimensionError":53,"../../utils/customs":224,"../../utils/index":227,"./Matrix":189}],187:[function(r,t,e){"use strict";e.name="FibonacciHeap",e.path="type",e.factory=function(t,e,n,i){var o=n(r("../../function/relational/smaller")),a=n(r("../../function/relational/larger")),u=1/Math.log((1+Math.sqrt(5))/2);function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}s.prototype.type="FibonacciHeap",s.prototype.isFibonacciHeap=!0,s.prototype.insert=function(r,t){var e={key:r,value:t,degree:0};if(this._minimum){var n=this._minimum;e.left=n,e.right=n.right,n.right=e,e.right.left=e,o(r,n.key)&&(this._minimum=e)}else e.left=e,e.right=e,this._minimum=e;return this._size++,e},s.prototype.size=function(){return this._size},s.prototype.clear=function(){this._minimum=null,this._size=0},s.prototype.isEmpty=function(){return 0===this._size},s.prototype.extractMinimum=function(){var r=this._minimum;if(null===r)return r;for(var t=this._minimum,e=r.degree,n=r.child;e>0;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,t.right=n,n.right.left=n,n.parent=null,n=i,e--}return r.left.right=r.right,r.right.left=r.left,r==r.right?t=null:(t=r.right,t=m(t,this._size)),this._size--,this._minimum=t,r},s.prototype.remove=function(r){this._minimum=c(this._minimum,r,-1),this.extractMinimum()};var c=function(r,t,e){t.key=e;var n=t.parent;return n&&o(t.key,n.key)&&(f(r,t,n),l(r,n)),o(t.key,r.key)&&(r=t),r},f=function(r,t,e){t.left.right=t.right,t.right.left=t.left,e.degree--,e.child==t&&(e.child=t.right),0===e.degree&&(e.child=null),t.left=r,t.right=r.right,r.right=t,t.right.left=t,t.parent=null,t.mark=!1},l=function r(t,e){var n=e.parent;n&&(e.mark?(f(t,e,n),r(n)):e.mark=!0)},m=function(r,t){var e,n,i,s=Math.floor(Math.log(t)*u)+1,c=new Array(s),f=0,l=r;if(l)for(f++,l=l.right;l!==r;)f++,l=l.right;for(;f>0;){for(var m=l.degree,h=l.right;e=c[m];){if(a(l.key,e.key)){var p=e;e=l,l=p}i=l,(n=e).left.right=n.right,n.right.left=n.left,n.parent=i,i.child?(n.left=i.child,n.right=i.child.right,i.child.right=n,n.right.left=n):(i.child=n,n.right=n,n.left=n),i.degree++,n.mark=!1,c[m]=null,m++}c[m]=l,l=h,f--}r=null;for(var g=0;g<s;g++)(e=c[g])&&(r?(e.left.right=e.right,e.right.left=e.left,e.left=r,e.right=r.right,r.right=e,e.right.left=e,o(e.key,r.key)&&(r=e)):r=e);return r};return s}},{"../../function/relational/larger":129,"../../function/relational/smaller":130}],188:[function(r,t,e){"use strict";var n=r("../../utils/index"),i=n.string,o=n.object,a=Array.isArray,u=i.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=function(t,e,i){var s=i(r("./DenseMatrix")),c=i(r("../../function/relational/smaller"));function f(r,e){if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r)||a(r)){var i=new s(r,e);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(r&&a(r.data)&&a(r.size))this._data=r.data,this._size=r.size,this._datatype=r.datatype,this._min=void 0!==r.min?r.min:null,this._max=void 0!==r.max?r.max:null;else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return f.prototype=new s,f.prototype.type="ImmutableDenseMatrix",f.prototype.isImmutableDenseMatrix=!0,f.prototype.subset=function(r){switch(arguments.length){case 1:var e=s.prototype.subset.call(this,r);return t.isMatrix(e)?new f({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},f.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},f.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},f.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},f.prototype.clone=function(){return new f({data:o.clone(this._data),size:o.clone(this._size),datatype:this._datatype})},f.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},f.fromJSON=function(r){return new f(r)},f.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},f.prototype.min=function(){if(null===this._min){var r=null;this.forEach(function(t){(null===r||c(t,r))&&(r=t)}),this._min=null!==r?r:void 0}return this._min},f.prototype.max=function(){if(null===this._max){var r=null;this.forEach(function(t){(null===r||c(r,t))&&(r=t)}),this._max=null!==r?r:void 0}return this._max},f}},{"../../function/relational/smaller":130,"../../utils/index":227,"./DenseMatrix":186}],189:[function(r,t,e){"use strict";var n=r("../../utils/index").string.isString;e.name="Matrix",e.path="type",e.factory=function(r,t,e,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}return o.prototype.type="Matrix",o.prototype.isMatrix=!0,o.storage=function(r){if(!n(r))throw new TypeError("format must be a string value");var t=o._storage[r];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+r);return t},o._storage={},o.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},o.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},o.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},o.prototype.subset=function(r,t,e){throw new Error("Cannot invoke subset on a Matrix interface")},o.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},o.prototype.set=function(r,t,e){throw new Error("Cannot invoke set on a Matrix interface")},o.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},o.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},o.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},o.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},o.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},o.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},o.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},o.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},o.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},o.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},o}},{"../../utils/index":227}],190:[function(r,t,e){"use strict";var n=r("../../utils/object").clone,i=r("../../utils/number").isInteger;e.name="Index",e.path="type",e.factory=function(r){function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,o=arguments.length;i<o;i++){var a=arguments[i];if(r.isRange(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||r.isMatrix(a)){var u=e(a.valueOf());this._dimensions.push(u);var s=u.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof a)this._dimensions.push(e([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}}}function e(t){for(var e=0,n=t.length;e<n;e++)if("number"!=typeof t[e]||!i(t[e]))throw new TypeError("Index parameters must be positive integer numbers");return new r.ImmutableDenseMatrix(t)}return t.prototype.type="Index",t.prototype.isIndex=!0,t.prototype.clone=function(){var r=new t;return r._dimensions=n(this._dimensions),r._isScalar=this._isScalar,r},t.create=function(r){var e=new t;return t.apply(e,r),e},t.prototype.size=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?1:n.size()[0]}return r},t.prototype.max=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?n:n.max()}return r},t.prototype.min=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?n:n.min()}return r},t.prototype.forEach=function(r){for(var t=0,e=this._dimensions.length;t<e;t++)r(this._dimensions[t],t,this)},t.prototype.dimension=function(r){return this._dimensions[r]||null},t.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},t.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},t.prototype.isScalar=function(){return this._isScalar},t.prototype.toArray=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r.push("string"==typeof n?n:n.toArray())}return r},t.prototype.valueOf=t.prototype.toArray,t.prototype.toString=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];"string"==typeof n?r.push(JSON.stringify(n)):r.push(n.toString())}return"["+r.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},t.fromJSON=function(r){return t.create(r.dimensions)},t}},{"../../utils/number":229,"../../utils/object":230}],191:[function(r,t,e){"use strict";var n=r("../../utils/number");e.name="Range",e.path="type",e.factory=function(r,t,e,i){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(r.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(r.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(r.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(r){if("string"!=typeof r)return null;var t=r.split(":").map(function(r){return parseFloat(r)});if(t.some(function(r){return isNaN(r)}))return null;switch(t.length){case 2:return new o(t[0],t[1]);case 3:return new o(t[0],t[2],t[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var r=0,t=this.start,e=this.step,i=this.end-t;return n.sign(e)==n.sign(i)?r=Math.ceil(i/e):0==i&&(r=0),isNaN(r)&&(r=0),[r]},o.prototype.min=function(){var r=this.size()[0];return r>0?this.step>0?this.start:this.start+(r-1)*this.step:void 0},o.prototype.max=function(){var r=this.size()[0];return r>0?this.step>0?this.start+(r-1)*this.step:this.start:void 0},o.prototype.forEach=function(r){var t=this.start,e=this.step,n=this.end,i=0;if(e>0)for(;t<n;)r(t,[i],this),t+=e,i++;else if(e<0)for(;t>n;)r(t,[i],this),t+=e,i++},o.prototype.map=function(r){var t=[];return this.forEach(function(e,n,i){t[n[0]]=r(e,n,i)}),t},o.prototype.toArray=function(){var r=[];return this.forEach(function(t,e){r[e[0]]=t}),r},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(r){var t=n.format(this.start,r);return 1!=this.step&&(t+=":"+n.format(this.step,r)),t+=":"+n.format(this.end,r)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(r){return new o(r.start,r.end,r.step)},o}},{"../../utils/number":229}],192:[function(r,t,e){"use strict";e.name="Spa",e.path="type",e.factory=function(t,e,n){var i=n(r("../../function/arithmetic/add")),o=n(r("../../function/relational/equalScalar"));function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}return a.prototype.type="Spa",a.prototype.isSpa=!0,a.prototype.set=function(r,t){if(this._values[r])this._values[r].value=t;else{var e=this._heap.insert(r,t);this._values[r]=e}},a.prototype.get=function(r){var t=this._values[r];return t?t.value:0},a.prototype.accumulate=function(r,t){var e=this._values[r];e?e.value=i(e.value,t):(e=this._heap.insert(r,t),this._values[r]=e)},a.prototype.forEach=function(r,t,e){var n=this._heap,i=this._values,a=[],u=n.extractMinimum();for(u&&a.push(u);u&&u.key<=t;)u.key>=r&&(o(u.value,0)||e(u.key,u.value,this)),(u=n.extractMinimum())&&a.push(u);for(var s=0;s<a.length;s++){var c=a[s];i[(u=n.insert(c.key,c.value)).key]=u}},a.prototype.swap=function(r,t){var e=this._values[r],n=this._values[t];if(!e&&n)e=this._heap.insert(r,n.value),this._heap.remove(n),this._values[r]=e,this._values[t]=void 0;else if(e&&!n)n=this._heap.insert(t,e.value),this._heap.remove(e),this._values[t]=n,this._values[r]=void 0;else if(e&&n){var i=e.value;e.value=n.value,n.value=i}},a}},{"../../function/arithmetic/add":56,"../../function/relational/equalScalar":128}],193:[function(r,t,e){"use strict";var n=r("../../utils/index"),i=r("../../error/DimensionError"),o=n.array,a=n.object,u=n.string,s=n.number,c=Array.isArray,f=s.isNumber,l=s.isInteger,m=u.isString,h=o.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=function(t,e,p,g){var y=p(r("./Matrix")),d=p(r("../../function/relational/equalScalar"));function v(r,e){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!m(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r))x(this,r,e);else if(r&&c(r.index)&&c(r.ptr)&&c(r.size))this._values=r.values,this._index=r.index,this._ptr=r.ptr,this._size=r.size,this._datatype=e||r.datatype;else if(c(r))b(this,r,e);else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var x=function(r,t,e){"SparseMatrix"===t.type?(r._values=t._values?a.clone(t._values):void 0,r._index=a.clone(t._index),r._ptr=a.clone(t._ptr),r._size=a.clone(t._size),r._datatype=e||t._datatype):b(r,t.valueOf(),e||t._datatype)},b=function(r,t,e){r._values=[],r._index=[],r._ptr=[],r._datatype=e;var n=t.length,i=0,o=d,a=0;if(m(e)&&(o=g.find(d,[e,e])||d,a=g.convert(0,e)),n>0){var u=0;do{r._ptr.push(r._index.length);for(var s=0;s<n;s++){var f=t[s];if(c(f)){if(0===u&&i<f.length&&(i=f.length),u<f.length){var l=f[u];o(l,a)||(r._values.push(l),r._index.push(s))}}else 0===u&&i<1&&(i=1),o(f,a)||(r._values.push(f),r._index.push(s))}u++}while(u<i)}r._ptr.push(r._index.length),r._size=[n,i]};v.prototype=new y,v.prototype.type="SparseMatrix",v.prototype.isSparseMatrix=!0,v.prototype.storage=function(){return"sparse"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(r,t){return new v(r,t)},v.prototype.density=function(){var r=this._size[0],t=this._size[1];return 0!==r&&0!==t?this._index.length/(r*t):0},v.prototype.subset=function(r,t,e){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,r);case 2:case 3:return M(this,r,t,e);default:throw new SyntaxError("Wrong number of arguments")}};var w=function(r,e){if(!t.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return r.get(e.min());var n,o,a,u,s=e.size();if(s.length!=r._size.length)throw new i(s.length,r._size.length);var c=e.min(),f=e.max();for(n=0,o=r._size.length;n<o;n++)h(c[n],r._size[n]),h(f[n],r._size[n]);var l=r._values,m=r._index,p=r._ptr,g=e.dimension(0),y=e.dimension(1),d=[],x=[];g.forEach(function(r,t){x[r]=t[0],d[r]=!0});var b=l?[]:void 0,w=[],M=[];return y.forEach(function(r){for(M.push(w.length),a=p[r],u=p[r+1];a<u;a++)n=m[a],!0===d[n]&&(w.push(x[n]),b&&b.push(l[a]))}),M.push(w.length),new v({values:b,index:w,ptr:M,size:s,datatype:r._datatype})},M=function(r,e,n,u){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var s,c=e.size(),f=e.isScalar();if(t.isMatrix(n)?(s=n.size(),n=n.toArray()):s=o.size(n),f){if(0!==s.length)throw new TypeError("Scalar expected");r.set(e.min(),n,u)}else{if(1!==c.length&&2!==c.length)throw new i(c.length,r._size.length,"<");if(s.length<c.length){for(var l=0,m=0;1===c[l]&&1===s[l];)l++;for(;1===c[l];)m++,l++;n=o.unsqueeze(n,c.length,m,s)}if(!a.deepEqual(c,s))throw new i(c,s,">");for(var h=e.min()[0],p=e.min()[1],g=s[0],y=s[1],d=0;d<g;d++)for(var v=0;v<y;v++){var x=n[d][v];r.set([d+h,v+p],x,u)}}return r};v.prototype.get=function(r){if(!c(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=r[0],e=r[1];h(t,this._size[0]),h(e,this._size[1]);var n=A(t,this._ptr[e],this._ptr[e+1],this._index);return n<this._ptr[e+1]&&this._index[n]===t?this._values[n]:0},v.prototype.set=function(r,t,e){if(!c(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=r[0],o=r[1],a=this._size[0],u=this._size[1],s=d,f=0;m(this._datatype)&&(s=g.find(d,[this._datatype,this._datatype])||d,f=g.convert(0,this._datatype)),(n>a-1||o>u-1)&&(E(this,Math.max(n+1,a),Math.max(o+1,u),e),a=this._size[0],u=this._size[1]),h(n,a),h(o,u);var l=A(n,this._ptr[o],this._ptr[o+1],this._index);return l<this._ptr[o+1]&&this._index[l]===n?s(t,f)?N(l,o,this._values,this._index,this._ptr):this._values[l]=t:_(l,n,o,t,this._values,this._index,this._ptr),this};var A=function(r,t,e,n){if(e-t==0)return e;for(var i=t;i<e;i++)if(n[i]===r)return i;return t},N=function(r,t,e,n,i){e.splice(r,1),n.splice(r,1);for(var o=t+1;o<i.length;o++)i[o]--},_=function(r,t,e,n,i,o,a){i.splice(r,0,n),o.splice(r,0,t);for(var u=e+1;u<a.length;u++)a[u]++};v.prototype.resize=function(r,t,e){if(!c(r))throw new TypeError("Array expected");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");r.forEach(function(t){if(!s.isNumber(t)||!s.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(r)+")")});var n=e?this.clone():this;return E(n,r[0],r[1],t)};var E=function(r,t,e,n){var i=n||0,o=d,a=0;m(r._datatype)&&(o=g.find(d,[r._datatype,r._datatype])||d,a=g.convert(0,r._datatype),i=g.convert(i,r._datatype));var u,s,c,f=!o(i,a),l=r._size[0],h=r._size[1];if(e>h){for(s=h;s<e;s++)if(r._ptr[s]=r._values.length,f)for(u=0;u<l;u++)r._values.push(i),r._index.push(u);r._ptr[e]=r._values.length}else e<h&&(r._ptr.splice(e+1,h-e),r._values.splice(r._ptr[e],r._values.length),r._index.splice(r._ptr[e],r._index.length));if(h=e,t>l){if(f){var p=0;for(s=0;s<h;s++){r._ptr[s]=r._ptr[s]+p,c=r._ptr[s+1]+p;var y=0;for(u=l;u<t;u++,y++)r._values.splice(c+y,0,i),r._index.splice(c+y,0,u),p++}r._ptr[h]=r._values.length}}else if(t<l){var v=0;for(s=0;s<h;s++){r._ptr[s]=r._ptr[s]-v;var x=r._ptr[s],b=r._ptr[s+1]-v;for(c=x;c<b;c++)(u=r._index[c])>t-1&&(r._values.splice(c,1),r._index.splice(c,1),v++)}r._ptr[s]=r._values.length}return r._size[0]=t,r._size[1]=e,r};v.prototype.reshape=function(r,t){if(!c(r))throw new TypeError("Array expected");if(2!==r.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(r.forEach(function(t){if(!s.isNumber(t)||!s.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(r)+")")}),this._size[0]*this._size[1]!=r[0]*r[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var e=t?this.clone():this;if(this._size[0]===r[0]&&this._size[1]===r[1])return e;for(var n=[],i=0;i<e._ptr.length;i++)for(var o=0;o<e._ptr[i+1]-e._ptr[i];o++)n.push(i);var a=e._values.slice(),f=e._index.slice();for(i=0;i<e._index.length;i++){var l=f[i],m=n[i],h=l*e._size[1]+m;n[i]=h%r[1],f[i]=Math.floor(h/r[1])}for(e._values.length=0,e._index.length=0,e._ptr.length=r[1]+1,e._size=r.slice(),i=0;i<e._ptr.length;i++)e._ptr[i]=0;for(var p=0;p<a.length;p++){i=f[p],o=n[p];var g=a[p],y=A(i,e._ptr[o],e._ptr[o+1],e._index);_(y,i,o,g,e._values,e._index,e._ptr)}return e},v.prototype.clone=function(){return new v({values:this._values?a.clone(this._values):void 0,index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size),datatype:this._datatype})},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(r,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var e=this,n=this._size[0],i=this._size[1];return S(this,0,n-1,0,i-1,function(t,n,i){return r(t,[n,i],e)},t)};var S=function(r,t,e,n,i,o,a){var u=[],s=[],c=[],f=d,l=0;m(r._datatype)&&(f=g.find(d,[r._datatype,r._datatype])||d,l=g.convert(0,r._datatype));for(var h=function(r,t,e){r=o(r,t,e),f(r,l)||(u.push(r),s.push(t))},p=n;p<=i;p++){c.push(u.length);for(var y=r._ptr[p],x=r._ptr[p+1],b=t,w=y;w<x;w++){var M=r._index[w];if(M>=t&&M<=e){if(!a)for(var A=b;A<M;A++)h(0,A-t,p-n);h(r._values[w],M-t,p-n)}b=M+1}if(!a)for(var N=b;N<=e;N++)h(0,N-t,p-n)}return c.push(u.length),new v({values:u,index:s,ptr:c,size:[e-t+1,i-n+1]})};v.prototype.forEach=function(r,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var e=this._size[0],n=this._size[1],i=0;i<n;i++){for(var o=this._ptr[i],a=this._ptr[i+1],u=0,s=o;s<a;s++){var c=this._index[s];if(!t)for(var f=u;f<c;f++)r(0,[f,i],this);r(this._values[s],[c,i],this),u=c+1}if(!t)for(var l=u;l<e;l++)r(0,[l,i],this)}},v.prototype.toArray=function(){return j(this._values,this._index,this._ptr,this._size,!0)},v.prototype.valueOf=function(){return j(this._values,this._index,this._ptr,this._size,!1)};var j=function(r,t,e,n,i){var o,u,s=n[0],c=n[1],f=[];for(o=0;o<s;o++)for(f[o]=[],u=0;u<c;u++)f[o][u]=0;for(u=0;u<c;u++)for(var l=e[u],m=e[u+1],h=l;h<m;h++)f[o=t[h]][u]=r?i?a.clone(r[h]):r[h]:1;return f};return v.prototype.format=function(r){for(var t=this._size[0],e=this._size[1],n=this.density(),i="Sparse Matrix ["+u.format(t,r)+" x "+u.format(e,r)+"] density: "+u.format(n,r)+"\n",o=0;o<e;o++)for(var a=this._ptr[o],s=this._ptr[o+1],c=a;c<s;c++){var f=this._index[c];i+="\n    ("+u.format(f,r)+", "+u.format(o,r)+") ==> "+(this._values?u.format(this._values[c],r):"X")}return i},v.prototype.toString=function(){return u.format(this.toArray())},v.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(r){if(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!f(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var e=r>0?r:0,n=r<0?-r:0,i=this._size[0],o=this._size[1],a=Math.min(i-n,o-e),u=[],s=[],c=[];c[0]=0;for(var m=e;m<o&&u.length<a;m++)for(var h=this._ptr[m],p=this._ptr[m+1],g=h;g<p;g++){var y=this._index[g];if(y===m-e+n){u.push(this._values[g]),s[u.length-1]=y-n;break}}return c.push(u.length),new v({values:u,index:s,ptr:c,size:[a,1]})},v.fromJSON=function(r){return new v(r)},v.diagonal=function(r,e,n,i,o){if(!c(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!f(r)||!l(r)||r<1)throw new Error("Size values must be positive integers");return r}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!f(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var a=d,u=0;m(o)&&(a=g.find(d,[o,o])||d,u=g.convert(0,o));var s,h=n>0?n:0,p=n<0?-n:0,y=r[0],x=r[1],b=Math.min(y-p,x-h);if(c(e)){if(e.length!==b)throw new Error("Invalid value array length");s=function(r){return e[r]}}else if(t.isMatrix(e)){var w=e.size();if(1!==w.length||w[0]!==b)throw new Error("Invalid matrix length");s=function(r){return e.get([r])}}else s=function(){return e};for(var M=[],A=[],N=[],_=0;_<x;_++){N.push(M.length);var E=_-h;if(E>=0&&E<b){var S=s(E);a(S,u)||(A.push(E+p),M.push(S))}}return N.push(M.length),new v({values:M,index:A,ptr:N,size:[y,x]})},v.prototype.swapRows=function(r,t){if(!(f(r)&&l(r)&&f(t)&&l(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(r,this._size[0]),h(t,this._size[0]),v._swapRows(r,t,this._size[1],this._values,this._index,this._ptr),this},v._forEachRow=function(r,t,e,n,i){for(var o=n[r],a=n[r+1],u=o;u<a;u++)i(e[u],t[u])},v._swapRows=function(r,t,e,n,i,o){for(var a=0;a<e;a++){var u=o[a],s=o[a+1],c=A(r,u,s,i),f=A(t,u,s,i);if(c<s&&f<s&&i[c]===r&&i[f]===t){if(n){var l=n[c];n[c]=n[f],n[f]=l}}else if(c<s&&i[c]===r&&(f>=s||i[f]!==t)){var m=n?n[c]:void 0;i.splice(f,0,t),n&&n.splice(f,0,m),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1)}else if(f<s&&i[f]===t&&(c>=s||i[c]!==r)){var h=n?n[f]:void 0;i.splice(c,0,r),n&&n.splice(c,0,h),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}}},t.Matrix._storage.sparse=v,v},e.lazy=!1},{"../../error/DimensionError":53,"../../function/relational/equalScalar":128,"../../utils/index":227,"./Matrix":189}],194:[function(r,t,e){"use strict";e.name="index",e.factory=function(r,t,e,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var e=t.map(function(t){return r.isBigNumber(t)?t.toNumber():Array.isArray(t)||r.isMatrix(t)?t.map(function(t){return r.isBigNumber(t)?t.toNumber():t}):t}),n=new r.Index;return r.Index.apply(n,e),n}})}},{}],195:[function(r,t,e){"use strict";e.name="matrix",e.factory=function(r,t,e,n){var i=n("matrix",{"":function(){return o([])},string:function(r){return o([],r)},"string, string":function(r,t){return o([],r,t)},Array:function(r){return o(r)},Matrix:function(r){return o(r,r.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function o(t,e,n){return new(r.Matrix.storage(e||"default"))(t,n)}}},{}],196:[function(r,t,e){"use strict";e.name="sparse",e.factory=function(r,t,e,n){var i=r.SparseMatrix,o=n("sparse",{"":function(){return new i([])},string:function(r){return new i([],r)},"Array | Matrix":function(r){return new i(r)},"Array | Matrix, string":function(r,t){return new i(r,t)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}},{}],197:[function(r,t,e){"use strict";t.exports=[r("./Matrix"),r("./DenseMatrix"),r("./SparseMatrix"),r("./Spa"),r("./FibonacciHeap"),r("./ImmutableDenseMatrix"),r("./MatrixIndex"),r("./Range"),r("./function/index"),r("./function/matrix"),r("./function/sparse")]},{"./DenseMatrix":186,"./FibonacciHeap":187,"./ImmutableDenseMatrix":188,"./Matrix":189,"./MatrixIndex":190,"./Range":191,"./Spa":192,"./SparseMatrix":193,"./function/index":194,"./function/matrix":195,"./function/sparse":196}],198:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm01",e.factory=function(r,t,e,i){var o=r.DenseMatrix;return function(r,t,e,a){var u=r._data,s=r._size,c=r._datatype,f=t._values,l=t._index,m=t._ptr,h=t._size,p=t._datatype;if(s.length!==h.length)throw new n(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,y,d=s[0],v=s[1],x="string"==typeof c&&c===p?c:void 0,b=x?i.find(e,[x,x]):e,w=[];for(g=0;g<d;g++)w[g]=[];var M=[],A=[];for(y=0;y<v;y++){for(var N=y+1,_=m[y],E=m[y+1],S=_;S<E;S++)M[g=l[S]]=a?b(f[S],u[g][y]):b(u[g][y],f[S]),A[g]=N;for(g=0;g<d;g++)A[g]===N?w[g][y]=M[g]:w[g][y]=u[g][y]}return new o({data:w,size:[d,v],datatype:x})}}},{"../../../error/DimensionError":53}],199:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm02",e.factory=function(t,e,i,o){var a=i(r("../../../function/relational/equalScalar")),u=t.SparseMatrix;return function(r,t,e,i){var s=r._data,c=r._size,f=r._datatype,l=t._values,m=t._index,h=t._ptr,p=t._size,g=t._datatype;if(c.length!==p.length)throw new n(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,d=c[0],v=c[1],x=a,b=0,w=e;"string"==typeof f&&f===g&&(y=f,x=o.find(a,[y,y]),b=o.convert(0,y),w=o.find(e,[y,y]));for(var M=[],A=[],N=[],_=0;_<v;_++){N[_]=A.length;for(var E=h[_],S=h[_+1],j=E;j<S;j++){var B=m[j],T=i?w(l[j],s[B][_]):w(s[B][_],l[j]);x(T,b)||(A.push(B),M.push(T))}}return N[v]=A.length,new u({values:M,index:A,ptr:N,size:[d,v],datatype:y})}}},{"../../../error/DimensionError":53,"../../../function/relational/equalScalar":128}],200:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm03",e.factory=function(r,t,e,i){var o=r.DenseMatrix;return function(r,t,e,a){var u=r._data,s=r._size,c=r._datatype,f=t._values,l=t._index,m=t._ptr,h=t._size,p=t._datatype;if(s.length!==h.length)throw new n(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g,y=s[0],d=s[1],v=0,x=e;"string"==typeof c&&c===p&&(g=c,v=i.convert(0,g),x=i.find(e,[g,g]));for(var b=[],w=0;w<y;w++)b[w]=[];for(var M=[],A=[],N=0;N<d;N++){for(var _=N+1,E=m[N],S=m[N+1],j=E;j<S;j++){var B=l[j];M[B]=a?x(f[j],u[B][N]):x(u[B][N],f[j]),A[B]=_}for(var T=0;T<y;T++)A[T]===_?b[T][N]=M[T]:b[T][N]=a?x(v,u[T][N]):x(u[T][N],v)}return new o({data:b,size:[y,d],datatype:g})}}},{"../../../error/DimensionError":53}],201:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm04",e.factory=function(t,e,i,o){var a=i(r("../../../function/relational/equalScalar")),u=t.SparseMatrix;return function(r,t,e){var i=r._values,s=r._index,c=r._ptr,f=r._size,l=r._datatype,m=t._values,h=t._index,p=t._ptr,g=t._size,y=t._datatype;if(f.length!==g.length)throw new n(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var d,v=f[0],x=f[1],b=a,w=0,M=e;"string"==typeof l&&l===y&&(d=l,b=o.find(a,[d,d]),w=o.convert(0,d),M=o.find(e,[d,d]));var A,N,_,E,S,j=i&&m?[]:void 0,B=[],T=[],z=new u({values:j,index:B,ptr:T,size:[v,x],datatype:d}),C=i&&m?[]:void 0,O=i&&m?[]:void 0,k=[],I=[];for(N=0;N<x;N++){T[N]=B.length;var P=N+1;for(E=c[N],S=c[N+1],_=E;_<S;_++)A=s[_],B.push(A),k[A]=P,C&&(C[A]=i[_]);for(E=p[N],S=p[N+1],_=E;_<S;_++)if(k[A=h[_]]===P){if(C){var F=M(C[A],m[_]);b(F,w)?k[A]=null:C[A]=F}}else B.push(A),I[A]=P,O&&(O[A]=m[_]);if(C&&O)for(_=T[N];_<B.length;)k[A=B[_]]===P?(j[_]=C[A],_++):I[A]===P?(j[_]=O[A],_++):B.splice(_,1)}return T[x]=B.length,z}}},{"../../../error/DimensionError":53,"../../../function/relational/equalScalar":128}],202:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm05",e.factory=function(t,e,i,o){var a=i(r("../../../function/relational/equalScalar")),u=t.SparseMatrix;return function(r,t,e){var i=r._values,s=r._index,c=r._ptr,f=r._size,l=r._datatype,m=t._values,h=t._index,p=t._ptr,g=t._size,y=t._datatype;if(f.length!==g.length)throw new n(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var d,v=f[0],x=f[1],b=a,w=0,M=e;"string"==typeof l&&l===y&&(d=l,b=o.find(a,[d,d]),w=o.convert(0,d),M=o.find(e,[d,d]));var A,N,_,E,S=i&&m?[]:void 0,j=[],B=[],T=new u({values:S,index:j,ptr:B,size:[v,x],datatype:d}),z=S?[]:void 0,C=S?[]:void 0,O=[],k=[];for(N=0;N<x;N++){B[N]=j.length;var I=N+1;for(_=c[N],E=c[N+1];_<E;_++)A=s[_],j.push(A),O[A]=I,z&&(z[A]=i[_]);for(_=p[N],E=p[N+1];_<E;_++)O[A=h[_]]!==I&&j.push(A),k[A]=I,C&&(C[A]=m[_]);if(S)for(_=B[N];_<j.length;){var P=O[A=j[_]],F=k[A];if(P===I||F===I){var q=M(P===I?z[A]:w,F===I?C[A]:w);b(q,w)?j.splice(_,1):(S.push(q),_++)}}}return B[x]=j.length,T}}},{"../../../error/DimensionError":53,"../../../function/relational/equalScalar":128}],203:[function(r,t,e){"use strict";var n=r("./../../../utils/collection/scatter"),i=r("../../../error/DimensionError");e.name="algorithm06",e.factory=function(t,e,o,a){var u=o(r("../../../function/relational/equalScalar")),s=t.SparseMatrix;return function(r,t,e){var o=r._values,c=r._size,f=r._datatype,l=t._values,m=t._size,h=t._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var p,g=c[0],y=c[1],d=u,v=0,x=e;"string"==typeof f&&f===h&&(p=f,d=a.find(u,[p,p]),v=a.convert(0,p),x=a.find(e,[p,p]));for(var b=o&&l?[]:void 0,w=[],M=[],A=new s({values:b,index:w,ptr:M,size:[g,y],datatype:p}),N=b?[]:void 0,_=[],E=[],S=0;S<y;S++){M[S]=w.length;var j=S+1;if(n(r,S,_,N,E,j,A,x),n(t,S,_,N,E,j,A,x),N)for(var B=M[S];B<w.length;){var T=w[B];if(E[T]===j){var z=N[T];d(z,v)?w.splice(B,1):(b.push(z),B++)}else w.splice(B,1)}else for(var C=M[S];C<w.length;)E[w[C]]!==j?w.splice(C,1):C++}return M[y]=w.length,A}}},{"../../../error/DimensionError":53,"../../../function/relational/equalScalar":128,"./../../../utils/collection/scatter":223}],204:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm07",e.factory=function(r,t,e,i){var o=r.DenseMatrix,a=function(r,t,e,n,i){for(var o=r._values,a=r._index,u=r._ptr,s=u[t],c=u[t+1];s<c;s++){var f=a[s];e[f]=i,n[f]=o[s]}};return function(r,t,e){var u=r._size,s=r._datatype,c=t._size,f=t._datatype;if(u.length!==c.length)throw new n(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var l,m,h,p=u[0],g=u[1],y=0,d=e;"string"==typeof s&&s===f&&(l=s,y=i.convert(0,l),d=i.find(e,[l,l]));var v=[];for(m=0;m<p;m++)v[m]=[];var x=new o({data:v,size:[p,g],datatype:l}),b=[],w=[],M=[],A=[];for(h=0;h<g;h++){var N=h+1;for(a(r,h,M,b,N),a(t,h,A,w,N),m=0;m<p;m++){var _=M[m]===N?b[m]:y,E=A[m]===N?w[m]:y;v[m][h]=d(_,E)}}return x}}},{"../../../error/DimensionError":53}],205:[function(r,t,e){"use strict";var n=r("../../../error/DimensionError");e.name="algorithm09",e.factory=function(t,e,i,o){var a=i(r("../../../function/relational/equalScalar")),u=t.SparseMatrix;return function(r,t,e){var i=r._values,s=r._index,c=r._ptr,f=r._size,l=r._datatype,m=t._values,h=t._index,p=t._ptr,g=t._size,y=t._datatype;if(f.length!==g.length)throw new n(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var d,v=f[0],x=f[1],b=a,w=0,M=e;"string"==typeof l&&l===y&&(d=l,b=o.find(a,[d,d]),w=o.convert(0,d),M=o.find(e,[d,d]));var A,N,_,E,S,j=i&&m?[]:void 0,B=[],T=[],z=new u({values:j,index:B,ptr:T,size:[v,x],datatype:d}),C=j?[]:void 0,O=[];for(N=0;N<x;N++){T[N]=B.length;var k=N+1;if(C)for(E=p[N],S=p[N+1],_=E;_<S;_++)O[A=h[_]]=k,C[A]=m[_];for(E=c[N],S=c[N+1],_=E;_<S;_++)if(A=s[_],C){var I=O[A]===k?C[A]:w,P=M(i[_],I);b(P,w)||(B.push(A),j.push(P))}else B.push(A)}return T[x]=B.length,z}}},{"../../../error/DimensionError":53,"../../../function/relational/equalScalar":128}],206:[function(r,t,e){"use strict";e.name="algorithm10",e.factory=function(r,t,e,n){var i=r.DenseMatrix;return function(r,t,e,o){var a=r._values,u=r._index,s=r._ptr,c=r._size,f=r._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,m=c[0],h=c[1],p=e;"string"==typeof f&&(l=f,t=n.convert(t,l),p=n.find(e,[l,l]));for(var g=[],y=new i({data:g,size:[m,h],datatype:l}),d=[],v=[],x=0;x<h;x++){for(var b=x+1,w=s[x],M=s[x+1],A=w;A<M;A++){var N=u[A];d[N]=a[A],v[N]=b}for(var _=0;_<m;_++)0===x&&(g[_]=[]),v[_]===b?g[_][x]=o?p(t,d[_]):p(d[_],t):g[_][x]=t}return y}}},{}],207:[function(r,t,e){"use strict";e.name="algorithm11",e.factory=function(t,e,n,i){var o=n(r("../../../function/relational/equalScalar")),a=t.SparseMatrix;return function(r,t,e,n){var u=r._values,s=r._index,c=r._ptr,f=r._size,l=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,h=f[0],p=f[1],g=o,y=0,d=e;"string"==typeof l&&(m=l,g=i.find(o,[m,m]),y=i.convert(0,m),t=i.convert(t,m),d=i.find(e,[m,m]));for(var v=[],x=[],b=[],w=new a({values:v,index:x,ptr:b,size:[h,p],datatype:m}),M=0;M<p;M++){b[M]=x.length;for(var A=c[M],N=c[M+1],_=A;_<N;_++){var E=s[_],S=n?d(t,u[_]):d(u[_],t);g(S,y)||(x.push(E),v.push(S))}}return b[p]=x.length,w}}},{"../../../function/relational/equalScalar":128}],208:[function(r,t,e){"use strict";e.name="algorithm12",e.factory=function(r,t,e,n){var i=r.DenseMatrix;return function(r,t,e,o){var a=r._values,u=r._index,s=r._ptr,c=r._size,f=r._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,m=c[0],h=c[1],p=e;"string"==typeof f&&(l=f,t=n.convert(t,l),p=n.find(e,[l,l]));for(var g=[],y=new i({data:g,size:[m,h],datatype:l}),d=[],v=[],x=0;x<h;x++){for(var b=x+1,w=s[x],M=s[x+1],A=w;A<M;A++){var N=u[A];d[N]=a[A],v[N]=b}for(var _=0;_<m;_++)0===x&&(g[_]=[]),v[_]===b?g[_][x]=o?p(t,d[_]):p(d[_],t):g[_][x]=o?p(t,0):p(0,t)}return y}}},{}],209:[function(r,t,e){"use strict";var n=r("../../../utils/index"),i=r("../../../error/DimensionError");n.string.isString;e.name="algorithm13",e.factory=function(r,t,e,n){var o=r.DenseMatrix,a=function r(t,e,n,i,o,a){var u=[];if(e===n.length-1)for(var s=0;s<i;s++)u[s]=t(o[s],a[s]);else for(var c=0;c<i;c++)u[c]=r(t,e+1,n,n[e+1],o[c],a[c]);return u};return function(r,t,e){var u,s=r._data,c=r._size,f=r._datatype,l=t._data,m=t._size,h=t._datatype,p=[];if(c.length!==m.length)throw new i(c.length,m.length);for(var g=0;g<c.length;g++){if(c[g]!==m[g])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");p[g]=c[g]}var y=e;"string"==typeof f&&f===h&&(u=f,t=n.convert(t,u),y=n.find(e,[u,u]));var d=p.length>0?a(y,0,p,p[0],s,l):[];return new o({data:d,size:p,datatype:u})}}},{"../../../error/DimensionError":53,"../../../utils/index":227}],210:[function(r,t,e){"use strict";var n=r("../../../utils/object").clone;e.name="algorithm14",e.factory=function(r,t,e,i){var o=r.DenseMatrix,a=function r(t,e,n,i,o,a,u){var s=[];if(e===n.length-1)for(var c=0;c<i;c++)s[c]=u?t(a,o[c]):t(o[c],a);else for(var f=0;f<i;f++)s[f]=r(t,e+1,n,n[e+1],o[f],a,u);return s};return function(r,t,e,u){var s,c=r._data,f=r._size,l=r._datatype,m=e;"string"==typeof l&&(s=l,t=i.convert(t,s),m=i.find(e,[s,s]));var h=f.length>0?a(m,0,f,f[0],c,t,u):[];return new o({data:h,size:n(f),datatype:s})}}},{"../../../utils/object":230}],211:[function(r,t,e){"use strict";var n=r("./../utils/collection/deepMap");e.name="number",e.factory=function(r,t,e,i){var o=i("number",{"":function(){return 0},number:function(r){return r},string:function(r){var t=Number(r);if(isNaN(t))throw new SyntaxError('String "'+r+'" is no valid number');return t},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:function(r){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(r,t){return r.toNumber(t)},"Array | Matrix":function(r){return n(r,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}},{"./../utils/collection/deepMap":219}],212:[function(r,t,e){"use strict";var n=r("./number"),i=r("./string"),o=(r("./object"),r("./types"),r("../error/DimensionError")),a=r("../error/IndexError");e.size=function(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t},e.validate=function(r,t){if(0==t.length){if(Array.isArray(r))throw new o(r.length,0)}else!function r(t,e,n){var i,a=t.length;if(a!=e[n])throw new o(a,e[n]);if(n<e.length-1){var u=n+1;for(i=0;i<a;i++){var s=t[i];if(!Array.isArray(s))throw new o(e.length-1,e.length,"<");r(t[i],e,u)}}else for(i=0;i<a;i++)if(Array.isArray(t[i]))throw new o(e.length+1,e.length,">")}(r,t,0)},e.validateIndex=function(r,t){if(!n.isNumber(r)||!n.isInteger(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||"number"==typeof t&&r>=t)throw new a(r,t)},e.UNINITIALIZED={},e.resize=function(r,t,o){if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(r){if(!n.isNumber(r)||!n.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.format(t)+")")}),function r(t,n,i,o){var a;var u;var s=t.length;var c=n[i];var f=Math.min(s,c);t.length=c;if(i<n.length-1){var l=i+1;for(a=0;a<f;a++)u=t[a],Array.isArray(u)||(u=[u],t[a]=u),r(u,n,l,o);for(a=f;a<c;a++)u=[],t[a]=u,r(u,n,l,o)}else{for(a=0;a<f;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==e.UNINITIALIZED)for(a=f;a<c;a++)t[a]=o}}(r,t,0,void 0!==o?o:0),r},e.reshape=function(r,t){var n,i=e.flatten(r),a=function(r){return r.reduce(function(r,t){return r*t})};if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new o(0,a(e.size(r)),"!=");try{n=function r(t,e){var n=[];var i;if(0===e.length){if(0===t.length)throw new o(null,null,"!=");return t.shift()}for(i=0;i<e[0];i+=1)n.push(r(t,e.slice(1)));return n}(i,t)}catch(n){if(n instanceof o)throw new o(a(t),a(e.size(r)),"!=");throw n}if(i.length>0)throw new o(a(t),a(e.size(r)),"!=");return n},e.squeeze=function(r,t){for(var n=t||e.size(r);Array.isArray(r)&&1===r.length;)r=r[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(r=function r(t,e,n){var i,o;if(n<e){var a=n+1;for(i=0,o=t.length;i<o;i++)t[i]=r(t[i],e,a)}else for(;Array.isArray(t);)t=t[0];return t}(r,i,0),n.length=i),r},e.unsqueeze=function(r,t,n,i){var o=i||e.size(r);if(n)for(var a=0;a<n;a++)r=[r],o.unshift(1);for(r=function r(t,e,n){var i,o;if(Array.isArray(t)){var a=n+1;for(i=0,o=t.length;i<o;i++)t[i]=r(t[i],e,a)}else for(var u=n;u<e;u++)t=[t];return t}(r,t,0);o.length<t;)o.push(1);return r},e.flatten=function(r){if(!Array.isArray(r))return r;var t=[];return r.forEach(function r(e){Array.isArray(e)?e.forEach(r):t.push(e)}),t},e.map=function(r,t){return Array.prototype.map.call(r,t)},e.forEach=function(r,t){Array.prototype.forEach.call(r,t)},e.filter=function(r,t){if(1!==e.size(r).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t)},e.filterRegExp=function(r,t){if(1!==e.size(r).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,function(r){return t.test(r)})},e.join=function(r,t){return Array.prototype.join.call(r,t)},e.identify=function(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(0===r.length)return r;var t=[],e=0;t[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?e++:e=0,t.push({value:r[n],identifier:e});return t},e.generalize=function(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(0===r.length)return r;for(var t=[],e=0;e<r.length;e++)t.push(r[e].value);return t},e.isArray=Array.isArray},{"../error/DimensionError":53,"../error/IndexError":54,"./number":229,"./object":230,"./string":231,"./types":232}],213:[function(r,t,e){"use strict";e.format=function(r,t){if("function"==typeof t)return t(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==t&&(t.notation&&(n=t.notation),"number"==typeof t?i=t:t.precision&&(i=t.precision)),n){case"fixed":return e.toFixed(r,i);case"exponential":return e.toExponential(r,i);case"auto":var o=.001,a=1e5;t&&t.exponential&&(void 0!==t.exponential.lower&&(o=t.exponential.lower),void 0!==t.exponential.upper&&(a=t.exponential.upper));r.constructor.toExpNeg,r.constructor.toExpPos;if(r.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),r.isZero())return"0";var u=r.abs();return(u.gte(o)&&u.lt(a)?r.toSignificantDigits(i).toFixed():e.toExponential(r,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var r=arguments[2],t=arguments[4];return"."!==r?r+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(r,t){return void 0!==t?r.toExponential(t-1):r.toExponential()},e.toFixed=function(r,t){return r.toFixed(t||0)}},{}],214:[function(r,t,e){"use strict";t.exports=function(r){return r&&r.constructor.prototype.isBigNumber||!1}},{}],215:[function(r,t,e){"use strict";t.exports=function(r,t,e){if(null==e)return r.eq(t);if(r.eq(t))return!0;if(r.isNaN()||t.isNaN())return!1;if(r.isFinite()&&t.isFinite()){var n=r.minus(t).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),t.abs());return n.lte(i.times(e))}return!1}},{}],216:[function(r,t,e){"use strict";e.isBoolean=function(r){return"boolean"==typeof r}},{}],217:[function(r,t,e){"use strict";var n=r("./isCollection");t.exports=function(r){for(var t=0;t<r.length;t++)if(n(r[t]))return!0;return!1}},{"./isCollection":220}],218:[function(r,t,e){"use strict";var n=r("./isMatrix");t.exports=function r(t,e){n(t)&&(t=t.valueOf());for(var i=0,o=t.length;i<o;i++){var a=t[i];Array.isArray(a)?r(a,e):e(a)}}},{"./isMatrix":221}],219:[function(r,t,e){"use strict";t.exports=function r(t,e,n){return t&&"function"==typeof t.map?t.map(function(t){return r(t,e,n)}):e(t)}},{}],220:[function(r,t,e){"use strict";var n=r("./isMatrix");t.exports=function(r){return Array.isArray(r)||n(r)}},{"./isMatrix":221}],221:[function(r,t,e){"use strict";t.exports=function(r){return r&&r.constructor.prototype.isMatrix||!1}},{}],222:[function(r,t,e){"use strict";var n=r("../array").size,i=r("../collection/isMatrix"),o=r("../../error/IndexError");function a(r,t,e){var n,i,o,u;if(t<=0){if(Array.isArray(r[0])){for(u=function(r){var t,e,n=r.length,i=r[0].length,o=[];for(e=0;e<i;e++){var a=[];for(t=0;t<n;t++)a.push(r[t][e]);o.push(a)}return o}(r),i=[],n=0;n<u.length;n++)i[n]=a(u[n],t-1,e);return i}for(o=r[0],n=1;n<r.length;n++)o=e(o,r[n]);return o}for(i=[],n=0;n<r.length;n++)i[n]=a(r[n],t-1,e);return i}t.exports=function(r,t,e){var u=Array.isArray(r)?n(r):r.size();if(t<0||t>=u.length)throw new o(t,u.length);return i(r)?r.create(a(r.valueOf(),t,e)):a(r,t,e)}},{"../../error/IndexError":54,"../array":212,"../collection/isMatrix":221}],223:[function(r,t,e){"use strict";t.exports=function(r,t,e,n,i,o,a,u,s,c,f){var l,m,h,p,g=r._values,y=r._index,d=r._ptr,v=a._index;if(n)for(m=d[t],h=d[t+1],l=m;l<h;l++)e[p=y[l]]!==o?(e[p]=o,v.push(p),c?(n[p]=s?u(g[l],f):u(f,g[l]),i[p]=o):n[p]=g[l]):(n[p]=s?u(g[l],n[p]):u(n[p],g[l]),i[p]=o);else for(m=d[t],h=d[t+1],l=m;l<h;l++)e[p=y[l]]!==o?(e[p]=o,v.push(p)):i[p]=o}},{}],224:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("./object").hasOwnProperty;function o(r,t){return!(!r||"object"!==n(r))&&(!!i(s,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function a(r,t){return!(!r||"function"!=typeof r[t])&&(!(i(r,t)&&r.__proto__&&t in r.__proto__)&&(!!i(c,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function u(r){return"object"===n(r)&&r&&r.constructor===Object}var s={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(r,t){if(u(r)&&o(r,t))return r[t];if("function"==typeof r[t]&&a(r,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},e.setSafeProperty=function(r,t,e){if(u(r)&&o(r,t))return r[t]=e;throw new Error('No access to property "'+t+'"')},e.isSafeProperty=o,e.validateSafeMethod=function(r,t){if(!a(r,t))throw new Error('No access to method "'+t+'"')},e.isSafeMethod=a,e.isPlainObject=u},{"./object":230}],225:[function(r,t,e){"use strict";var n=r("tiny-emitter");e.mixin=function(r){var t=new n;return r.on=t.on.bind(t),r.off=t.off.bind(t),r.once=t.once.bind(t),r.emit=t.emit.bind(t),r}},{"tiny-emitter":238}],226:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}e.memoize=function(r,t){return function e(){"object"!==n(e.cache)&&(e.cache={});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=t?t(i):JSON.stringify(i);return a in e.cache?e.cache[a]:e.cache[a]=r.apply(r,i)}},e.maxArgumentCount=function(r){return Object.keys(r.signatures||{}).reduce(function(r,t){var e=(t.match(/,/g)||[]).length+1;return Math.max(r,e)},-1)},e.callWithRightArgumentCount=function(r,t,e){return Object.keys(r.signatures||{}).reduce(function(r,t){var e=(t.match(/,/g)||[]).length+1;return Math.max(r,e)},-1)}},{}],227:[function(r,t,e){"use strict";e.array=r("./array"),e.boolean=r("./boolean"),e.function=r("./function"),e.number=r("./number"),e.object=r("./object"),e.string=r("./string"),e.types=r("./types"),e.emitter=r("./emitter")},{"./array":212,"./boolean":216,"./emitter":225,"./function":226,"./number":229,"./object":230,"./string":231,"./types":232}],228:[function(r,t,e){"use strict";var n=r("escape-latex");e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};e.escape=function(r){return n(r,{preserveFormatting:!0})},e.toSymbol=function(r,t){return(t=void 0!==t&&t)?i.hasOwnProperty(r)?i[r]:"\\mathrm{"+e.escape(r)+"}":e.symbols.hasOwnProperty(r)?e.symbols[r]:e.escape(r)}},{"escape-latex":43}],229:[function(r,t,e){"use strict";function n(r){for(var t=[],e=0;e<r;e++)t.push(0);return t}e.isNumber=function(r){return"number"==typeof r},e.isInteger=function(r){return!!isFinite(r)&&r==Math.round(r)},e.sign=Math.sign||function(r){return r>0?1:r<0?-1:0},e.format=function(r,t){if("function"==typeof t)return t(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var n="auto",i=void 0;switch(t&&(t.notation&&(n=t.notation),e.isNumber(t)?i=t:t.precision&&(i=t.precision)),n){case"fixed":return e.toFixed(r,i);case"exponential":return e.toExponential(r,i);case"engineering":return e.toEngineering(r,i);case"auto":return e.toPrecision(r,i,t&&t.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var r=arguments[2],t=arguments[4];return"."!==r?r+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(r){var t=String(r).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var e=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(r){return i-=r.length,""}).replace(/0*$/,"").split("").map(function(r){return parseInt(r)});return 0===a.length&&(a.push(0),i++),{sign:e,coefficients:a,exponent:i}},e.toEngineering=function(r,t){if(isNaN(r)||!isFinite(r))return String(r);var i=e.roundDigits(e.splitNumber(r),t),o=i.exponent,a=i.coefficients,u=o%3==0?o:o<0?o-3-o%3:o-o%3,s=o>=0?o:Math.abs(u);a.length-1<s&&(a=a.concat(n(s-(a.length-1))));for(var c=Math.abs(o-u),f=1;--c>=0;)f++;var l=a.slice(f).join(""),m=l.match(/[1-9]/)?"."+l:"",h=a.slice(0,f).join("")+m+"e"+(o>=0?"+":"")+u.toString();return i.sign+h},e.toFixed=function(r,t){if(isNaN(r)||!isFinite(r))return String(r);var i=e.splitNumber(r),o=e.roundDigits(i,i.exponent+1+(t||0)),a=o.coefficients,u=o.exponent+1,s=u+(t||0);return a.length<s&&(a=a.concat(n(s-a.length))),u<0&&(a=n(1-u).concat(a),u=1),t&&a.splice(u,0,0===u?"0.":"."),o.sign+a.join("")},e.toExponential=function(r,t){if(isNaN(r)||!isFinite(r))return String(r);var i=e.splitNumber(r),o=t?e.roundDigits(i,t):i,a=o.coefficients,u=o.exponent;a.length<t&&(a=a.concat(n(t-a.length)));var s=a.shift();return o.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(u>=0?"+":"")+u},e.toPrecision=function(r,t,i){if(isNaN(r)||!isFinite(r))return String(r);var o=i&&void 0!==i.lower?i.lower:.001,a=i&&void 0!==i.upper?i.upper:1e5,u=e.splitNumber(r),s=Math.abs(Math.pow(10,u.exponent));if(s<o||s>=a)return e.toExponential(r,t);var c=t?e.roundDigits(u,t):u,f=c.coefficients,l=c.exponent;f.length<t&&(f=f.concat(n(t-f.length))),f=f.concat(n(l-f.length+1+(f.length<t?t-f.length:0)));var m=l>0?l:0;return m<(f=n(-l).concat(f)).length-1&&f.splice(m+1,0,"."),c.sign+f.join("")},e.roundDigits=function(r,t){for(var e={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),n[--i]++}return e},e.digits=function(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(r,t,n){if(null==n)return r==t;if(r==t)return!0;if(isNaN(r)||isNaN(t))return!1;if(isFinite(r)&&isFinite(t)){var i=Math.abs(r-t);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(r),Math.abs(t))*n}return!1}},{}],230:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("./bignumber/isBigNumber");e.clone=function r(t){var o=n(t);if("number"===o||"string"===o||"boolean"===o||null==t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(t){return r(t)});if(t instanceof Number)return new Number(t.valueOf());if(t instanceof String)return new String(t.valueOf());if(t instanceof Boolean)return new Boolean(t.valueOf());if(t instanceof Date)return new Date(t.valueOf());if(i(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return e.map(t,r)},e.map=function(r,t){var n={};for(var i in r)e.hasOwnProperty(r,i)&&(n[i]=t(r[i]));return n},e.extend=function(r,t){for(var n in t)e.hasOwnProperty(t,n)&&(r[n]=t[n]);return r},e.deepExtend=function r(t,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(e.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===t[i]&&(t[i]={}),t[i].constructor===Object?r(t[i],n[i]):t[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");t[i]=n[i]}return t},e.deepEqual=function(r,t){var i,o,a;if(Array.isArray(r)){if(!Array.isArray(t))return!1;if(r.length!=t.length)return!1;for(o=0,a=r.length;o<a;o++)if(!e.deepEqual(r[o],t[o]))return!1;return!0}if(r instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(i in r)if(!e.deepEqual(r[i],t[i]))return!1;for(i in t)if(!e.deepEqual(r[i],t[i]))return!1;return!0}return n(r)===n(t)&&r==t},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(r){}return!1},e.lazy=function(r,t,n){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(r,t,{get:function(){return o&&(i=n(),o=!1),i},set:function(r){i=r,o=!1},configurable:!0,enumerable:!0})}else r[t]=n()},e.traverse=function(r,t){var e=r;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var o=n[i];o in e||(e[o]={}),e=e[o]}return e},e.hasOwnProperty=function(r,t){return r&&Object.hasOwnProperty.call(r,t)},e.isFactory=function(r){return r&&"function"==typeof r.factory}},{"./bignumber/isBigNumber":214}],231:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i=r("./number").format,o=r("./bignumber/formatter").format,a=r("./bignumber/isBigNumber");e.isString=function(r){return"string"==typeof r},e.endsWith=function(r,t){var e=r.length-t.length,n=r.length;return r.substring(e,n)===t},e.format=function(r,t){if("number"==typeof r)return i(r,t);if(a(r))return o(r,t);if(function(r){return r&&"object"===n(r)&&"number"==typeof r.s&&"number"==typeof r.n&&"number"==typeof r.d||!1}(r))return t&&"decimal"===t.fraction?r.toString():r.s*r.n+"/"+r.d;if(Array.isArray(r))return function r(t,n){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=r(t[a],n);return i+="]"}return e.format(t,n)}(r,t);if(e.isString(r))return'"'+r+'"';if("function"==typeof r)return r.syntax?String(r.syntax):"function";if(r&&"object"===n(r)){if("function"==typeof r.format)return r.format(t);if(r&&r.toString()!=={}.toString())return r.toString();var u=[];for(var s in r)r.hasOwnProperty(s)&&u.push('"'+s+'": '+e.format(r[s],t));return"{"+u.join(", ")+"}"}return String(r)},e.stringify=function(r){for(var t=String(r),e="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(e+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(e+="\\"),e+=i):e+='"'===i?'\\"':i,n++}return'"'+e+'"'},e.escape=function(r){var t=String(r);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{"./bignumber/formatter":213,"./bignumber/isBigNumber":214,"./number":229}],232:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}e.type=function(r){var t=n(r);return"object"===t?null===r?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":r instanceof Boolean?"boolean":r instanceof Number?"number":r instanceof String?"string":"Object":"function"===t?"Function":t}},{}],233:[function(require,module,exports){(function(global){"use strict";function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var numeric=void 0===exports?function(){}:exports;void 0!==global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(r,t){var e,n,i;for(void 0===t&&(t=15),n=.5,e=new Date;;){for(i=n*=2;i>3;i-=4)r(),r(),r(),r();for(;i>0;)r(),i--;if(new Date-e>t)break}for(i=n;i>3;i-=4)r(),r(),r(),r();for(;i>0;)r(),i--;return 1e3*(3*n-1)/(new Date-e)},numeric._myIndexOf=function(r){var t,e=this.length;for(t=0;t<e;++t)if(this[t]===r)return t;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(r){var t=[];return function r(e){var n;if(void 0===e)return t.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return t.push('"'+e+'"'),!1;if("boolean"==typeof e)return t.push(e.toString()),!1;if("number"==typeof e){var i=function r(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+r(-t);if(isFinite(t)){var e=Math.floor(Math.log(t)/Math.log(10)),n=t/Math.pow(10,e),i=n.toPrecision(numeric.precision);return 10===parseFloat(i)&&(e++,i=(n=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+e.toString()}return"Infinity"}(e),o=e.toPrecision(numeric.precision),a=parseFloat(e.toString()).toString(),u=[i,o,a,parseFloat(o).toString(),parseFloat(a).toString()];for(n=1;n<u.length;n++)u[n].length<i.length&&(i=u[n]);return t.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===e)return t.push("null"),!1;if("function"==typeof e){t.push(e.toString());var s=!1;for(n in e)e.hasOwnProperty(n)&&(s?t.push(",\n"):t.push("\n{"),s=!0,t.push(n),t.push(": \n"),r(e[n]));return s&&t.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return t.push("...Large Array..."),!0;for(s=!1,t.push("["),n=0;n<e.length;n++)n>0&&(t.push(","),s&&t.push("\n ")),s=r(e[n]);return t.push("]"),!0}t.push("{");s=!1;for(n in e)e.hasOwnProperty(n)&&(s&&t.push(",\n"),s=!0,t.push(n),t.push(": \n"),r(e[n]));return t.push("}"),!0}(r),t.join("")},numeric.parseDate=function(r){return function r(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(!(t instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var e,n=[];for(e=0;e<t.length;e++)n[e]=r(t[e]);return n}(r)},numeric.parseFloat=function(r){return function r(t){if("string"==typeof t)return parseFloat(t);if(!(t instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var e,n=[];for(e=0;e<t.length;e++)n[e]=r(t[e]);return n}(r)},numeric.parseCSV=function(r){var t,e,n,i=r.split("\n"),o=[],a=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=0;for(e=0;e<i.length;e++){var c,f=(i[e]+",").match(a);if(f.length>0){for(o[s]=[],t=0;t<f.length;t++)c=(n=f[t]).substr(0,n.length-1),u.test(c)?o[s][t]=parseFloat(c):o[s][t]=c;s++}}return o},numeric.toCSV=function(r){var t,e,n,i,o,a=numeric.dim(r);for(n=a[0],a[1],o=[],t=0;t<n;t++){for(i=[],e=0;e<n;e++)i[e]=r[t][e].toString();o[t]=i.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(r){var t=new XMLHttpRequest;return t.open("GET",r,!1),t.send(),t},numeric.imageURL=function(r){function t(r,t,e){void 0===t&&(t=0),void 0===e&&(e=r.length);var n,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;r.length;for(n=t;n<e;n++)o=o>>>8^i[255&(o^r[n])];return-1^o}var e,n,i,o,a,u,s,c,f,l,m=r[0].length,h=r[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,h>>24&255,h>>16&255,h>>8&255,255&h,m>>24&255,m>>16&255,m>>8&255,255&m,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=t(p,12,29),p[29]=l>>24&255,p[30]=l>>16&255,p[31]=l>>8&255,p[32]=255&l,e=1,n=0,s=0;s<m;s++){for(s<m-1?p.push(0):p.push(1),a=3*h+1+(0===s)&255,u=3*h+1+(0===s)>>8&255,p.push(a),p.push(u),p.push(255&~a),p.push(255&~u),0===s&&p.push(0),c=0;c<h;c++)for(i=0;i<3;i++)n=(n+(e=(e+(a=(a=r[i][s][c])>255?255:a<0?0:Math.round(a)))%65521))%65521,p.push(a);p.push(0)}return f=(n<<16)+e,p.push(f>>24&255),p.push(f>>16&255),p.push(f>>8&255),p.push(255&f),o=p.length-41,p[33]=o>>24&255,p[34]=o>>16&255,p[35]=o>>8&255,p[36]=255&o,l=t(p,37),p.push(l>>24&255),p.push(l>>16&255),p.push(l>>8&255),p.push(255&l),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+function(r){var t,e,n,i,o,a,u,s=r.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(t=0;t<s;t+=3)o=((3&(e=r[t]))<<4)+((n=r[t+1])>>4),a=((15&n)<<2)+((i=r[t+2])>>6),u=63&i,t+1>=s?a=u=64:t+2>=s&&(u=64),f+=c.charAt(e>>2)+c.charAt(o)+c.charAt(a)+c.charAt(u);return f}(p)},numeric._dim=function(r){for(var t=[];"object"===_typeof(r);)t.push(r.length),r=r[0];return t},numeric.dim=function(r){var t;return"object"===_typeof(r)?"object"===_typeof(t=r[0])?"object"===_typeof(t[0])?numeric._dim(r):[r.length,t.length]:[r.length]:[]},numeric.mapreduce=function(r,t){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+t+';\nif(typeof x === "number") { var xi = x; '+r+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+r+";\n    xi = x[i-1];\n    "+r+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+r+"\n}\nreturn accum;")},numeric.mapreduce2=function(r,t){return Function("x","var n = x.length;\nvar i,xi;\n"+t+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+r+";\n}\nreturn accum;")},numeric.same=function r(t,e){var n,i;if(!(t instanceof Array&&e instanceof Array))return!1;if((i=t.length)!==e.length)return!1;for(n=0;n<i;n++)if(t[n]!==e[n]){if("object"!==_typeof(t[n]))return!1;if(!r(t[n],e[n]))return!1}return!0},numeric.rep=function(r,t,e){void 0===e&&(e=0);var n,i=r[e],o=Array(i);if(e===r.length-1){for(n=i-2;n>=0;n-=2)o[n+1]=t,o[n]=t;return-1===n&&(o[0]=t),o}for(n=i-1;n>=0;n--)o[n]=numeric.rep(r,t,e+1);return o},numeric.dotMMsmall=function(r,t){var e,n,i,o,a,u,s,c,f,l,m;for(o=r.length,a=t.length,u=t[0].length,s=Array(o),e=o-1;e>=0;e--){for(c=Array(u),f=r[e],i=u-1;i>=0;i--){for(l=f[a-1]*t[a-1][i],n=a-2;n>=1;n-=2)m=n-1,l+=f[n]*t[n][i]+f[m]*t[m][i];0===n&&(l+=f[0]*t[0][i]),c[i]=l}s[e]=c}return s},numeric._getCol=function(r,t,e){var n;for(n=r.length-1;n>0;--n)e[n]=r[n][t],e[--n]=r[n][t];0===n&&(e[0]=r[0][t])},numeric.dotMMbig=function(r,t){var e,n,i,o=numeric._getCol,a=t.length,u=Array(a),s=r.length,c=t[0].length,f=new Array(s),l=numeric.dotVV;for(--a,n=--s;-1!==n;--n)f[n]=Array(c);for(n=--c;-1!==n;--n)for(o(t,n,u),i=s;-1!==i;--i)0,e=r[i],f[i][n]=l(e,u);return f},numeric.dotMV=function(r,t){var e,n=r.length,i=(t.length,Array(n)),o=numeric.dotVV;for(e=n-1;e>=0;e--)i[e]=o(r[e],t);return i},numeric.dotVM=function(r,t){var e,n,i,o,a,u,s;for(i=r.length,o=t[0].length,a=Array(o),n=o-1;n>=0;n--){for(u=r[i-1]*t[i-1][n],e=i-2;e>=1;e-=2)s=e-1,u+=r[e]*t[e][n]+r[s]*t[s][n];0===e&&(u+=r[0]*t[0][n]),a[n]=u}return a},numeric.dotVV=function(r,t){var e,n,i=r.length,o=r[i-1]*t[i-1];for(e=i-2;e>=1;e-=2)n=e-1,o+=r[e]*t[e]+r[n]*t[n];return 0===e&&(o+=r[0]*t[0]),o},numeric.dot=function(r,t){var e=numeric.dim;switch(1e3*e(r).length+e(t).length){case 2002:return t.length<10?numeric.dotMMsmall(r,t):numeric.dotMMbig(r,t);case 2001:return numeric.dotMV(r,t);case 1002:return numeric.dotVM(r,t);case 1001:return numeric.dotVV(r,t);case 1e3:return numeric.mulVS(r,t);case 1:return numeric.mulSV(r,t);case 0:return r*t;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(r){var t,e,n,i,o=r.length,a=Array(o);for(t=o-1;t>=0;t--){for(i=Array(o),e=t+2,n=o-1;n>=e;n-=2)i[n]=0,i[n-1]=0;for(n>t&&(i[n]=0),i[t]=r[t],n=t-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),a[t]=i}return a},numeric.getDiag=function(r){var t,e=Math.min(r.length,r[0].length),n=Array(e);for(t=e-1;t>=1;--t)n[t]=r[t][t],n[--t]=r[t][t];return 0===t&&(n[0]=r[0][0]),n},numeric.identity=function(r){return numeric.diag(numeric.rep([r],1))},numeric.pointwise=function(r,t,e){void 0===e&&(e="");var n,i,o=[],a=/\[i\]$/,u="",s=!1;for(n=0;n<r.length;n++)a.test(r[n])?u=i=r[n].substring(0,r[n].length-3):i=r[n],"ret"===i&&(s=!0),o.push(i);return o[r.length]="_s",o[r.length+1]="_k",o[r.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+u+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(s?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+r.join(",")+",_s,_k+1);\n    return ret;\n}\n"+e+"\nfor(i=_n-1;i!==-1;--i) {\n    "+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(r,t,e){void 0===e&&(e="");var n,i,o=[],a=/\[i\]$/,u="",s=!1;for(n=0;n<r.length;n++)a.test(r[n])?u=i=r[n].substring(0,r[n].length-3):i=r[n],"ret"===i&&(s=!0),o.push(i);return o[r.length]="var _n = "+u+".length;\nvar i"+(s?"":", ret = Array(_n)")+";\n"+e+"\nfor(i=_n-1;i!==-1;--i) {\n"+t+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function r(t,e,n,i,o){var a;if(i!==n.length-1)for(a=n[i]-1;a>=0;a--)r("object"===_typeof(t)?t[a]:t,"object"===_typeof(e)?e[a]:e,n,i+1,o);else o(t,e)},numeric._biforeach2=function r(t,e,n,i,o){if(i===n.length-1)return o(t,e);var a,u=n[i],s=Array(u);for(a=u-1;a>=0;--a)s[a]=r("object"===_typeof(t)?t[a]:t,"object"===_typeof(e)?e[a]:e,n,i+1,o);return s},numeric._foreach=function r(t,e,n,i){var o;if(n!==e.length-1)for(o=e[n]-1;o>=0;o--)r(t[o],e,n+1,i);else i(t)},numeric._foreach2=function r(t,e,n,i){if(n===e.length-1)return i(t);var o,a=e[n],u=Array(a);for(o=a-1;o>=0;o--)u[o]=r(t[o],e,n+1,i);return u},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var r,t;for(r=0;r<numeric.mathfuns2.length;++r)t=numeric.mathfuns2[r],numeric.ops2[t]=t;for(r in numeric.ops2)if(numeric.ops2.hasOwnProperty(r)){t=numeric.ops2[r];var e,n,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,r)?(i="var "+t+" = Math."+t+";\n",e=function(r,e,n){return r+" = "+t+"("+e+","+n+")"},n=function(r,e){return r+" = "+t+"("+r+","+e+")"}):(e=function(r,e,n){return r+" = "+e+" "+t+" "+n},n=numeric.opseq.hasOwnProperty(r+"eq")?function(r,e){return r+" "+t+"= "+e}:function(r,e){return r+" = "+r+" "+t+" "+e}),numeric[r+"VV"]=numeric.pointwise2(["x[i]","y[i]"],e("ret[i]","x[i]","y[i]"),i),numeric[r+"SV"]=numeric.pointwise2(["x","y[i]"],e("ret[i]","x","y[i]"),i),numeric[r+"VS"]=numeric.pointwise2(["x[i]","y"],e("ret[i]","x[i]","y"),i),numeric[r]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+r+"VV, VS = numeric."+r+"VS, SV = numeric."+r+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[t]=numeric[r],numeric[r+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[r+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[r+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+r+"eqV, S = numeric."+r+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(r=0;r<numeric.mathfuns2.length;++r)t=numeric.mathfuns2[r],delete numeric.ops2[t];for(r=0;r<numeric.mathfuns.length;++r)t=numeric.mathfuns[r],numeric.ops1[t]=t;for(r in numeric.ops1)numeric.ops1.hasOwnProperty(r)&&(i="",t=numeric.ops1[r],-1!==numeric.myIndexOf.call(numeric.mathfuns,r)&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+";\n"),numeric[r+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),numeric[r+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\nvar i;\nvar V = numeric."+r+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[r+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),numeric[r]=Function("x",'if(typeof x !== "object") return '+t+"(x)\nvar i;\nvar V = numeric."+r+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(r=0;r<numeric.mathfuns.length;++r)t=numeric.mathfuns[r],delete numeric.ops1[t];for(r in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(r)&&(t=numeric.mapreducers[r],numeric[r+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[r]=Function("x","s","k",t[1]+'if(typeof x !== "object") {    xi = x;\n'+t[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+r+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+t[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(r,t){return"object"===_typeof(r)?"object"===_typeof(t)?numeric.truncVV(r,t):numeric.truncVS(r,t):"object"===_typeof(t)?numeric.truncSV(r,t):Math.round(r/t)*t},numeric.inv=function(r){var t,e,n,i,o,a,u,s=numeric.dim(r),c=Math.abs,f=s[0],l=s[1],m=numeric.clone(r),h=numeric.identity(f);for(a=0;a<l;++a){var p=-1,g=-1;for(o=a;o!==f;++o)(u=c(m[o][a]))>g&&(p=o,g=u);for(e=m[p],m[p]=m[a],m[a]=e,i=h[p],h[p]=h[a],h[a]=i,r=e[a],u=a;u!==l;++u)e[u]/=r;for(u=l-1;-1!==u;--u)i[u]/=r;for(o=f-1;-1!==o;--o)if(o!==a){for(t=m[o],n=h[o],r=t[a],u=a+1;u!==l;++u)t[u]-=e[u]*r;for(u=l-1;u>0;--u)n[u]-=i[u]*r,n[--u]-=i[u]*r;0===u&&(n[0]-=i[0]*r)}}return h},numeric.det=function(r){var t=numeric.dim(r);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: det() only works on square matrices");var e,n,i,o,a,u,s,c,f=t[0],l=1,m=numeric.clone(r);for(n=0;n<f-1;n++){for(i=n,e=n+1;e<f;e++)Math.abs(m[e][n])>Math.abs(m[i][n])&&(i=e);for(i!==n&&(s=m[i],m[i]=m[n],m[n]=s,l*=-1),o=m[n],e=n+1;e<f;e++){for(u=(a=m[e])[n]/o[n],i=n+1;i<f-1;i+=2)c=i+1,a[i]-=o[i]*u,a[c]-=o[c]*u;i!==f&&(a[i]-=o[i]*u)}if(0===o[n])return 0;l*=o[n]}return l*m[n][n]},numeric.transpose=function(r){var t,e,n,i,o,a=r.length,u=r[0].length,s=Array(u);for(e=0;e<u;e++)s[e]=Array(a);for(t=a-1;t>=1;t-=2){for(i=r[t],n=r[t-1],e=u-1;e>=1;--e)(o=s[e])[t]=i[e],o[t-1]=n[e],(o=s[--e])[t]=i[e],o[t-1]=n[e];0===e&&((o=s[0])[t]=i[0],o[t-1]=n[0])}if(0===t){for(n=r[0],e=u-1;e>=1;--e)s[e][0]=n[e],s[--e][0]=n[e];0===e&&(s[0][0]=n[0])}return s},numeric.negtranspose=function(r){var t,e,n,i,o,a=r.length,u=r[0].length,s=Array(u);for(e=0;e<u;e++)s[e]=Array(a);for(t=a-1;t>=1;t-=2){for(i=r[t],n=r[t-1],e=u-1;e>=1;--e)(o=s[e])[t]=-i[e],o[t-1]=-n[e],(o=s[--e])[t]=-i[e],o[t-1]=-n[e];0===e&&((o=s[0])[t]=-i[0],o[t-1]=-n[0])}if(0===t){for(n=r[0],e=u-1;e>=1;--e)s[e][0]=-n[e],s[--e][0]=-n[e];0===e&&(s[0][0]=-n[0])}return s},numeric._random=function r(t,e){var n,i,o=t[e],a=Array(o);if(e===t.length-1){for(i=Math.random,n=o-1;n>=1;n-=2)a[n]=i(),a[n-1]=i();return 0===n&&(a[0]=i()),a}for(n=o-1;n>=0;n--)a[n]=r(t,e+1);return a},numeric.random=function(r){return numeric._random(r,0)},numeric.norm2=function(r){return Math.sqrt(numeric.norm2Squared(r))},numeric.linspace=function(r,t,e){if(void 0===e&&(e=Math.max(Math.round(t-r)+1,1)),e<2)return 1===e?[r]:[];var n,i=Array(e);for(n=--e;n>=0;n--)i[n]=(n*t+(e-n)*r)/e;return i},numeric.getBlock=function(r,t,e){var n=numeric.dim(r);return function r(i,o){var a,u=t[o],s=e[o]-u,c=Array(s);if(o===n.length-1){for(a=s;a>=0;a--)c[a]=i[a+u];return c}for(a=s;a>=0;a--)c[a]=r(i[a+u],o+1);return c}(r,0)},numeric.setBlock=function(r,t,e,n){var i=numeric.dim(r);return function r(n,o,a){var u,s=t[a],c=e[a]-s;if(a===i.length-1)for(u=c;u>=0;u--)n[u+s]=o[u];for(u=c;u>=0;u--)r(n[u+s],o[u],a+1)}(r,n,0),r},numeric.getRange=function(r,t,e){var n,i,o,a,u=t.length,s=e.length,c=Array(u);for(n=u-1;-1!==n;--n)for(c[n]=Array(s),o=c[n],a=r[t[n]],i=s-1;-1!==i;--i)o[i]=a[e[i]];return c},numeric.blockMatrix=function(r){var t=numeric.dim(r);if(t.length<4)return numeric.blockMatrix([r]);var e,n,i,o,a,u=t[0],s=t[1];for(e=0,n=0,i=0;i<u;++i)e+=r[i][0].length;for(o=0;o<s;++o)n+=r[0][o][0].length;var c=Array(e);for(i=0;i<e;++i)c[i]=Array(n);var f,l,m,h,p,g=0;for(i=0;i<u;++i){for(f=n,o=s-1;-1!==o;--o)for(f-=(a=r[i][o])[0].length,m=a.length-1;-1!==m;--m)for(p=a[m],l=c[g+m],h=p.length-1;-1!==h;--h)l[f+h]=p[h];g+=r[i][0].length}return c},numeric.tensor=function(r,t){if("number"==typeof r||"number"==typeof t)return numeric.mul(r,t);var e=numeric.dim(r),n=numeric.dim(t);if(1!==e.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,a,u,s=e[0],c=n[0],f=Array(s);for(o=s-1;o>=0;o--){for(i=Array(c),u=r[o],a=c-1;a>=3;--a)i[a]=u*t[a],i[--a]=u*t[a],i[--a]=u*t[a],i[--a]=u*t[a];for(;a>=0;)i[a]=u*t[a],--a;f[o]=i}return f},numeric.T=function(r,t){this.x=r,this.y=t},numeric.t=function(r,t){return new numeric.T(r,t)},numeric.Tbinop=function(r,t,e,n,i){var o;numeric.indexOf;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(r.indexOf(o)>=0||t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+e+");\n}\nif(y.y) {\n  return new numeric.T("+t+");\n}\nreturn new numeric.T("+r+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var r=numeric.mul,t=numeric.div;if(this.y){var e=numeric.add(r(this.x,this.x),r(this.y,this.y));return new numeric.T(t(this.x,e),t(numeric.neg(this.y),e))}return new T(t(1,this.x))},numeric.T.prototype.div=function(r){if(r instanceof numeric.T||(r=new numeric.T(r)),r.y)return this.mul(r.reciprocal());var t=numeric.div;return this.y?new numeric.T(t(this.x,r.x),t(this.y,r.x)):new numeric.T(t(this.x,r.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var r=numeric.transpose,t=this.x,e=this.y;return e?new numeric.T(r(t),r(e)):new numeric.T(r(t))},numeric.T.prototype.transjugate=function(){var r=numeric.transpose,t=this.x,e=this.y;return e?new numeric.T(r(t),numeric.negtranspose(e)):new numeric.T(r(t))},numeric.Tunop=function(r,t,e){return"string"!=typeof e&&(e=""),Function("var x = this;\n"+e+"\nif(x.y) {  "+t+";\n}\n"+r+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var r=this;if(void 0===r.y)return new numeric.T(numeric.inv(r.x));var t,e,n,i,o,a,u,s,c,f,l,m,h,p,g,y,d,v,x=r.x.length,b=numeric.identity(x),w=numeric.rep([x,x],0),M=numeric.clone(r.x),A=numeric.clone(r.y);for(c=0;c<x;c++){for(m=(p=M[c][c])*p+(g=A[c][c])*g,l=c,f=c+1;f<x;f++)(h=(p=M[f][c])*p+(g=A[f][c])*g)>m&&(l=f,m=h);for(l!==c&&(v=M[c],M[c]=M[l],M[l]=v,v=A[c],A[c]=A[l],A[l]=v,v=b[c],b[c]=b[l],b[l]=v,v=w[c],w[c]=w[l],w[l]=v),t=M[c],e=A[c],o=b[c],a=w[c],p=t[c],g=e[c],f=c+1;f<x;f++)y=t[f],d=e[f],t[f]=(y*p+d*g)/m,e[f]=(d*p-y*g)/m;for(f=0;f<x;f++)y=o[f],d=a[f],o[f]=(y*p+d*g)/m,a[f]=(d*p-y*g)/m;for(f=c+1;f<x;f++){for(n=M[f],i=A[f],u=b[f],s=w[f],p=n[c],g=i[c],l=c+1;l<x;l++)y=t[l],d=e[l],n[l]-=y*p-d*g,i[l]-=d*p+y*g;for(l=0;l<x;l++)y=o[l],d=a[l],u[l]-=y*p-d*g,s[l]-=d*p+y*g}}for(c=x-1;c>0;c--)for(o=b[c],a=w[c],f=c-1;f>=0;f--)for(u=b[f],s=w[f],p=M[f][c],g=A[f][c],l=x-1;l>=0;l--)y=o[l],d=a[l],u[l]-=p*y-g*d,s[l]-=p*d+g*y;return new numeric.T(b,w)},numeric.T.prototype.get=function(r){var t,e=this.x,n=this.y,i=0,o=r.length;if(n){for(;i<o;)e=e[t=r[i]],n=n[t],i++;return new numeric.T(e,n)}for(;i<o;)e=e[t=r[i]],i++;return new numeric.T(e)},numeric.T.prototype.set=function(r,t){var e,n=this.x,i=this.y,o=0,a=r.length,u=t.x,s=t.y;if(0===a)return s?this.y=s:i&&(this.y=void 0),this.x=n,this;if(s){for(i||(i=numeric.rep(numeric.dim(n),0),this.y=i);o<a-1;)n=n[e=r[o]],i=i[e],o++;return n[e=r[o]]=u,i[e]=s,this}if(i){for(;o<a-1;)n=n[e=r[o]],i=i[e],o++;return n[e=r[o]]=u,u instanceof Array?i[e]=numeric.rep(numeric.dim(u),0):i[e]=0,this}for(;o<a-1;)n=n[e=r[o]],o++;return n[e=r[o]]=u,this},numeric.T.prototype.getRows=function(r,t){var e,n,i=t-r+1,o=Array(i),a=this.x,u=this.y;for(e=r;e<=t;e++)o[e-r]=a[e];if(u){for(n=Array(i),e=r;e<=t;e++)n[e-r]=u[e];return new numeric.T(o,n)}return new numeric.T(o)},numeric.T.prototype.setRows=function(r,t,e){var n,i=this.x,o=this.y,a=e.x,u=e.y;for(n=r;n<=t;n++)i[n]=a[n-r];if(u)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),n=r;n<=t;n++)o[n]=u[n-r];else if(o)for(n=r;n<=t;n++)o[n]=numeric.rep([a[n-r].length],0);return this},numeric.T.prototype.getRow=function(r){var t=this.x,e=this.y;return e?new numeric.T(t[r],e[r]):new numeric.T(t[r])},numeric.T.prototype.setRow=function(r,t){var e=this.x,n=this.y,i=t.x,o=t.y;return e[r]=i,o?(n||(n=numeric.rep(numeric.dim(e),0),this.y=n),n[r]=o):n&&(n=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(r,t){var e=this.x,n=this.y,i=numeric.getBlock;return n?new numeric.T(i(e,r,t),i(n,r,t)):new numeric.T(i(e,r,t))},numeric.T.prototype.setBlock=function(r,t,e){e instanceof numeric.T||(e=new numeric.T(e));var n=this.x,i=this.y,o=numeric.setBlock,a=e.x,u=e.y;if(u)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(n,r,t,a),o(i,r,t,u),this;o(n,r,t,a),i&&o(i,r,t,numeric.rep(numeric.dim(a),0))},numeric.T.rep=function(r,t){var e=numeric.T;t instanceof e||(t=new e(t));var n=t.x,i=t.y,o=numeric.rep;return i?new e(o(r,n),o(r,i)):new e(o(r,n))},numeric.T.diag=function(r){r instanceof numeric.T||(r=new numeric.T(r));var t=r.x,e=r.y,n=numeric.diag;return e?new numeric.T(n(t),n(e)):new numeric.T(n(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(r){return new numeric.T(numeric.identity(r))},numeric.T.prototype.getDiag=function(){var r=numeric,t=this.x,e=this.y;return e?new r.T(r.getDiag(t),r.getDiag(e)):new r.T(r.getDiag(t))},numeric.house=function(r){var t=numeric.clone(r),e=(r[0]>=0?1:-1)*numeric.norm2(r);t[0]+=e;var n=numeric.norm2(t);if(0===n)throw new Error("eig: internal error");return numeric.div(t,n)},numeric.toUpperHessenberg=function(r){var t=numeric.dim(r);if(2!==t.length||t[0]!==t[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var e,n,i,o,a,u,s,c,f,l,m=t[0],h=numeric.clone(r),p=numeric.identity(m);for(n=0;n<m-2;n++){for(o=Array(m-n-1),e=n+1;e<m;e++)o[e-n-1]=h[e][n];if(numeric.norm2(o)>0){for(a=numeric.house(o),u=numeric.getBlock(h,[n+1,n],[m-1,m-1]),s=numeric.tensor(a,numeric.dot(a,u)),e=n+1;e<m;e++)for(c=h[e],f=s[e-n-1],i=n;i<m;i++)c[i]-=2*f[i-n];for(u=numeric.getBlock(h,[0,n+1],[m-1,m-1]),s=numeric.tensor(numeric.dot(u,a),a),e=0;e<m;e++)for(c=h[e],f=s[e],i=n+1;i<m;i++)c[i]-=2*f[i-n-1];for(u=Array(m-n-1),e=n+1;e<m;e++)u[e-n-1]=p[e];for(s=numeric.tensor(a,numeric.dot(a,u)),e=n+1;e<m;e++)for(l=p[e],f=s[e-n-1],i=0;i<m;i++)l[i]-=2*f[i]}}return{H:h,Q:p}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(r,t){void 0===t&&(t=1e4),r=numeric.clone(r);numeric.clone(r);var e,n,i,o,a,u,s,c,f,l,m,h,p,g,y,d,v,x,b=numeric.dim(r)[0],w=numeric.identity(b);if(b<3)return{Q:w,B:[[0,b-1]]};var M=numeric.epsilon;for(x=0;x<t;x++){for(d=0;d<b-1;d++)if(Math.abs(r[d+1][d])<M*(Math.abs(r[d][d])+Math.abs(r[d+1][d+1]))){var A=numeric.QRFrancis(numeric.getBlock(r,[0,0],[d,d]),t),N=numeric.QRFrancis(numeric.getBlock(r,[d+1,d+1],[b-1,b-1]),t);for(h=Array(d+1),y=0;y<=d;y++)h[y]=w[y];for(p=numeric.dot(A.Q,h),y=0;y<=d;y++)w[y]=p[y];for(h=Array(b-d-1),y=d+1;y<b;y++)h[y-d-1]=w[y];for(p=numeric.dot(N.Q,h),y=d+1;y<b;y++)w[y]=p[y-d-1];return{Q:w,B:A.B.concat(numeric.add(N.B,d+1))}}var _,E,S;if(i=r[b-2][b-2],o=r[b-2][b-1],a=r[b-1][b-2],c=i+(u=r[b-1][b-1]),s=i*u-o*a,f=numeric.getBlock(r,[0,0],[2,2]),c*c>=4*s)_=.5*(c+Math.sqrt(c*c-4*s)),E=.5*(c-Math.sqrt(c*c-4*s)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,_+E)),numeric.diag(numeric.rep([3],_*E)));else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],s)));for(e=[f[0][0],f[1][0],f[2][0]],n=numeric.house(e),h=[r[0],r[1],r[2]],p=numeric.tensor(n,numeric.dot(n,h)),y=0;y<3;y++)for(m=r[y],g=p[y],v=0;v<b;v++)m[v]-=2*g[v];for(h=numeric.getBlock(r,[0,0],[b-1,2]),p=numeric.tensor(numeric.dot(h,n),n),y=0;y<b;y++)for(m=r[y],g=p[y],v=0;v<3;v++)m[v]-=2*g[v];for(h=[w[0],w[1],w[2]],p=numeric.tensor(n,numeric.dot(n,h)),y=0;y<3;y++)for(l=w[y],g=p[y],v=0;v<b;v++)l[v]-=2*g[v];for(d=0;d<b-2;d++){for(v=d;v<=d+1;v++)if(Math.abs(r[v+1][v])<M*(Math.abs(r[v][v])+Math.abs(r[v+1][v+1]))){A=numeric.QRFrancis(numeric.getBlock(r,[0,0],[v,v]),t),N=numeric.QRFrancis(numeric.getBlock(r,[v+1,v+1],[b-1,b-1]),t);for(h=Array(v+1),y=0;y<=v;y++)h[y]=w[y];for(p=numeric.dot(A.Q,h),y=0;y<=v;y++)w[y]=p[y];for(h=Array(b-v-1),y=v+1;y<b;y++)h[y-v-1]=w[y];for(p=numeric.dot(N.Q,h),y=v+1;y<b;y++)w[y]=p[y-v-1];return{Q:w,B:A.B.concat(numeric.add(N.B,v+1))}}for(S=Math.min(b-1,d+3),e=Array(S-d),y=d+1;y<=S;y++)e[y-d-1]=r[y][d];for(n=numeric.house(e),h=numeric.getBlock(r,[d+1,d],[S,b-1]),p=numeric.tensor(n,numeric.dot(n,h)),y=d+1;y<=S;y++)for(m=r[y],g=p[y-d-1],v=d;v<b;v++)m[v]-=2*g[v-d];for(h=numeric.getBlock(r,[0,d+1],[b-1,S]),p=numeric.tensor(numeric.dot(h,n),n),y=0;y<b;y++)for(m=r[y],g=p[y],v=d+1;v<=S;v++)m[v]-=2*g[v-d-1];for(h=Array(S-d),y=d+1;y<=S;y++)h[y-d-1]=w[y];for(p=numeric.tensor(n,numeric.dot(n,h)),y=d+1;y<=S;y++)for(l=w[y],g=p[y-d-1],v=0;v<b;v++)l[v]-=2*g[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(r,t){var e,n,i,o,a,u,s,c,f,l,m,h,p,g,y,d,v=numeric.toUpperHessenberg(r),x=numeric.QRFrancis(v.H,t),b=numeric.T,w=r.length,M=x.B,A=numeric.dot(x.Q,numeric.dot(v.H,numeric.transpose(x.Q))),N=new b(numeric.dot(x.Q,v.Q)),_=M.length,E=Math.sqrt;for(n=0;n<_;n++)if((e=M[n][0])===M[n][1]);else{if(o=e+1,a=A[e][e],u=A[e][o],s=A[o][e],c=A[o][o],0===u&&0===s)continue;(l=(f=-a-c)*f-4*(a*c-u*s))>=0?((y=(a-(m=f<0?-.5*(f-E(l)):-.5*(f+E(l))))*(a-m)+u*u)>(d=s*s+(c-m)*(c-m))?(p=(a-m)/(y=E(y)),g=u/y):(p=s/(d=E(d)),g=(c-m)/d),i=new b([[g,-p],[p,g]]),N.setRows(e,o,i.dot(N.getRows(e,o)))):(m=-.5*f,h=.5*E(-l),(y=(a-m)*(a-m)+u*u)>(d=s*s+(c-m)*(c-m))?(p=(a-m)/(y=E(y+h*h)),g=u/y,m=0,h/=y):(p=s/(d=E(d+h*h)),g=(c-m)/d,m=h/d,h=0),i=new b([[g,-p],[p,g]],[[m,h],[h,-m]]),N.setRows(e,o,i.dot(N.getRows(e,o))))}var S=N.dot(r).dot(N.transjugate()),j=(w=r.length,numeric.T.identity(w));for(o=0;o<w;o++)if(o>0)for(n=o-1;n>=0;n--){var B=S.get([n,n]),T=S.get([o,o]);numeric.neq(B.x,T.x)||numeric.neq(B.y,T.y)?(m=S.getRow(n).getBlock([n],[o-1]),h=j.getRow(o).getBlock([n],[o-1]),j.set([o,n],S.get([n,o]).neg().sub(m.dot(h)).div(B.sub(T)))):j.setRow(o,j.getRow(n))}for(o=0;o<w;o++)m=j.getRow(o),j.setRow(o,m.div(m.norm2()));return j=j.transpose(),j=N.transjugate().dot(j),{lambda:S.getDiag(),E:j}},numeric.ccsSparse=function(r){var t,e,n,i=r.length,o=[];for(e=i-1;-1!==e;--e)for(n in t=r[e]){for(n=parseInt(n);n>=o.length;)o[o.length]=0;0!==t[n]&&o[n]++}var a=o.length,u=Array(a+1);for(u[0]=0,e=0;e<a;++e)u[e+1]=u[e]+o[e];var s=Array(u[a]),c=Array(u[a]);for(e=i-1;-1!==e;--e)for(n in t=r[e])0!==t[n]&&(o[n]--,s[u[n]+o[n]]=e,c[u[n]+o[n]]=t[n]);return[u,s,c]},numeric.ccsFull=function(r){var t,e,n,i,o=r[0],a=r[1],u=r[2],s=numeric.ccsDim(r),c=s[0],f=s[1],l=numeric.rep([c,f],0);for(t=0;t<f;t++)for(n=o[t],i=o[t+1],e=n;e<i;++e)l[a[e]][t]=u[e];return l},numeric.ccsTSolve=function(r,t,e,n,i){var o,a,u,s,c,f,l,m=r[0],h=r[1],p=r[2],g=m.length-1,y=Math.max,d=0;function v(r){var t;if(0===e[r]){for(e[r]=1,t=m[r];t<m[r+1];++t)v(h[t]);i[d]=r,++d}}for(void 0===n&&(e=numeric.rep([g],0)),void 0===n&&(n=numeric.linspace(0,e.length-1)),void 0===i&&(i=[]),o=n.length-1;-1!==o;--o)v(n[o]);for(i.length=d,o=i.length-1;-1!==o;--o)e[i[o]]=0;for(o=n.length-1;-1!==o;--o)a=n[o],e[a]=t[a];for(o=i.length-1;-1!==o;--o){for(a=i[o],u=m[a],s=y(m[a+1],u),c=u;c!==s;++c)if(h[c]===a){e[a]/=p[c];break}for(l=e[a],c=u;c!==s;++c)(f=h[c])!==a&&(e[f]-=l*p[c])}return e},numeric.ccsDFS=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS.prototype.dfs=function(r,t,e,n,i,o){var a,u,s,c=0,f=i.length,l=this.k,m=this.k1,h=this.j;if(0===n[r])for(n[r]=1,h[0]=r,l[0]=u=t[r],m[0]=s=t[r+1];;)if(u>=s){if(i[f]=h[c],0===c)return;++f,u=l[--c],s=m[c]}else 0===n[a=o[e[u]]]?(n[a]=1,l[c]=u,h[++c]=a,u=t[a],m[c]=s=t[a+1]):++u},numeric.ccsLPSolve=function(r,t,e,n,i,o,a){var u,s,c,f,l,m,h,p,g,y=r[0],d=r[1],v=r[2],x=(y.length,t[0]),b=t[1],w=t[2];for(s=x[i],c=x[i+1],n.length=0,u=s;u<c;++u)a.dfs(o[b[u]],y,d,e,n,o);for(u=n.length-1;-1!==u;--u)e[n[u]]=0;for(u=s;u!==c;++u)e[f=o[b[u]]]=w[u];for(u=n.length-1;-1!==u;--u){for(l=y[f=n[u]],m=y[f+1],h=l;h<m;++h)if(o[d[h]]===f){e[f]/=v[h];break}for(g=e[f],h=l;h<m;++h)(p=o[d[h]])!==f&&(e[p]-=g*v[h])}return e},numeric.ccsLUP1=function(r,t){var e,n,i,o,a,u,s,c=r[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],m=f[0],h=f[1],p=f[2],g=l[0],y=l[1],d=l[2],v=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),A=numeric.linspace(0,c-1),N=new numeric.ccsDFS(c);for(void 0===t&&(t=1),e=0;e<c;++e){for(b(f,r,v,x,e,A,N),o=-1,a=-1,n=x.length-1;-1!==n;--n)(i=x[n])<=e||(u=w(v[i]))>o&&(a=i,o=u);for(w(v[e])<t*o&&(n=M[e],o=M[a],M[e]=o,A[o]=e,M[a]=n,A[n]=a,o=v[e],v[e]=v[a],v[a]=o),o=m[e],a=g[e],s=v[e],h[o]=M[e],p[o]=1,++o,n=x.length-1;-1!==n;--n)u=v[i=x[n]],x[n]=0,v[i]=0,i<=e?(y[a]=i,d[a]=u,++a):(h[o]=M[i],p[o]=u/s,++o);m[e+1]=o,g[e+1]=a}for(n=h.length-1;-1!==n;--n)h[n]=A[h[n]];return{L:f,U:l,P:M,Pinv:A}},numeric.ccsDFS0=function(r){this.k=Array(r),this.k1=Array(r),this.j=Array(r)},numeric.ccsDFS0.prototype.dfs=function(r,t,e,n,i,o,a){var u,s,c,f=0,l=i.length,m=this.k,h=this.k1,p=this.j;if(0===n[r])for(n[r]=1,p[0]=r,m[0]=s=t[o[r]],h[0]=c=t[o[r]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=c){if(i[l]=o[p[f]],0===f)return;++l,s=m[--f],c=h[f]}else 0===n[u=e[s]]?(n[u]=1,m[f]=s,p[++f]=u,s=t[u=o[u]],h[f]=c=t[u+1]):++s}},numeric.ccsLPSolve0=function(r,t,e,n,i,o,a,u){var s,c,f,l,m,h,p,g,y,d=r[0],v=r[1],x=r[2],b=(d.length,t[0]),w=t[1],M=t[2];for(c=b[i],f=b[i+1],n.length=0,s=c;s<f;++s)u.dfs(w[s],d,v,e,n,o,a);for(s=n.length-1;-1!==s;--s)e[a[l=n[s]]]=0;for(s=c;s!==f;++s)e[l=w[s]]=M[s];for(s=n.length-1;-1!==s;--s){for(g=a[l=n[s]],m=d[l],h=d[l+1],p=m;p<h;++p)if(v[p]===g){e[g]/=x[p];break}for(y=e[g],p=m;p<h;++p)e[v[p]]-=y*x[p];e[g]=y}},numeric.ccsLUP0=function(r,t){var e,n,i,o,a,u,s,c=r[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],m=f[0],h=f[1],p=f[2],g=l[0],y=l[1],d=l[2],v=numeric.rep([c],0),x=numeric.rep([c],0),b=numeric.ccsLPSolve0,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),A=numeric.linspace(0,c-1),N=new numeric.ccsDFS0(c);for(void 0===t&&(t=1),e=0;e<c;++e){for(b(f,r,v,x,e,A,M,N),o=-1,a=-1,n=x.length-1;-1!==n;--n)(i=x[n])<=e||(u=w(v[M[i]]))>o&&(a=i,o=u);for(w(v[M[e]])<t*o&&(n=M[e],o=M[a],M[e]=o,A[o]=e,M[a]=n,A[n]=a),o=m[e],a=g[e],s=v[M[e]],h[o]=M[e],p[o]=1,++o,n=x.length-1;-1!==n;--n)u=v[M[i=x[n]]],x[n]=0,v[M[i]]=0,i<=e?(y[a]=i,d[a]=u,++a):(h[o]=M[i],p[o]=u/s,++o);m[e+1]=o,g[e+1]=a}for(n=h.length-1;-1!==n;--n)h[n]=A[h[n]];return{L:f,U:l,P:M,Pinv:A}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(r){return[numeric.sup(r[1])+1,r[0].length-1]},numeric.ccsGetBlock=function(r,t,e){var n=numeric.ccsDim(r),i=n[0],o=n[1];void 0===t?t=numeric.linspace(0,i-1):"number"==typeof t&&(t=[t]),void 0===e?e=numeric.linspace(0,o-1):"number"==typeof e&&(e=[e]);var a,u,s,c,f=t.length,l=e.length,m=numeric.rep([o],0),h=[],p=[],g=[m,h,p],y=r[0],d=r[1],v=r[2],x=numeric.rep([i],0),b=0,w=numeric.rep([i],0);for(u=0;u<l;++u){var M=y[c=e[u]],A=y[c+1];for(a=M;a<A;++a)w[s=d[a]]=1,x[s]=v[a];for(a=0;a<f;++a)w[t[a]]&&(h[b]=a,p[b]=x[t[a]],++b);for(a=M;a<A;++a)w[s=d[a]]=0;m[u+1]=b}return g},numeric.ccsDot=function(r,t){var e,n,i,o,a,u,s,c,f,l,m,h=r[0],p=r[1],g=r[2],y=t[0],d=t[1],v=t[2],x=numeric.ccsDim(r),b=numeric.ccsDim(t),w=x[0],M=(x[1],b[1]),A=numeric.rep([w],0),N=numeric.rep([w],0),_=Array(w),E=numeric.rep([M],0),S=[],j=[],B=[E,S,j];for(i=0;i!==M;++i){for(o=y[i],a=y[i+1],f=0,n=o;n<a;++n)for(l=d[n],m=v[n],u=h[l],s=h[l+1],e=u;e<s;++e)0===N[c=p[e]]&&(_[f]=c,N[c]=1,f+=1),A[c]=A[c]+g[e]*m;for(a=(o=E[i])+f,E[i+1]=a,n=f-1;-1!==n;--n)m=o+n,e=_[n],S[m]=e,j[m]=A[e],N[e]=0,A[e]=0;E[i+1]=E[i]+f}return B},numeric.ccsLUPSolve=function(r,t){var e=r.L,n=r.U,i=(r.P,t[0]),o=!1;"object"!==_typeof(i)&&(i=(t=[[0,t.length],numeric.linspace(0,t.length-1),t])[0],o=!0);var a,u,s,c,f,l,m=t[1],h=t[2],p=e[0].length-1,g=i.length-1,y=numeric.rep([p],0),d=Array(p),v=numeric.rep([p],0),x=Array(p),b=numeric.rep([g+1],0),w=[],M=[],A=numeric.ccsTSolve,N=0;for(a=0;a<g;++a){for(f=0,s=i[a],c=i[a+1],u=s;u<c;++u)l=r.Pinv[m[u]],x[f]=l,v[l]=h[u],++f;for(x.length=f,A(e,v,y,x,d),u=x.length-1;-1!==u;--u)v[x[u]]=0;if(A(n,y,v,d,x),o)return v;for(u=d.length-1;-1!==u;--u)y[d[u]]=0;for(u=x.length-1;-1!==u;--u)l=x[u],w[N]=l,M[N]=v[l],v[l]=0,++N;b[a+1]=N}return[b,w,M]},numeric.ccsbinop=function(r,t){return void 0===t&&(t=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+t+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+r+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(r){var t,e=r[0],n=r[1],i=r[2],o=numeric.sup(n)+1,a=e.length,u=numeric.rep([o],0),s=Array(a),c=Array(a),f=numeric.rep([o],0);for(t=0;t<a;++t)f[n[t]]++;for(t=0;t<o;++t)u[t+1]=u[t]+f[t];var l,m,h=u.slice(0);for(t=0;t<a;++t)s[l=h[m=n[t]]]=e[t],c[l]=i[t],h[m]=h[m]+1;return[u,s,c]},numeric.ccsGather=function(r){var t,e,n,i,o,a=r[0],u=r[1],s=r[2],c=a.length-1,f=u.length,l=Array(f),m=Array(f),h=Array(f);for(o=0,t=0;t<c;++t)for(n=a[t],i=a[t+1],e=n;e!==i;++e)m[o]=t,l[o]=u[e],h[o]=s[e],++o;return[l,m,h]},numeric.sdim=function r(t,e,n){if(void 0===e&&(e=[]),"object"!==_typeof(t))return e;var i;for(i in void 0===n&&(n=0),n in e||(e[n]=0),t.length>e[n]&&(e[n]=t.length),t)t.hasOwnProperty(i)&&r(t[i],e,n+1);return e},numeric.sclone=function r(t,e,n){void 0===e&&(e=0),void 0===n&&(n=numeric.sdim(t).length);var i,o=Array(t.length);if(e===n-1){for(i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o}for(i in t)t.hasOwnProperty(i)&&(o[i]=r(t[i],e+1,n));return o},numeric.sdiag=function(r){var t,e,n=r.length,i=Array(n);for(t=n-1;t>=1;t-=2)e=t-1,i[t]=[],i[t][t]=r[t],i[e]=[],i[e][e]=r[e];return 0===t&&(i[0]=[],i[0][0]=r[t]),i},numeric.sidentity=function(r){return numeric.sdiag(numeric.rep([r],1))},numeric.stranspose=function(r){var t,e,n,i=[];r.length;for(t in r)if(r.hasOwnProperty(t))for(e in n=r[t])n.hasOwnProperty(e)&&("object"!==_typeof(i[e])&&(i[e]=[]),i[e][t]=n[e]);return i},numeric.sLUP=function(r,t){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(r,t){var e,n,i,o,a,u,s,c=r.length,f=(t.length,numeric.stranspose(t)),l=f.length,m=Array(c);for(i=c-1;i>=0;i--){for(s=[],e=r[i],a=l-1;a>=0;a--){for(o in u=0,n=f[a],e)e.hasOwnProperty(o)&&o in n&&(u+=e[o]*n[o]);u&&(s[a]=u)}m[i]=s}return m},numeric.sdotMV=function(r,t){var e,n,i,o,a=r.length,u=Array(a);for(n=a-1;n>=0;n--){for(i in o=0,e=r[n])e.hasOwnProperty(i)&&t[i]&&(o+=e[i]*t[i]);o&&(u[n]=o)}return u},numeric.sdotVM=function(r,t){var e,n,i,o,a=[];for(e in r)if(r.hasOwnProperty(e))for(n in i=t[e],o=r[e],i)i.hasOwnProperty(n)&&(a[n]||(a[n]=0),a[n]+=o*i[n]);return a},numeric.sdotVV=function(r,t){var e,n=0;for(e in r)r[e]&&t[e]&&(n+=r[e]*t[e]);return n},numeric.sdot=function(r,t){var e=numeric.sdim(r).length,n=numeric.sdim(t).length;switch(1e3*e+n){case 0:return r*t;case 1001:return numeric.sdotVV(r,t);case 2001:return numeric.sdotMV(r,t);case 1002:return numeric.sdotVM(r,t);case 2002:return numeric.sdotMM(r,t);default:throw new Error("numeric.sdot not implemented for tensors of order "+e+" and "+n)}},numeric.sscatter=function(r){var t,e,n,i,o=r[0].length,a=r.length,u=[];for(e=o-1;e>=0;--e)if(r[a-1][e]){for(i=u,n=0;n<a-2;n++)i[t=r[n][e]]||(i[t]=[]),i=i[t];i[r[n][e]]=r[n+1][e]}return u},numeric.sgather=function r(t,e,n){var i,o,a;for(o in void 0===e&&(e=[]),void 0===n&&(n=[]),i=n.length,t)if(t.hasOwnProperty(o))if(n[i]=parseInt(o),"number"==typeof(a=t[o])){if(a){if(0===e.length)for(o=i+1;o>=0;--o)e[o]=[];for(o=i;o>=0;--o)e[o].push(n[o]);e[i+1].push(a)}}else r(a,e,n);return n.length>i&&n.pop(),e},numeric.cLU=function(r){var t,e,n,i,o,a,u=r[0],s=r[1],c=r[2],f=u.length,l=0;for(t=0;t<f;t++)u[t]>l&&(l=u[t]);l++;var m,h=Array(l),p=Array(l),g=numeric.rep([l],1/0),y=numeric.rep([l],-1/0);for(n=0;n<f;n++)t=u[n],(e=s[n])<g[t]&&(g[t]=e),e>y[t]&&(y[t]=e);for(t=0;t<l-1;t++)y[t]>y[t+1]&&(y[t+1]=y[t]);for(t=l-1;t>=1;t--)g[t]<g[t-1]&&(g[t-1]=g[t]);for(t=0;t<l;t++)p[t]=numeric.rep([y[t]-g[t]+1],0),h[t]=numeric.rep([t-g[t]],0),t-g[t]+1,y[t]-t+1;for(n=0;n<f;n++)p[t=u[n]][s[n]-g[t]]=c[n];for(t=0;t<l-1;t++)for(i=t-g[t],x=p[t],e=t+1;g[e]<=t&&e<l;e++)if(o=t-g[e],a=y[t]-t,m=(b=p[e])[o]/x[i]){for(n=1;n<=a;n++)b[n+o]-=m*x[n+i];h[e][t-g[e]]=m}var d,v,x=[],b=[],w=[],M=[],A=[],N=[];for(f=0,d=0,t=0;t<l;t++){for(i=g[t],o=y[t],v=p[t],e=t;e<=o;e++)v[e-i]&&(x[f]=t,b[f]=e,w[f]=v[e-i],f++);for(v=h[t],e=i;e<t;e++)v[e-i]&&(M[d]=t,A[d]=e,N[d]=v[e-i],d++);M[d]=t,A[d]=t,N[d]=1,d++}return{U:[x,b,w],L:[M,A,N]}},numeric.cLUsolve=function(r,t){var e,n,i=r.L,o=r.U,a=numeric.clone(t),u=i[0],s=i[1],c=i[2],f=o[0],l=o[1],m=o[2],h=f.length,p=(u.length,a.length);for(n=0,e=0;e<p;e++){for(;s[n]<e;)a[e]-=c[n]*a[s[n]],n++;n++}for(n=h-1,e=p-1;e>=0;e--){for(;l[n]>e;)a[e]-=m[n]*a[l[n]],n--;a[e]/=m[n],n--}return a},numeric.cgrid=function(r,t){"number"==typeof r&&(r=[r,r]);var e,n,i,o=numeric.rep(r,-1);if("function"!=typeof t)switch(t){case"L":t=function(t,e){return t>=r[0]/2||e<r[1]/2};break;default:t=function(r,t){return!0}}for(i=0,e=1;e<r[0]-1;e++)for(n=1;n<r[1]-1;n++)t(e,n)&&(o[e][n]=i,i++);return o},numeric.cdelsq=function(r){var t,e,n,i,o,a=[[-1,0],[0,-1],[0,1],[1,0]],u=numeric.dim(r),s=u[0],c=u[1],f=[],l=[],m=[];for(t=1;t<s-1;t++)for(e=1;e<c-1;e++)if(!(r[t][e]<0)){for(n=0;n<4;n++)i=t+a[n][0],o=e+a[n][1],r[i][o]<0||(f.push(r[t][e]),l.push(r[i][o]),m.push(-1));f.push(r[t][e]),l.push(r[t][e]),m.push(4)}return[f,l,m]},numeric.cdotMV=function(r,t){var e,n,i,o=r[0],a=r[1],u=r[2],s=o.length;for(i=0,n=0;n<s;n++)o[n]>i&&(i=o[n]);for(i++,e=numeric.rep([i],0),n=0;n<s;n++)e[o[n]]+=u[n]*t[a[n]];return e},numeric.Spline=function(r,t,e,n,i){this.x=r,this.yl=t,this.yr=e,this.kl=n,this.kr=i},numeric.Spline.prototype._at=function(r,t){var e,n,i,o=this.x,a=this.yl,u=this.yr,s=this.kl,c=this.kr,f=numeric.add,l=numeric.sub,m=numeric.mul;e=l(m(s[t],o[t+1]-o[t]),l(u[t+1],a[t])),n=f(m(c[t+1],o[t]-o[t+1]),l(u[t+1],a[t]));var h=(i=(r-o[t])/(o[t+1]-o[t]))*(1-i);return f(f(f(m(1-i,a[t]),m(i,u[t+1])),m(e,h*(1-i))),m(n,h*i))},numeric.Spline.prototype.at=function(r){if("number"==typeof r){var t,e,n,i=this.x,o=i.length,a=Math.floor;for(t=0,e=o-1;e-t>1;)i[n=a((t+e)/2)]<=r?t=n:e=n;return this._at(r,t)}o=r.length;var u,s=Array(o);for(u=o-1;-1!==u;--u)s[u]=this.at(r[u]);return s},numeric.Spline.prototype.diff=function(){var r,t,e,n=this.x,i=this.yl,o=this.yr,a=this.kl,u=this.kr,s=i.length,c=a,f=u,l=Array(s),m=Array(s),h=numeric.add,p=numeric.mul,g=numeric.div,y=numeric.sub;for(r=s-1;-1!==r;--r)t=n[r+1]-n[r],e=y(o[r+1],i[r]),l[r]=g(h(p(e,6),p(a[r],-4*t),p(u[r+1],-2*t)),t*t),m[r+1]=g(h(p(e,-6),p(a[r],2*t),p(u[r+1],4*t)),t*t);return new numeric.Spline(n,c,f,l,m)},numeric.Spline.prototype.roots=function(){function r(r){return r*r}var t=[],e=this.x,n=this.yl,i=this.yr,o=this.kl,a=this.kr;"number"==typeof n[0]&&(n=[n],i=[i],o=[o],a=[a]);var u,s,c,f,l,m,h,p,g,y,d,v,x,b,w,M,A,N,_,E,S,j,B,T=n.length,z=e.length-1,C=(t=Array(T),Math.sqrt);for(u=0;u!==T;++u){for(f=n[u],l=i[u],m=o[u],h=a[u],p=[],s=0;s!==z;s++){for(s>0&&l[s]*f[s]<0&&p.push(e[s]),M=e[s+1]-e[s],e[s],d=f[s],v=l[s+1],g=m[s]/M,x=(y=h[s+1]/M)+3*d+2*g-3*v,b=3*(y+g+2*(d-v)),(w=r(g-y+3*(d-v))+12*y*d)<=0?A=(N=x/b)>e[s]&&N<e[s+1]?[e[s],N,e[s+1]]:[e[s],e[s+1]]:(N=(x-C(w))/b,_=(x+C(w))/b,A=[e[s]],N>e[s]&&N<e[s+1]&&A.push(N),_>e[s]&&_<e[s+1]&&A.push(_),A.push(e[s+1])),S=A[0],N=this._at(S,s),c=0;c<A.length-1;c++)if(j=A[c+1],_=this._at(j,s),0!==N)if(0===_||N*_>0)S=j,N=_;else{for(var O=0;!((B=(N*j-_*S)/(N-_))<=S||B>=j);)if((E=this._at(B,s))*_>0)j=B,_=E,-1===O&&(N*=.5),O=-1;else{if(!(E*N>0))break;S=B,N=E,1===O&&(_*=.5),O=1}p.push(B),S=A[c+1],N=this._at(S,s)}else p.push(S),S=j,N=_;0===_&&p.push(j)}t[u]=p}return"number"==typeof this.yl[0]?t[0]:t},numeric.spline=function(r,t,e,n){var i,o=r.length,a=[],u=[],s=[],c=numeric.sub,f=numeric.mul,l=numeric.add;for(i=o-2;i>=0;i--)u[i]=r[i+1]-r[i],s[i]=c(t[i+1],t[i]);"string"!=typeof e&&"string"!=typeof n||(e=n="periodic");var m=[[],[],[]];switch(_typeof(e)){case"undefined":a[0]=f(3/(u[0]*u[0]),s[0]),m[0].push(0,0),m[1].push(0,1),m[2].push(2/u[0],1/u[0]);break;case"string":a[0]=l(f(3/(u[o-2]*u[o-2]),s[o-2]),f(3/(u[0]*u[0]),s[0])),m[0].push(0,0,0),m[1].push(o-2,0,1),m[2].push(1/u[o-2],2/u[o-2]+2/u[0],1/u[0]);break;default:a[0]=e,m[0].push(0),m[1].push(0),m[2].push(1)}for(i=1;i<o-1;i++)a[i]=l(f(3/(u[i-1]*u[i-1]),s[i-1]),f(3/(u[i]*u[i]),s[i])),m[0].push(i,i,i),m[1].push(i-1,i,i+1),m[2].push(1/u[i-1],2/u[i-1]+2/u[i],1/u[i]);switch(_typeof(n)){case"undefined":a[o-1]=f(3/(u[o-2]*u[o-2]),s[o-2]),m[0].push(o-1,o-1),m[1].push(o-2,o-1),m[2].push(1/u[o-2],2/u[o-2]);break;case"string":m[1][m[1].length-1]=0;break;default:a[o-1]=n,m[0].push(o-1),m[1].push(o-1),m[2].push(1)}a="number"!=typeof a[0]?numeric.transpose(a):[a];var h=Array(a.length);if("string"==typeof e)for(i=h.length-1;-1!==i;--i)h[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(m)),a[i]),h[i][o-1]=h[i][0];else for(i=h.length-1;-1!==i;--i)h[i]=numeric.cLUsolve(numeric.cLU(m),a[i]);return h="number"==typeof t[0]?h[0]:numeric.transpose(h),new numeric.Spline(r,t,t,h,h)},numeric.fftpow2=function r(t,e){var n=t.length;if(1!==n){var i,o,a=Math.cos,u=Math.sin,s=Array(n/2),c=Array(n/2),f=Array(n/2),l=Array(n/2);for(o=n/2,i=n-1;-1!==i;--i)f[--o]=t[i],l[o]=e[i],--i,s[o]=t[i],c[o]=e[i];r(s,c),r(f,l),o=n/2;var m,h,p,g=-6.283185307179586/n;for(i=n-1;-1!==i;--i)-1===--o&&(o=n/2-1),h=a(m=g*i),p=u(m),t[i]=s[o]+h*f[o]-p*l[o],e[i]=c[o]+h*l[o]+p*f[o]}},numeric._ifftpow2=function r(t,e){var n=t.length;if(1!==n){var i,o,a=Math.cos,u=Math.sin,s=Array(n/2),c=Array(n/2),f=Array(n/2),l=Array(n/2);for(o=n/2,i=n-1;-1!==i;--i)f[--o]=t[i],l[o]=e[i],--i,s[o]=t[i],c[o]=e[i];r(s,c),r(f,l),o=n/2;var m,h,p,g=6.283185307179586/n;for(i=n-1;-1!==i;--i)-1===--o&&(o=n/2-1),h=a(m=g*i),p=u(m),t[i]=s[o]+h*f[o]-p*l[o],e[i]=c[o]+h*l[o]+p*f[o]}},numeric.ifftpow2=function(r,t){numeric._ifftpow2(r,t),numeric.diveq(r,r.length),numeric.diveq(t,t.length)},numeric.convpow2=function(r,t,e,n){var i,o,a,u,s;for(numeric.fftpow2(r,t),numeric.fftpow2(e,n),i=r.length-1;-1!==i;--i)o=r[i],u=t[i],a=e[i],s=n[i],r[i]=o*a-u*s,t[i]=o*s+u*a;numeric.ifftpow2(r,t)},numeric.T.prototype.fft=function(){var r,t,e=this.x,n=this.y,i=e.length,o=Math.log,a=o(2),u=Math.ceil(o(2*i-1)/a),s=Math.pow(2,u),c=numeric.rep([s],0),f=numeric.rep([s],0),l=Math.cos,m=Math.sin,h=-3.141592653589793/i,p=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(i/2);for(r=0;r<i;r++)p[r]=e[r];if(void 0!==n)for(r=0;r<i;r++)g[r]=n[r];for(c[0]=1,r=1;r<=s/2;r++)t=h*r*r,c[r]=l(t),f[r]=m(t),c[s-r]=l(t),f[s-r]=m(t);var y=new numeric.T(p,g),d=new numeric.T(c,f);return y=y.mul(d),numeric.convpow2(y.x,y.y,numeric.clone(d.x),numeric.neg(d.y)),(y=y.mul(d)).x.length=i,y.y.length=i,y},numeric.T.prototype.ifft=function(){var r,t,e=this.x,n=this.y,i=e.length,o=Math.log,a=o(2),u=Math.ceil(o(2*i-1)/a),s=Math.pow(2,u),c=numeric.rep([s],0),f=numeric.rep([s],0),l=Math.cos,m=Math.sin,h=3.141592653589793/i,p=numeric.rep([s],0),g=numeric.rep([s],0);Math.floor(i/2);for(r=0;r<i;r++)p[r]=e[r];if(void 0!==n)for(r=0;r<i;r++)g[r]=n[r];for(c[0]=1,r=1;r<=s/2;r++)t=h*r*r,c[r]=l(t),f[r]=m(t),c[s-r]=l(t),f[s-r]=m(t);var y=new numeric.T(p,g),d=new numeric.T(c,f);return y=y.mul(d),numeric.convpow2(y.x,y.y,numeric.clone(d.x),numeric.neg(d.y)),(y=y.mul(d)).x.length=i,y.y.length=i,y.div(i)},numeric.gradient=function(r,t){var e=t.length,n=r(t);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var i,o,a,u,s,c,f,l,m,h=Math.max,p=numeric.clone(t),g=Array(e),y=(numeric.div,numeric.sub,h=Math.max,Math.abs),d=Math.min,v=0;for(i=0;i<e;i++)for(var x=h(1e-6*n,1e-8);;){if(++v>20)throw new Error("Numerical gradient fails");if(p[i]=t[i]+x,o=r(p),p[i]=t[i]-x,a=r(p),p[i]=t[i],isNaN(o)||isNaN(a))x/=16;else{if(g[i]=(o-a)/(2*x),u=t[i]-x,s=t[i],c=t[i]+x,f=(o-n)/x,l=(n-a)/x,m=h(y(g[i]),y(n),y(o),y(a),y(u),y(s),y(c),1e-8),!(d(h(y(f-g[i]),y(l-g[i]),y(f-l))/m,x/m)>.001))break;x/=16}}return g},numeric.uncmin=function(r,t,e,n,i,o,a){var u=numeric.gradient;void 0===a&&(a={}),void 0===e&&(e=1e-8),void 0===n&&(n=function(t){return u(r,t)}),void 0===i&&(i=1e3);var s,c,f=(t=numeric.clone(t)).length,l=r(t);if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var m=Math.max,h=numeric.norm2;e=m(e,numeric.epsilon);var p,g,y,d,v,x,b,w,M,A,N=a.Hinv||numeric.identity(f),_=numeric.dot,E=(numeric.inv,numeric.sub),S=numeric.add,j=numeric.tensor,B=numeric.div,T=numeric.mul,z=numeric.all,C=numeric.isFinite,O=numeric.neg,k=0,I="";for(g=n(t);k<i;){if("function"==typeof o&&o(k,t,l,g,N)){I="Callback returned true";break}if(!z(C(g))){I="Gradient has Infinity or NaN";break}if(!z(C(p=O(_(N,g))))){I="Search direction has Infinity or NaN";break}if((A=h(p))<e){I="Newton step smaller than tol";break}for(M=1,c=_(g,p),v=t;k<i&&!(M*A<e)&&(v=S(t,d=T(p,M)),(s=r(v))-l>=.1*M*c||isNaN(s));)M*=.5,++k;if(M*A<e){I="Line search step size smaller than tol";break}if(k===i){I="maxit reached during line search";break}w=_(x=E(y=n(v),g),d),b=_(N,x),N=E(S(N,T((w+_(x,b))/(w*w),j(d,d))),B(S(j(b,d),j(d,b)),w)),t=v,l=s,g=y,++k}return{solution:t,f:l,gradient:g,invHessian:N,iterations:k,message:I}},numeric.Dopri=function(r,t,e,n,i,o,a){this.x=r,this.y=t,this.f=e,this.ymid=n,this.iterations=i,this.events=a,this.message=o},numeric.Dopri.prototype._at=function(r,t){function e(r){return r*r}var n,i,o,a,u,s,c,f,l,m=this.x,h=this.y,p=this.f,g=this.ymid,y=(m.length,Math.floor,numeric.add),d=numeric.mul,v=numeric.sub;return n=m[t],i=m[t+1],a=h[t],u=h[t+1],o=n+.5*(i-n),s=g[t],c=v(p[t],d(a,1/(n-o)+2/(n-i))),f=v(p[t+1],d(u,1/(i-o)+2/(i-n))),y(y(y(y(d(a,(l=[e(r-i)*(r-o)/e(n-i)/(n-o),e(r-n)*e(r-i)/e(n-o)/e(i-o),e(r-n)*(r-o)/e(i-n)/(i-o),(r-n)*e(r-i)*(r-o)/e(n-i)/(n-o),(r-i)*e(r-n)*(r-o)/e(n-i)/(i-o)])[0]),d(s,l[1])),d(u,l[2])),d(c,l[3])),d(f,l[4]))},numeric.Dopri.prototype.at=function(r){var t,e,n,i=Math.floor;if("number"!=typeof r){var o=r.length,a=Array(o);for(t=o-1;-1!==t;--t)a[t]=this.at(r[t]);return a}var u=this.x;for(t=0,e=u.length-1;e-t>1;)u[n=i(.5*(t+e))]<=r?t=n:e=n;return this._at(r,t)},numeric.dopri=function(r,t,e,n,i,o,a){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var u,s,c,f,l,m,h,p,g,y,d,v,x,b=[r],w=[e],M=[n(r,e)],A=[],N=[.075,.225],_=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],j=[35/384,0,500/1113,125/192,-2187/6784,11/84],B=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],T=[.2,.3,.8,8/9,1,1],z=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],C=0,O=(t-r)/10,k=0,I=numeric.add,P=numeric.mul,F=(Math.max,Math.min),q=Math.abs,U=numeric.norminf,D=Math.pow,R=numeric.any,L=numeric.lt,$=numeric.and,V=(numeric.sub,new numeric.Dopri(b,w,M,A,-1,""));for("function"==typeof a&&(d=a(r,e));r<t&&k<o;)if(++k,r+O>t&&(O=t-r),u=n(r+T[0]*O,I(e,P(.2*O,M[C]))),s=n(r+T[1]*O,I(I(e,P(N[0]*O,M[C])),P(N[1]*O,u))),c=n(r+T[2]*O,I(I(I(e,P(_[0]*O,M[C])),P(_[1]*O,u)),P(_[2]*O,s))),f=n(r+T[3]*O,I(I(I(I(e,P(E[0]*O,M[C])),P(E[1]*O,u)),P(E[2]*O,s)),P(E[3]*O,c))),l=n(r+T[4]*O,I(I(I(I(I(e,P(S[0]*O,M[C])),P(S[1]*O,u)),P(S[2]*O,s)),P(S[3]*O,c)),P(S[4]*O,f))),m=n(r+O,g=I(I(I(I(I(e,P(M[C],O*j[0])),P(s,O*j[2])),P(c,O*j[3])),P(f,O*j[4])),P(l,O*j[5]))),(y="number"==typeof(h=I(I(I(I(I(P(M[C],O*z[0]),P(s,O*z[2])),P(c,O*z[3])),P(f,O*z[4])),P(l,O*z[5])),P(m,O*z[6])))?q(h):U(h))>i){if(r+(O=.2*O*D(i/y,.25))===r){V.msg="Step size became too small";break}}else{if(A[C]=I(I(I(I(I(I(e,P(M[C],O*B[0])),P(s,O*B[2])),P(c,O*B[3])),P(f,O*B[4])),P(l,O*B[5])),P(m,O*B[6])),b[++C]=r+O,w[C]=g,M[C]=m,"function"==typeof a){var Z,X,H=r,Y=r+.5*O;if(v=a(Y,A[C-1]),R(x=$(L(d,0),L(0,v)))||(H=Y,d=v,v=a(Y=r+O,g),x=$(L(d,0),L(0,v))),R(x)){for(var J,G,W=0,Q=1,K=1;;){if("number"==typeof d)X=(K*v*H-Q*d*Y)/(K*v-Q*d);else for(X=Y,p=d.length-1;-1!==p;--p)d[p]<0&&v[p]>0&&(X=F(X,(K*v[p]*H-Q*d[p]*Y)/(K*v[p]-Q*d[p])));if(X<=H||X>=Y)break;G=a(X,Z=V._at(X,C-1)),R(J=$(L(d,0),L(0,G)))?(Y=X,v=G,x=J,K=1,-1===W?Q*=.5:Q=1,W=-1):(H=X,d=G,Q=1,1===W?K*=.5:K=1,W=1)}return g=V._at(.5*(r+X),C-1),V.f[C]=n(X,Z),V.x[C]=X,V.y[C]=Z,V.ymid[C-1]=g,V.events=x,V.iterations=k,V}}r+=O,e=g,d=v,O=F(.8*O*D(i/y,.25),4*O)}return V.iterations=k,V},numeric.LU=function(r,t){t=t||!1;var e,n,i,o,a,u,s,c,f,l=Math.abs,m=r.length,h=m-1,p=new Array(m);for(t||(r=numeric.clone(r)),i=0;i<m;++i){for(s=i,f=l((u=r[i])[i]),n=i+1;n<m;++n)f<(o=l(r[n][i]))&&(f=o,s=n);for(p[i]=s,s!=i&&(r[i]=r[s],r[s]=u,u=r[i]),a=u[i],e=i+1;e<m;++e)r[e][i]/=a;for(e=i+1;e<m;++e){for(c=r[e],n=i+1;n<h;++n)c[n]-=c[i]*u[n],c[++n]-=c[i]*u[n];n===h&&(c[n]-=c[i]*u[n])}}return{LU:r,P:p}},numeric.LUsolve=function(r,t){var e,n,i,o,a,u=r.LU,s=u.length,c=numeric.clone(t),f=r.P;for(e=s-1;-1!==e;--e)c[e]=t[e];for(e=0;e<s;++e)for(i=f[e],f[e]!==e&&(a=c[e],c[e]=c[i],c[i]=a),o=u[e],n=0;n<e;++n)c[e]-=c[n]*o[n];for(e=s-1;e>=0;--e){for(o=u[e],n=e+1;n<s;++n)c[e]-=c[n]*o[n];c[e]/=o[e]}return c},numeric.solve=function(r,t,e){return numeric.LUsolve(numeric.LU(r,e),t)},numeric.echelonize=function(r){var t,e,n,i,o,a,u,s,c=numeric.dim(r),f=c[0],l=c[1],m=numeric.identity(f),h=Array(f),p=Math.abs,g=numeric.diveq;for(r=numeric.clone(r),t=0;t<f;++t){for(n=0,o=r[t],a=m[t],e=1;e<l;++e)p(o[n])<p(o[e])&&(n=e);for(h[t]=n,g(a,o[n]),g(o,o[n]),e=0;e<f;++e)if(e!==t){for(s=(u=r[e])[n],i=l-1;-1!==i;--i)u[i]-=o[i]*s;for(u=m[e],i=f-1;-1!==i;--i)u[i]-=a[i]*s}}return{I:m,A:r,P:h}},numeric.__solveLP=function(r,t,e,n,i,o,a){var u,s,c,f,l=numeric.sum,m=(numeric.log,numeric.mul),h=numeric.sub,p=numeric.dot,g=numeric.div,y=numeric.add,d=r.length,v=e.length,x=!1,b=1,w=(numeric.transpose(t),numeric.svd,numeric.transpose),M=(numeric.leq,Math.sqrt),A=Math.abs,N=(numeric.muleq,numeric.norminf,numeric.any,Math.min),_=numeric.all,E=numeric.gt,S=Array(d),j=Array(v),B=(numeric.rep([v],1),numeric.solve),T=h(e,p(t,o)),z=p(r,r);for(c=0;c<i;++c){var C,O;for(C=v-1;-1!==C;--C)j[C]=g(t[C],T[C]);var k=w(j);for(C=d-1;-1!==C;--C)S[C]=l(k[C]);b=.25*A(z/p(r,S));var I=100*M(z/p(S,S));for((!isFinite(b)||b>I)&&(b=I),f=y(r,m(b,S)),s=p(k,j),C=d-1;-1!==C;--C)s[C][C]+=1;O=B(s,g(f,b),!0);var P=g(T,p(t,O)),F=1;for(C=v-1;-1!==C;--C)P[C]<0&&(F=N(F,-.999*P[C]));if(u=h(o,m(O,F)),!_(E(T=h(e,p(t,u)),0)))return{solution:o,message:"",iterations:c};if(o=u,b<n)return{solution:u,message:"",iterations:c};if(a){var q=p(r,f),U=p(t,f);for(x=!0,C=v-1;-1!==C;--C)if(q*U[C]<0){x=!1;break}}else x=!(o[d-1]>=0);if(x)return{solution:u,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(r,t,e,n,i){var o=r.length,a=e.length,u=(numeric.sum,numeric.log,numeric.mul,numeric.sub),s=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),f=numeric.rep([a,1],-1),l=numeric.blockMatrix([[t,f]]),m=e,h=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(e)))+1),p=numeric.__solveLP(c,l,m,n,i,h,!1),g=numeric.clone(p.solution);if(g.length=o,numeric.inf(u(e,s(t,g)))<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var y=numeric.__solveLP(r,t,e,n,i-p.iterations,g,!0);return y.iterations+=p.iterations,y},numeric.solveLP=function(r,t,e,n,i,o,a){if(void 0===a&&(a=1e3),void 0===o&&(o=numeric.epsilon),void 0===n)return numeric._solveLP(r,t,e,o,a);var u,s=n.length,c=n[0].length,f=t.length,l=numeric.echelonize(n),m=numeric.rep([c],0),h=l.P,p=[];for(u=h.length-1;-1!==u;--u)m[h[u]]=1;for(u=c-1;-1!==u;--u)0===m[u]&&p.push(u);var g=numeric.getRange,y=numeric.linspace(0,s-1),d=numeric.linspace(0,f-1),v=g(n,y,p),x=g(t,d,h),b=g(t,d,p),w=numeric.dot,M=numeric.sub,A=w(x,l.I),N=M(b,w(A,v)),_=M(e,w(A,i)),E=Array(h.length),S=Array(p.length);for(u=h.length-1;-1!==u;--u)E[u]=r[h[u]];for(u=p.length-1;-1!==u;--u)S[u]=r[p[u]];var j=M(S,w(E,w(l.I,v))),B=numeric._solveLP(j,N,_,o,a),T=B.solution;if(T!=T)return B;var z=w(l.I,M(i,w(v,T))),C=Array(r.length);for(u=h.length-1;-1!==u;--u)C[h[u]]=z[u];for(u=p.length-1;-1!==u;--u)C[p[u]]=T[u];return{solution:C,message:B.message,iterations:B.iterations}},numeric.MPStoLP=function(r){r instanceof String&&r.split("\n");var t,e,n,i,o=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],u=r.length,s=0,c={},f=[],l=0,m={},h=0,p=[],g=[],y=[];function d(e){throw new Error("MPStoLP: "+e+"\nLine "+t+": "+r[t]+"\nCurrent state: "+a[o]+"\n")}for(t=0;t<u;++t){var v=(n=r[t]).match(/\S*/g),x=[];for(e=0;e<v.length;++e)""!==v[e]&&x.push(v[e]);if(0!==x.length){for(e=0;e<a.length&&n.substr(0,a[e].length)!==a[e];++e);if(e<a.length){if(o=e,1===e&&(i=x[1]),6===e)return{name:i,c:p,A:numeric.transpose(g),b:y,rows:c,vars:m}}else switch(o){case 0:case 1:d("Unexpected line");case 2:switch(x[0]){case"N":0===s?s=x[1]:d("Two or more N rows");break;case"L":c[x[1]]=l,f[l]=1,y[l]=0,++l;break;case"G":c[x[1]]=l,f[l]=-1,y[l]=0,++l;break;case"E":c[x[1]]=l,f[l]=0,y[l]=0,++l;break;default:d("Parse error "+numeric.prettyPrint(x))}break;case 3:m.hasOwnProperty(x[0])||(m[x[0]]=h,p[h]=0,g[h]=numeric.rep([l],0),++h);var b=m[x[0]];for(e=1;e<x.length;e+=2)if(x[e]!==s){var w=c[x[e]];g[b][w]=(f[w]<0?-1:1)*parseFloat(x[e+1])}else p[b]=parseFloat(x[e+1]);break;case 4:for(e=1;e<x.length;e+=2)y[c[x[e]]]=(f[c[x[e]]]<0?-1:1)*parseFloat(x[e+1]);break;case 5:break;case 6:d("Internal error")}}}d("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(r,t,e,n,i,o,a){function u(r){var t,n,i=this,o=r.length,a=0,u=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(r=[o++]);a<e;)i.S[a]=a++;for(a=0;a<e;a++)u=c(u+(t=i.S[a])+r[a%o]),n=i.S[u],i.S[a]=n,i.S[u]=t;i.g=function(r){var t=i.S,n=c(i.i+1),o=t[n],a=c(i.j+o),u=t[a];t[n]=u,t[a]=o;for(var s=t[c(o+u)];--r;)n=c(n+1),u=t[a=c(a+(o=t[n]))],t[n]=u,t[a]=o,s=s*e+t[c(o+u)];return i.i=n,i.j=a,s},i.g(e)}function s(r,t,e,n){for(r+="",e=0,n=0;n<r.length;n++)t[c(n)]=c((e^=19*t[c(n)])+r.charCodeAt(n));for(n in r="",t)r+=String.fromCharCode(t[n]);return r}function c(r){return r&e-1}t.seedrandom=function(n,c){var f,l=[];return n=s(function r(t,e,n,i,o){n=[];o=_typeof(t);if(e&&"object"==o)for(i in t)if(i.indexOf("S")<5)try{n.push(r(t[i],e-1))}catch(r){}return n.length?n:t+("string"!=o?"\0":"")}(c?[n,r]:arguments.length?n:[(new Date).getTime(),r,window],3),l),s((f=new u(l)).S,r),t.random=function(){for(var r=f.g(6),t=a,n=0;r<i;)r=(r+n)*e,t*=e,n=f.g(1);for(;r>=o;)r/=2,t/=2,n>>>=1;return(r+n)/t},n},a=t.pow(e,6),i=t.pow(2,i),o=2*i,s(t.random(),r)}([],numeric.seedrandom,256,0,52),function(r){function t(r){if("object"!==_typeof(r))return r;var e,n=[],i=r.length;for(e=0;e<i;e++)n[e+1]=t(r[e]);return n}function e(r){if("object"!==_typeof(r))return r;var t,n=[],i=r.length;for(t=1;t<i;t++)n[t-1]=e(r[t]);return n}function n(r,t,e,n,i,o,a,u,s,c,f,l,m,h,p,g){var y,d,v,x,b,w,M,A,N,_,E,S,j,B,T,z,C,O,k,I,P,F,q,U,D,R,L;j=Math.min(n,c),v=2*n+j*(j+5)/2+2*c+1,U=1e-60;do{D=1+.1*(U+=U),R=1+.2*U}while(D<=1||R<=1);for(y=1;y<=n;y+=1)p[y]=t[y];for(y=n+1;y<=v;y+=1)p[y]=0;for(y=1;y<=c;y+=1)l[y]=0;if(b=[],0===g[1]){if(function(r,t,e,n){var i,o,a,u,s,c;for(o=1;o<=e;o+=1){if(n[1]=o,c=0,(a=o-1)<1){if((c=r[o][o]-c)<=0)break;r[o][o]=Math.sqrt(c)}else{for(u=1;u<=a;u+=1){for(s=r[u][o],i=1;i<u;i+=1)s-=r[i][o]*r[i][u];s/=r[u][u],r[u][o]=s,c+=s*s}if((c=r[o][o]-c)<=0)break;r[o][o]=Math.sqrt(c)}n[1]=0}}(r,0,n,b),0!==b[1])return void(g[1]=2);!function(r,t,e,n){var i,o,a,u;for(o=1;o<=e;o+=1){for(u=0,i=1;i<o;i+=1)u+=r[i][o]*n[i];n[o]=(n[o]-u)/r[o][o]}for(a=1;a<=e;a+=1)for(n[o=e+1-a]=n[o]/r[o][o],u=-n[o],i=1;i<o;i+=1)n[i]=n[i]+u*r[i][o]}(r,0,n,t),function(r,t,e){var n,i,o,a,u;for(o=1;o<=e;o+=1){for(r[o][o]=1/r[o][o],u=-r[o][o],n=1;n<o;n+=1)r[n][o]=u*r[n][o];if(e<(a=o+1))break;for(i=a;i<=e;i+=1)for(u=r[o][i],r[o][i]=0,n=1;n<=o;n+=1)r[n][i]=r[n][i]+u*r[n][o]}}(r,0,n)}else{for(d=1;d<=n;d+=1)for(i[d]=0,y=1;y<=d;y+=1)i[d]=i[d]+r[y][d]*t[y];for(d=1;d<=n;d+=1)for(t[d]=0,y=d;y<=n;y+=1)t[d]=t[d]+r[d][y]*i[y]}for(o[1]=0,d=1;d<=n;d+=1)for(i[d]=t[d],o[1]=o[1]+p[d]*i[d],p[d]=0,y=d+1;y<=n;y+=1)r[y][d]=0;for(o[1]=-o[1]/2,g[1]=0,B=(_=(N=(E=(A=(M=n)+n)+j)+j+1)+j*(j+1)/2)+c,y=1;y<=c;y+=1){for(z=0,d=1;d<=n;d+=1)z+=a[d][y]*a[d][y];p[B+y]=Math.sqrt(z)}function $(){for(h[1]=h[1]+1,v=_,y=1;y<=c;y+=1){for(v+=1,z=-u[y],d=1;d<=n;d+=1)z+=a[d][y]*i[d];if(Math.abs(z)<U&&(z=0),y>f)p[v]=z;else if(p[v]=-Math.abs(z),z>0){for(d=1;d<=n;d+=1)a[d][y]=-a[d][y];u[y]=-u[y]}}for(y=1;y<=m;y+=1)p[_+l[y]]=0;for(S=0,T=0,y=1;y<=c;y+=1)p[_+y]<T*p[B+y]&&(S=y,T=p[_+y]/p[B+y]);return 0===S?999:0}function V(){for(y=1;y<=n;y+=1){for(z=0,d=1;d<=n;d+=1)z+=r[d][y]*a[d][S];p[y]=z}for(x=M,y=1;y<=n;y+=1)p[x+y]=0;for(d=m+1;d<=n;d+=1)for(y=1;y<=n;y+=1)p[x+y]=p[x+y]+r[y][d]*p[d];for(F=!0,y=m;y>=1;y-=1){for(z=p[y],x=(v=N+y*(y+3)/2)-y,d=y+1;d<=m;d+=1)z-=p[v]*p[A+d],v+=d;if(z/=p[x],p[A+y]=z,l[y]<f)break;if(z<0)break;F=!1,w=y}if(!F)for(C=p[E+w]/p[A+w],y=1;y<=m&&!(l[y]<f)&&!(p[A+y]<0);y+=1)(T=p[E+y]/p[A+y])<C&&(C=T,w=y);for(z=0,y=M+1;y<=M+n;y+=1)z+=p[y]*p[y];if(Math.abs(z)<=U){if(F)return g[1]=1,999;for(y=1;y<=m;y+=1)p[E+y]=p[E+y]-C*p[A+y];return p[E+m+1]=p[E+m+1]+C,700}for(z=0,y=1;y<=n;y+=1)z+=p[M+y]*a[y][S];for(O=-p[_+S]/z,q=!0,F||C<O&&(O=C,q=!1),y=1;y<=n;y+=1)i[y]=i[y]+O*p[M+y],Math.abs(i[y])<U&&(i[y]=0);for(o[1]=o[1]+O*z*(O/2+p[E+m+1]),y=1;y<=m;y+=1)p[E+y]=p[E+y]-O*p[A+y];if(p[E+m+1]=p[E+m+1]+O,!q){for(z=-u[S],d=1;d<=n;d+=1)z+=i[d]*a[d][S];if(S>f)p[_+S]=z;else if(p[_+S]=-Math.abs(z),z>0){for(d=1;d<=n;d+=1)a[d][S]=-a[d][S];u[S]=-u[S]}return 700}for(l[m+=1]=S,v=N+(m-1)*m/2+1,y=1;y<=m-1;y+=1)p[v]=p[y],v+=1;if(m===n)p[v]=p[n];else{for(y=n;y>=m+1&&0!==p[y]&&(k=Math.max(Math.abs(p[y-1]),Math.abs(p[y])),I=Math.min(Math.abs(p[y-1]),Math.abs(p[y])),T=p[y-1]>=0?Math.abs(k*Math.sqrt(1+I*I/(k*k))):-Math.abs(k*Math.sqrt(1+I*I/(k*k))),k=p[y-1]/T,I=p[y]/T,1!==k);y-=1)if(0===k)for(p[y-1]=I*T,d=1;d<=n;d+=1)T=r[d][y-1],r[d][y-1]=r[d][y],r[d][y]=T;else for(p[y-1]=T,P=I/(1+k),d=1;d<=n;d+=1)T=k*r[d][y-1]+I*r[d][y],r[d][y]=P*(r[d][y-1]+T)-r[d][y],r[d][y-1]=T;p[v]=p[m]}return 0}function Z(){if(0===p[x=(v=N+w*(w+1)/2+1)+w])return 798;if(k=Math.max(Math.abs(p[x-1]),Math.abs(p[x])),I=Math.min(Math.abs(p[x-1]),Math.abs(p[x])),T=p[x-1]>=0?Math.abs(k*Math.sqrt(1+I*I/(k*k))):-Math.abs(k*Math.sqrt(1+I*I/(k*k))),k=p[x-1]/T,I=p[x]/T,1===k)return 798;if(0===k){for(y=w+1;y<=m;y+=1)T=p[x-1],p[x-1]=p[x],p[x]=T,x+=y;for(y=1;y<=n;y+=1)T=r[y][w],r[y][w]=r[y][w+1],r[y][w+1]=T}else{for(P=I/(1+k),y=w+1;y<=m;y+=1)T=k*p[x-1]+I*p[x],p[x]=P*(p[x-1]+T)-p[x],p[x-1]=T,x+=y;for(y=1;y<=n;y+=1)T=k*r[y][w]+I*r[y][w+1],r[y][w+1]=P*(r[y][w]+T)-r[y][w+1],r[y][w]=T}return 0}function X(){for(x=v-w,y=1;y<=w;y+=1)p[x]=p[v],v+=1,x+=1;return p[E+w]=p[E+w+1],l[w]=l[w+1],(w+=1)<m?797:0}function H(){return p[E+m]=p[E+m+1],p[E+m+1]=0,l[m]=0,m-=1,h[2]=h[2]+1,0}for(m=0,h[1]=0,h[2]=0,L=0;;){if(999===(L=$()))return;for(;0!==(L=V());){if(999===L)return;if(700===L)if(w===m)H();else{for(;Z(),797===(L=X()););H()}}}}numeric.solveQP=function(r,i,o,a,u,s){r=t(r),i=t(i),o=t(o);var c,f,l,m,h,p=[],g=[],y=[],d=[],v=[];if(u=u||0,s=s?t(s):[void 0,0],a=a?t(a):[],f=r.length-1,l=o[1].length-1,!a)for(c=1;c<=l;c+=1)a[c]=0;for(c=1;c<=l;c+=1)g[c]=0;for(m=Math.min(f,l),c=1;c<=f;c+=1)y[c]=0;for(p[1]=0,c=1;c<=2*f+m*(m+5)/2+2*l+1;c+=1)d[c]=0;for(c=1;c<=2;c+=1)v[c]=0;return n(r,i,0,f,y,p,o,a,0,l,u,g,0,v,d,s),h="",1===s[1]&&(h="constraints are inconsistent, no solution!"),2===s[1]&&(h="matrix D in quadratic function is not positive definite!"),{solution:e(y),value:e(p),unconstrained_solution:e(i),iterations:e(v),iact:e(g),message:h}}}(),numeric.svd=function(r){var t,e=numeric.epsilon,n=1e-64/e,i=0,o=0,a=0,u=0,s=0,c=numeric.clone(r),f=c.length,l=c[0].length;if(f<l)throw"Need more rows than columns";var m=new Array(l),h=new Array(l);for(o=0;o<l;o++)m[o]=h[o]=0;var p=numeric.rep([l,l],0);function g(r,t){return(r=Math.abs(r))>(t=Math.abs(t))?r*Math.sqrt(1+t*t/r/r):0==t?r:t*Math.sqrt(1+r*r/t/t)}var y=0,d=0,v=0,x=0,b=0,w=0,M=0;for(o=0;o<l;o++){for(m[o]=d,M=0,s=o+1,a=o;a<f;a++)M+=c[a][o]*c[a][o];if(M<=n)d=0;else for(y=c[o][o],d=Math.sqrt(M),y>=0&&(d=-d),v=y*d-M,c[o][o]=y-d,a=s;a<l;a++){for(M=0,u=o;u<f;u++)M+=c[u][o]*c[u][a];for(y=M/v,u=o;u<f;u++)c[u][a]+=y*c[u][o]}for(h[o]=d,M=0,a=s;a<l;a++)M+=c[o][a]*c[o][a];if(M<=n)d=0;else{for(y=c[o][o+1],d=Math.sqrt(M),y>=0&&(d=-d),v=y*d-M,c[o][o+1]=y-d,a=s;a<l;a++)m[a]=c[o][a]/v;for(a=s;a<f;a++){for(M=0,u=s;u<l;u++)M+=c[a][u]*c[o][u];for(u=s;u<l;u++)c[a][u]+=M*m[u]}}(b=Math.abs(h[o])+Math.abs(m[o]))>x&&(x=b)}for(o=l-1;-1!=o;o+=-1){if(0!=d){for(v=d*c[o][o+1],a=s;a<l;a++)p[a][o]=c[o][a]/v;for(a=s;a<l;a++){for(M=0,u=s;u<l;u++)M+=c[o][u]*p[u][a];for(u=s;u<l;u++)p[u][a]+=M*p[u][o]}}for(a=s;a<l;a++)p[o][a]=0,p[a][o]=0;p[o][o]=1,d=m[o],s=o}for(o=l-1;-1!=o;o+=-1){for(s=o+1,d=h[o],a=s;a<l;a++)c[o][a]=0;if(0!=d){for(v=c[o][o]*d,a=s;a<l;a++){for(M=0,u=s;u<f;u++)M+=c[u][o]*c[u][a];for(y=M/v,u=o;u<f;u++)c[u][a]+=y*c[u][o]}for(a=o;a<f;a++)c[a][o]=c[a][o]/d}else for(a=o;a<f;a++)c[a][o]=0;c[o][o]+=1}for(e*=x,u=l-1;-1!=u;u+=-1)for(var A=0;A<50;A++){var N=!1;for(s=u;-1!=s;s+=-1){if(Math.abs(m[s])<=e){N=!0;break}if(Math.abs(h[s-1])<=e)break}if(!N){i=0,M=1;var _=s-1;for(o=s;o<u+1&&(y=M*m[o],m[o]=i*m[o],!(Math.abs(y)<=e));o++)for(v=g(y,d=h[o]),h[o]=v,i=d/v,M=-y/v,a=0;a<f;a++)b=c[a][_],w=c[a][o],c[a][_]=b*i+w*M,c[a][o]=-b*M+w*i}if(w=h[u],s==u){if(w<0)for(h[u]=-w,a=0;a<l;a++)p[a][u]=-p[a][u];break}if(A>=49)throw"Error: no convergence.";for(x=h[s],d=g(y=(((b=h[u-1])-w)*(b+w)+((d=m[u-1])-(v=m[u]))*(d+v))/(2*v*b),1),y=y<0?((x-w)*(x+w)+v*(b/(y-d)-v))/x:((x-w)*(x+w)+v*(b/(y+d)-v))/x,i=1,M=1,o=s+1;o<u+1;o++){for(d=m[o],b=h[o],v=M*d,d*=i,w=g(y,v),m[o-1]=w,y=x*(i=y/w)+d*(M=v/w),d=-x*M+d*i,v=b*M,b*=i,a=0;a<l;a++)x=p[a][o-1],w=p[a][o],p[a][o-1]=x*i+w*M,p[a][o]=-x*M+w*i;for(w=g(y,v),h[o-1]=w,y=(i=y/w)*d+(M=v/w)*b,x=-M*d+i*b,a=0;a<f;a++)b=c[a][o-1],w=c[a][o],c[a][o-1]=b*i+w*M,c[a][o]=-b*M+w*i}m[s]=0,m[u]=y,h[u]=x}for(o=0;o<h.length;o++)h[o]<e&&(h[o]=0);for(o=0;o<l;o++)for(a=o-1;a>=0;a--)if(h[a]<h[o]){for(i=h[a],h[a]=h[o],h[o]=i,u=0;u<c.length;u++)t=c[u][o],c[u][o]=c[u][a],c[u][a]=t;for(u=0;u<p.length;u++)t=p[u][o],p[u][o]=p[u][a],p[u][a]=t;o=a}return{U:c,S:h,V:p}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],234:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/matrix"));var i=r("numeric"),o=r("pw-stat");function a(r,t){var e=o.cov(r),a=o.cov(t);this.V=i.eig(n.multiply(n.inv(n.add(e,a)),e)).E.x}a.prototype.project=function(r,t){var e=n.multiply(r,this.V);t=void 0!==t?t:e[0].length;for(var i=[],o=0;o<e.length;o++){i.push([]);for(var a=0;a<t;a++){if(a%2==0)var u=a/2;else u=e[0].length-(a+1)/2;i[o].push(e[o][u])}}return i},t.exports=a},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/type/matrix":197,numeric:233,"pw-stat":236}],235:[function(r,t,e){"use strict";var n=r("mathjs/core").create();n.import(r("mathjs/lib/type/matrix")),n.import(r("mathjs/lib/function/arithmetic")),n.import(r("mathjs/lib/function/matrix"));var i=r("pw-stat");function o(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];if(t.length<2)throw new Error("Please pass at least 2 classes");for(var o,a,u,s,c,f,l,m,h,p=t.length*(t.length-1)/2,g=0,y=1,d=new Array(p),v=0;v<p;v++)d[v]=(o=t[g],a=t[y],u=g,s=y,c=void 0,f=void 0,l=void 0,m=void 0,h=void 0,c=n.transpose(i.mean(o)),f=n.transpose(i.mean(a)),l=n.add(i.cov(o),i.cov(a)),m=n.multiply(n.inv(l),n.subtract(f,c)),h=n.multiply(-1,n.transpose(m),n.add(c,f),.5),{theta:m,b:h,class1id:u,class2id:s}),++y==t.length&&(y=++g+1);this.pairs=d,this.numberOfClasses=t.length}function a(r,t,e){return n.add(n.multiply(r,t),e)}o.prototype.project=function(r){if(1!=this.pairs.length)throw new Error("LDA project currently only supports 2 classes. LDA classify can be used to perform multiclass classification.");return a(r,this.pairs[0].theta,this.pairs[0].b)},o.prototype.classify=function(r){if(2==this.numberOfClasses)return a(r,this.pairs[0].theta,this.pairs[0].b)<=0?0:1;for(var t=new Array(this.numberOfClasses),e=0;e<this.numberOfClasses;e++)t[e]=0;for(var n=0;n<this.pairs.length;n++){var i=this.pairs[n];a(r,i.theta,i.b)<=0?t[i.class1id]++:t[i.class2id]++}for(var o=0,u=t[0],s=1;s<t.length;s++)t[s]>u&&(o=s,u=t[s]);return o},t.exports=o},{"mathjs/core":47,"mathjs/lib/function/arithmetic":71,"mathjs/lib/function/matrix":98,"mathjs/lib/type/matrix":197,"pw-stat":236}],236:[function(r,t,e){"use strict";e.cov=function(r){for(var t=r.length,e=[],n=0;n<r[0].length;n++){for(var i=0,o=0;o<t;o++)i+=r[o][n];e.push(i/t)}for(var a=[],u=0;u<t;u++){a.push([]);for(var s=0;s<r[0].length;s++)a[u].push(r[u][s]-e[s])}for(var c=[],f=0;f<r[0].length;f++)c.push([]);for(var l=0;l<r[0].length;l++)for(var m=l;m<r[0].length;m++){for(var h=0,p=0;p<t;p++)h+=a[p][l]*a[p][m];h/=t-1,c[l][m]=h,c[m][l]=h}return c},e.mean=function(r){for(var t=[],e=0;e<r[0].length;e++)t.push(0);for(var n=0;n<r.length;n++)for(var i=0;i<r[n].length;i++)t[i]+=r[n][i];for(var o=0;o<r[0].length;o++)t[o]/=r.length;return t}},{}],237:[function(r,t,e){(function(r){"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var n=256,i=[],o=void 0===r?window:r,a=Math.pow(n,6),u=Math.pow(2,52),s=2*u,c=n-1,f=Math.random;function l(r){var t,e=r.length,i=this,o=0,a=i.i=i.j=0,u=i.S=[];for(e||(r=[e++]);o<n;)u[o]=o++;for(o=0;o<n;o++)u[o]=u[a=c&a+r[o%e]+(t=u[o])],u[a]=t;(i.g=function(r){for(var t,e=0,o=i.i,a=i.j,u=i.S;r--;)t=u[o=c&o+1],e=e*n+u[c&(u[o]=u[a=c&a+t])+(u[a]=t)];return i.i=o,i.j=a,e})(n)}function m(r,t){for(var e,n=r+"",i=0;i<n.length;)t[c&i]=c&(e^=19*t[c&i])+n.charCodeAt(i++);return h(t)}function h(r){return String.fromCharCode.apply(0,r)}t.exports=function(r,c){if(c&&!0===c.global)return c.global=!1,Math.random=t.exports(r,c),c.global=!0,Math.random;var f=[],p=(m(function r(t,n){var i,o=[],a=e(t)[0];if(n&&"o"==a)for(i in t)try{o.push(r(t[i],n-1))}catch(r){}return o.length?o:"s"==a?t:t+"\0"}(c&&c.entropy||!1?[r,h(i)]:0 in arguments?r:function(r){try{return o.crypto.getRandomValues(r=new Uint8Array(n)),h(r)}catch(r){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,h(i)]}}(),3),f),new l(f));return m(h(p.S),i),function(){for(var r=p.g(6),t=a,e=0;r<u;)r=(r+e)*n,t*=n,e=p.g(1);for(;r>=s;)r/=2,t/=2,e>>>=1;return(r+e)/t}},t.exports.resetGlobal=function(){Math.random=f},m(Math.random(),i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],238:[function(r,t,e){"use strict";function n(){}n.prototype={on:function(r,t,e){var n=this.e||(this.e={});return(n[r]||(n[r]=[])).push({fn:t,ctx:e}),this},once:function(r,t,e){var n=this;function i(){n.off(r,i),t.apply(e,arguments)}return i._=t,this.on(r,i,e)},emit:function(r){for(var t=[].slice.call(arguments,1),e=((this.e||(this.e={}))[r]||[]).slice(),n=0,i=e.length;n<i;n++)e[n].fn.apply(e[n].ctx,t);return this},off:function(r,t){var e=this.e||(this.e={}),n=e[r],i=[];if(n&&t)for(var o=0,a=n.length;o<a;o++)n[o].fn!==t&&n[o].fn._!==t&&i.push(n[o]);return i.length?e[r]=i:delete e[r],this}},t.exports=n},{}],239:[function(r,t,e){"use strict";function n(r){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var i;i=function(){return function r(){function t(r){for(var t,e=0;e<d.types.length;e++){var n=d.types[e];if(n.name===r){t=n.test;break}}if(!t){var i;for(e=0;e<d.types.length;e++)if((n=d.types[e]).name.toLowerCase()==r.toLowerCase()){i=n.name;break}throw new Error('Unknown type "'+r+'"'+(i?'. Did you mean "'+i+'"?':""))}return t}function e(r){for(var t="",e=0;e<r.length;e++){var n=r[e];if(n.signatures&&""!=n.name)if(""==t)t=n.name;else if(t!=n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}function i(r,t,e,n,i){var o,a=f(n),u=i?i.split(","):null,s=r||"unnamed",c=u&&l(u,"any"),m={fn:r,index:e,actual:a,expected:u};o=u?t>e&&!c?"Unexpected type of argument in function "+s+" (expected: "+u.join(" or ")+", actual: "+a+", index: "+e+")":"Too few arguments in function "+s+" (expected: "+u.join(" or ")+", index: "+e+")":"Too many arguments in function "+s+" (expected: "+e+", actual: "+t+")";var h=new TypeError(o);return h.data=m,h}function o(r){this.name=r||"refs",this.categories={}}function a(r,t){if("string"==typeof r){var e=r.trim(),n="..."===e.substr(0,3);if(n&&(e=e.substr(3)),""===e)this.types=["any"];else{this.types=e.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(r)){if(r instanceof a)return r.clone();throw new Error("String or Array expected")}this.types=r}this.conversions=[],this.varArgs=n||t||!1,this.anyType=-1!==this.types.indexOf("any")}function u(r,t){var e;if("string"==typeof r)e=""!==r?r.split(","):[];else{if(!Array.isArray(r))throw new Error("string or Array expected");e=r}this.params=new Array(e.length),this.anyType=!1,this.varArgs=!1;for(var n=0;n<e.length;n++){var i=new a(e[n]);if(this.params[n]=i,i.anyType&&(this.anyType=!0),n===e.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=t}function s(r,t,e,n){this.path=r||[],this.param=r[r.length-1]||null,this.signature=t||null,this.childs=e||[],this.fallThrough=n||!1}function c(r,t){var e=new o,n=function(r){var t,e,n={},i=[];for(var o in r)if(r.hasOwnProperty(o)){if((t=new u(o,r[o])).ignore())continue;var a=t.expand();for(e=0;e<a.length;e++){var s=a[e],c=s.toString(),f=n[c];if(f){var m=u.compare(s,f);if(m<0)n[c]=s;else if(0===m)throw new Error('Signature "'+c+'" is defined twice')}else n[c]=s}}for(c in n)n.hasOwnProperty(c)&&i.push(n[c]);for(i.sort(function(r,t){return u.compare(r,t)}),e=0;e<i.length;e++)if((t=i[e]).varArgs)for(var h=t.params.length-1,p=t.params[h],g=0;g<p.types.length;){if(p.conversions[g])for(var y=p.types[g],d=0;d<i.length;d++){var v=i[d],x=v.params[h];if(v!==t&&x&&l(x.types,y)&&!x.conversions[h]){p.types.splice(g,1),p.conversions.splice(g,1),g--;break}}g++}return i}(t);if(0==n.length)throw new Error("No signatures provided");var c=function r(t,e,n){var i,o,u,c=e.length,f=[];for(i=0;i<t.length;i++)(o=t[i]).params.length!==c||u||(u=o),null!=o.params[c]&&f.push(o);f.sort(function(r,t){return a.compare(r.params[c],t.params[c])});var m=[];for(i=0;i<f.length;i++){var h=(o=f[i]).params[c],p=m.filter(function(r){return r.param.overlapping(h)})[0];if(p){if(p.param.varArgs)throw new Error('Conflicting types "'+p.param+'" and "'+h+'"');p.signatures.push(o)}else m.push({param:h,signatures:[o]})}var g=[];for(i=0;i<n.length;i++)n[i].paramsStartWith(e)&&g.push(n[i]);var y=!1;for(i=0;i<g.length;i++)if(!l(t,g[i])){y=!0;break}var d=new Array(m.length);for(i=0;i<m.length;i++){var v=m[i];d[i]=r(v.signatures,e.concat(v.param),g)}return new s(e,u,d,y)}(n,[],function(r){for(var t=[],e=0;e<r.length;e++)r[e].anyType&&t.push(r[e]);return t}(n)),f=[],m=(r||"").replace(/[^a-zA-Z0-9_$]/g,"_"),h=function(r){for(var t=[],e=0;e<r;e++)t[e]="arg"+e;return t}(function(r){for(var t=0,e=0;e<r.length;e++){var n=r[e].params.length;n>t&&(t=n)}return t}(n));f.push("function "+m+"("+h.join(", ")+") {"),f.push('  "use strict";'),f.push("  var name = "+JSON.stringify(r||"")+";"),f.push(c.toCode(e,"  ",!1)),f.push("}");var p=[e.toCode(),"return "+f.join("\n")].join("\n"),g=new Function(e.name,"createError",p)(e,i);return g.signatures=function(r){for(var t={},e=0;e<r.length;e++){var n=r[e];n.fn&&!n.hasConversions()&&(t[n.params.join(",")]=n.fn)}return t}(n),g}function f(r){for(var t,e=0;e<d.types.length;e++){var n=d.types[e];if("Object"===n.name)t=n;else if(n.test(r))return n.name}return t&&t.test(r)?t.name:"unknown"}function l(r,t){return-1!==r.indexOf(t)}function m(r){return r[r.length-1]}o.prototype.add=function(r,t){var e=t||"fn";this.categories[e]||(this.categories[e]=[]);var n=this.categories[e].indexOf(r);return-1==n&&(n=this.categories[e].length,this.categories[e].push(r)),e+n},o.prototype.toCode=function(){var r=[],t=this.name+".categories",e=this.categories;for(var n in e)if(e.hasOwnProperty(n))for(var i=e[n],o=0;o<i.length;o++)r.push("var "+n+o+" = "+t+"['"+n+"']["+o+"];");return r.join("\n")},a.compare=function(r,t){if(r.anyType)return 1;if(t.anyType)return-1;if(l(r.types,"Object"))return 1;if(l(t.types,"Object"))return-1;if(r.hasConversions()){if(t.hasConversions()){var e,n,i;for(e=0;e<r.conversions.length;e++)if(void 0!==r.conversions[e]){n=r.conversions[e];break}for(e=0;e<t.conversions.length;e++)if(void 0!==t.conversions[e]){i=t.conversions[e];break}return d.conversions.indexOf(n)-d.conversions.indexOf(i)}return 1}if(t.hasConversions())return-1;var o,a;for(e=0;e<d.types.length;e++)if(d.types[e].name===r.types[0]){o=e;break}for(e=0;e<d.types.length;e++)if(d.types[e].name===t.types[0]){a=e;break}return o-a},a.prototype.overlapping=function(r){for(var t=0;t<this.types.length;t++)if(l(r.types,this.types[t]))return!0;return!1},a.prototype.matches=function(r){return this.anyType||r.anyType||this.overlapping(r)},a.prototype.clone=function(){var r=new a(this.types.slice(),this.varArgs);return r.conversions=this.conversions.slice(),r},a.prototype.hasConversions=function(){return this.conversions.length>0},a.prototype.contains=function(r){for(var t=0;t<this.types.length;t++)if(r[this.types[t]])return!0;return!1},a.prototype.toString=function(r){for(var t=[],e={},n=0;n<this.types.length;n++){var i=this.conversions[n],o=r&&i?i.to:this.types[n];o in e||(e[o]=!0,t.push(o))}return(this.varArgs?"...":"")+t.join("|")},u.prototype.clone=function(){return new u(this.params.slice(),this.fn)},u.prototype.expand=function(){var r=[];return function t(e,n){if(n.length<e.params.length){var i,o,s,c=e.params[n.length];if(c.varArgs){for(o=c.clone(),i=0;i<d.conversions.length;i++)if(s=d.conversions[i],!l(c.types,s.from)&&l(c.types,s.to)){var f=o.types.length;o.types[f]=s.from,o.conversions[f]=s}t(e,n.concat(o))}else{for(i=0;i<c.types.length;i++)t(e,n.concat(new a(c.types[i])));for(i=0;i<d.conversions.length;i++)s=d.conversions[i],!l(c.types,s.from)&&l(c.types,s.to)&&((o=new a(s.from)).conversions[0]=s,t(e,n.concat(o)))}}else r.push(new u(n,e.fn))}(this,[]),r},u.compare=function(r,t){if(r.params.length>t.params.length)return 1;if(r.params.length<t.params.length)return-1;var e,n=r.params.length,i=0,o=0;for(e=0;e<n;e++)r.params[e].hasConversions()&&i++,t.params[e].hasConversions()&&o++;if(i>o)return 1;if(i<o)return-1;for(e=0;e<r.params.length;e++){var u=a.compare(r.params[e],t.params[e]);if(0!==u)return u}return 0},u.prototype.hasConversions=function(){for(var r=0;r<this.params.length;r++)if(this.params[r].hasConversions())return!0;return!1},u.prototype.ignore=function(){for(var r={},t=0;t<d.ignore.length;t++)r[d.ignore[t]]=!0;for(t=0;t<this.params.length;t++)if(this.params[t].contains(r))return!0;return!1},u.prototype.paramsStartWith=function(r){if(0===r.length)return!0;for(var t=m(this.params),e=m(r),n=0;n<r.length;n++){var i=this.params[n]||(t.varArgs?t:null),o=r[n]||(e.varArgs?e:null);if(!i||!o||!i.matches(o))return!1}return!0},u.prototype.toCode=function(r,t){for(var e=new Array(this.params.length),n=0;n<this.params.length;n++){var i=this.params[n],o=i.conversions[0];i.varArgs?e[n]="varArgs":e[n]=o?r.add(o.convert,"convert")+"(arg"+n+")":"arg"+n}var a=this.fn?r.add(this.fn,"signature"):void 0;return a?t+"return "+a+"("+e.join(", ")+"); // signature: "+this.params.join(", "):[].join("\n")},u.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(r,e){var n=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],a="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(e+"if (arguments.length > "+i+") {"),n.push(e+"  var varArgs = [];"),n.push(e+"  for (var i = "+i+"; i < arguments.length; i++) {"),n.push(e+"    varArgs.push(arguments[i]);"),n.push(e+"  }"),n.push(this.signature.toCode(r,e+"  ")),n.push(e+"}");else{for(var u=function(e,n){for(var i=[],o=0;o<e.length;o++)i[o]=r.add(t(e[o]),"test")+"("+n+")";return i.join(" || ")}.bind(this),s=this.param.types,c=[],f=0;f<s.length;f++)void 0===this.param.conversions[f]&&c.push(s[f]);for(n.push(e+"if ("+u(s,"arg"+i)+") { "+a),n.push(e+"  var varArgs = [arg"+i+"];"),n.push(e+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),n.push(e+"    if ("+u(c,"arguments[i]")+") {"),n.push(e+"      varArgs.push(arguments[i]);"),f=0;f<s.length;f++){var l=this.param.conversions[f];if(l){var m=r.add(t(s[f]),"test"),h=r.add(l.convert,"convert");n.push(e+"    }"),n.push(e+"    else if ("+m+"(arguments[i])) {"),n.push(e+"      varArgs.push("+h+"(arguments[i]));")}}n.push(e+"    } else {"),n.push(e+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),n.push(e+"    }"),n.push(e+"  }"),n.push(this.signature.toCode(r,e+"  ")),n.push(e+"}")}else if(this.param.anyType)n.push(e+"// type: any"),n.push(this._innerCode(r,e));else{var p=this.param.types[0];m="any"!==p?r.add(t(p),"test"):null,n.push(e+"if ("+m+"(arg"+i+")) { "+a),n.push(this._innerCode(r,e+"  ")),n.push(e+"}")}}else n.push(this._innerCode(r,e));return n.join("\n")},s.prototype._innerCode=function(r,t){var e,n=[];for(this.signature&&(n.push(t+"if (arguments.length === "+this.path.length+") {"),n.push(this.signature.toCode(r,t+"  ")),n.push(t+"}")),e=0;e<this.childs.length;e++)n.push(this.childs[e].toCode(r,t));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(r,t);i&&n.push(i)}return n.join("\n")},s.prototype._exceptions=function(r,t){var e=this.path.length;if(0===this.childs.length)return[t+"if (arguments.length > "+e+") {",t+"  throw createError(name, arguments.length, "+e+", arguments["+e+"]);",t+"}"].join("\n");for(var n={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var u=0;u<a.param.types.length;u++){var s=a.param.types[u];s in n||a.param.conversions[u]||(n[s]=!0,i.push(s))}}return t+"throw createError(name, arguments.length, "+e+", arguments["+e+"], '"+i.join(",")+"');"};var h=[{name:"number",test:function(r){return"number"==typeof r}},{name:"string",test:function(r){return"string"==typeof r}},{name:"boolean",test:function(r){return"boolean"==typeof r}},{name:"Function",test:function(r){return"function"==typeof r}},{name:"Array",test:Array.isArray},{name:"Date",test:function(r){return r instanceof Date}},{name:"RegExp",test:function(r){return r instanceof RegExp}},{name:"Object",test:function(r){return"object"===n(r)}},{name:"null",test:function(r){return null===r}},{name:"undefined",test:function(r){return void 0===r}}],p={},g=[],y=[],d={config:p,types:h,conversions:g,ignore:y};return(d=c("typed",{Object:function(r){var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(r[n]);return c(e(t),r)},"string, Object":c,"...Function":function(r){for(var t,i=e(r),o={},a=0;a<r.length;a++){var u=r[a];if("object"!==n(u.signatures))throw(t=new TypeError("Function is no typed-function (index: "+a+")")).data={index:a},t;for(var s in u.signatures)if(u.signatures.hasOwnProperty(s))if(o.hasOwnProperty(s)){if(u.signatures[s]!==o[s])throw(t=new Error('Signature "'+s+'" is defined twice')).data={signature:s},t}else o[s]=u.signatures[s]}return c(i,o)}})).config=p,d.types=h,d.conversions=g,d.ignore=y,d.create=r,d.find=function(r,t){if(!r.signatures)throw new TypeError("Function is no typed-function");var e;if("string"==typeof t){e=t.split(",");for(var n=0;n<e.length;n++)e[n]=e[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");e=t}var i=e.join(","),o=r.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+e.join(", ")+"))")},d.convert=function(r,t){var e=f(r);if(t===e)return r;for(var n=0;n<d.conversions.length;n++){var i=d.conversions[n];if(i.from===e&&i.to===t)return i.convert(r)}throw new Error("Cannot convert from "+e+" to "+t)},d.addType=function(r){if(!r||"string"!=typeof r.name||"function"!=typeof r.test)throw new TypeError("Object with properties {name: string, test: function} expected");d.types.push(r)},d.addConversion=function(r){if(!r||"string"!=typeof r.from||"string"!=typeof r.to||"function"!=typeof r.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");d.conversions.push(r)},d}()},"function"==typeof define&&define.amd?define([],i):"object"===(void 0===e?"undefined":n(e))?t.exports=i():(void 0).typed=i()},{}],240:[function(r,t,e){"use strict";t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},{}],241:[function(r,t,e){"use strict";var n=r("defaults"),i=r("./combining"),o={nul:0,control:0};function a(r,t){if("string"!=typeof r)return u(r,t);for(var e=0,n=0;n<r.length;n++){var i=u(r.charCodeAt(n),t);if(i<0)return-1;e+=i}return e}function u(r,t){return 0===r?t.nul:r<32||r>=127&&r<160?t.control:function(r){var t,e=0,n=i.length-1;if(r<i[0][0]||r>i[n][1])return!1;for(;n>=e;)if(t=Math.floor((e+n)/2),r>i[t][1])e=t+1;else{if(!(r<i[t][0]))return!0;n=t-1}return!1}(r)?0:1+(r>=4352&&(r<=4447||9001==r||9002==r||r>=11904&&r<=42191&&12351!=r||r>=44032&&r<=55203||r>=63744&&r<=64255||r>=65040&&r<=65049||r>=65072&&r<=65135||r>=65280&&r<=65376||r>=65504&&r<=65510||r>=131072&&r<=196605||r>=196608&&r<=262141))}t.exports=function(r){return a(r,o)},t.exports.config=function(r){return r=n(r||{},o),function(t){return a(t,r)}}},{"./combining":240,defaults:41}]},{},[1])(1)});